"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/../../node_modules/posthog-js/dist/module.js":
/*!****************************************************!*\
  !*** ../../node_modules/posthog-js/dist/module.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ te),\n/* harmony export */   Compression: () => (/* binding */ ie),\n/* harmony export */   DisplaySurveyType: () => (/* binding */ Mn),\n/* harmony export */   PostHog: () => (/* binding */ Io),\n/* harmony export */   SurveyEventName: () => (/* binding */ On),\n/* harmony export */   SurveyEventProperties: () => (/* binding */ Fn),\n/* harmony export */   SurveyPosition: () => (/* binding */ Pn),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ Rn),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ In),\n/* harmony export */   SurveySchedule: () => (/* binding */ Cn),\n/* harmony export */   SurveyType: () => (/* binding */ Tn),\n/* harmony export */   SurveyWidgetType: () => (/* binding */ kn),\n/* harmony export */   \"default\": () => (/* binding */ Co),\n/* harmony export */   posthog: () => (/* binding */ Co),\n/* harmony export */   severityLevels: () => (/* binding */ ee)\n/* harmony export */ });\nvar t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,e=Array.prototype,r=e.forEach,s=e.indexOf,n=null==i?void 0:i.navigator,o=null==i?void 0:i.document,a=null==i?void 0:i.location,l=null==i?void 0:i.fetch,u=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,h=null==i?void 0:i.AbortController,d=null==n?void 0:n.userAgent,v=null!=t?t:{},c={DEBUG:!1,LIB_VERSION:\"1.275.1\"};function f(t,i,e,r,s,n,o){try{var a=t[n](o),l=a.value}catch(t){return void e(t)}a.done?i(l):Promise.resolve(l).then(r,s)}function p(t){return function(){var i=this,e=arguments;return new Promise((function(r,s){var n=t.apply(i,e);function o(t){f(n,r,s,o,a,\"next\",t)}function a(t){f(n,r,s,o,a,\"throw\",t)}o(void 0)}))}}function g(){return g=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},g.apply(null,arguments)}function _(t,i){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==i.indexOf(r))continue;e[r]=t[r]}return e}var m=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];function y(t,i){return-1!==t.indexOf(i)}var b=function(t){return t.trim()},w=function(t){return t.replace(/^\\$/,\"\")};var S=Array.isArray,x=Object.prototype,E=x.hasOwnProperty,k=x.toString,P=S||function(t){return\"[object Array]\"===k.call(t)},T=t=>\"function\"==typeof t,I=t=>t===Object(t)&&!P(t),R=t=>{if(I(t)){for(var i in t)if(E.call(t,i))return!1;return!0}return!1},C=t=>void 0===t,O=t=>\"[object String]\"==k.call(t),F=t=>O(t)&&0===t.trim().length,M=t=>null===t,A=t=>C(t)||M(t),j=t=>\"[object Number]\"==k.call(t),D=t=>\"[object Boolean]\"===k.call(t),L=t=>t instanceof FormData,N=t=>y(m,t);function U(t){return null===t||\"object\"!=typeof t}function z(t,i){return Object.prototype.toString.call(t)===\"[object \"+i+\"]\"}function H(t){return!C(Event)&&function(t,i){try{return t instanceof i}catch(t){return!1}}(t,Event)}var B=[!0,\"true\",1,\"1\",\"yes\"],q=t=>y(B,t),W=[!1,\"false\",0,\"0\",\"no\"];function G(t,i,e,r,s){return i>e&&(r.warn(\"min cannot be greater than max.\"),i=e),j(t)?t>e?(r.warn(\" cannot be  greater than max: \"+e+\". Using max value instead.\"),e):t<i?(r.warn(\" cannot be less than min: \"+i+\". Using min value instead.\"),i):t:(r.warn(\" must be a number. using max or fallback. max: \"+e+\", fallback: \"+s),G(s||e,i,e,r))}class V{constructor(t){this.t=t,this.i={},this.o=()=>{Object.keys(this.i).forEach((t=>{var i=this.h(t)+this.m;i>=this.S?delete this.i[t]:this.$(t,i)}))},this.h=t=>this.i[String(t)],this.$=(t,i)=>{this.i[String(t)]=i},this.consumeRateLimit=t=>{var i,e,r=null!==(i=this.h(t))&&void 0!==i?i:this.S;if(0===(r=Math.max(r-1,0)))return!0;this.$(t,r);var s=0===r;return s&&(null==(e=this.k)||e.call(this,t)),s},this.k=this.t.k,this.S=G(this.t.bucketSize,0,100,this.t.P),this.m=G(this.t.refillRate,0,this.S,this.t.P),this.T=G(this.t.refillInterval,0,864e5,this.t.P),this.I=setInterval((()=>{this.o()}),this.T)}stop(){this.I&&(clearInterval(this.I),this.I=void 0)}}var J,K,Y,X=t=>t instanceof Error;function Q(t){var i=globalThis._posthogChunkIds;if(i){var e=Object.keys(i);return Y&&e.length===K||(K=e.length,Y=e.reduce(((e,r)=>{J||(J={});var s=J[r];if(s)e[s[0]]=s[1];else for(var n=t(r),o=n.length-1;o>=0;o--){var a=n[o],l=null==a?void 0:a.filename,u=i[r];if(l&&u){e[l]=u,J[r]=[l,u];break}}return e}),{})),Y}}var Z=\"?\";function tt(t,i,e,r){var s={platform:\"web:javascript\",filename:t,function:\"<anonymous>\"===i?Z:i,in_app:!0};return C(e)||(s.lineno=e),C(r)||(s.colno=r),s}var it=(t,i)=>{var e=-1!==t.indexOf(\"safari-extension\"),r=-1!==t.indexOf(\"safari-web-extension\");return e||r?[-1!==t.indexOf(\"@\")?t.split(\"@\")[0]:Z,e?\"safari-extension:\"+i:\"safari-web-extension:\"+i]:[t,i]},et=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,rt=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,st=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,nt=t=>{var i=et.exec(t);if(i){var[,e,r,s]=i;return tt(e,Z,+r,+s)}var n=rt.exec(t);if(n){if(n[2]&&0===n[2].indexOf(\"eval\")){var o=st.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}var[a,l]=it(n[1]||Z,n[2]);return tt(l,a,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},ot=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,at=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,lt=t=>{var i=ot.exec(t);if(i){if(i[3]&&i[3].indexOf(\" > eval\")>-1){var e=at.exec(i[3]);e&&(i[1]=i[1]||\"eval\",i[3]=e[1],i[4]=e[2],i[5]=\"\")}var r=i[3],s=i[1]||Z;return[s,r]=it(s,r),tt(r,s,i[4]?+i[4]:void 0,i[5]?+i[5]:void 0)}},ut=/\\(error: (.*)\\)/,ht=50;function dt(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return function(t,e){void 0===e&&(e=0);for(var r=[],s=t.split(\"\\n\"),n=e;n<s.length;n++){var o=s[n];if(!(o.length>1024)){var a=ut.test(o)?o.replace(ut,\"$1\"):o;if(!a.match(/\\S*Error: /)){for(var l of i){var u=l(a);if(u){r.push(u);break}}if(r.length>=ht)break}}}return function(t){if(!t.length)return[];var i=Array.from(t);return i.reverse(),i.slice(0,ht).map((t=>{return g({},t,{filename:t.filename||(e=i,e[e.length-1]||{}).filename,function:t.function||Z});var e}))}(r)}}class vt{constructor(t,i,e){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===e&&(e=[]),this.coercers=t,this.modifiers=e,this.stackParser=dt(...i)}buildFromUnknown(t,i){void 0===i&&(i={});var e=i&&i.mechanism||{handled:!0,type:\"generic\"},r=this.buildCoercingContext(e,i,0).apply(t),s=this.buildParsingContext(),n=this.parseStacktrace(r,s);return{$exception_list:this.convertToExceptionList(n,e),$exception_level:\"error\"}}modifyFrames(t){var i=this;return p((function*(){for(var e of t)e.stacktrace&&e.stacktrace.frames&&P(e.stacktrace.frames)&&(e.stacktrace.frames=yield i.applyModifiers(e.stacktrace.frames));return t}))()}coerceFallback(t){var i;return{type:\"Error\",value:\"Unknown error\",stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}parseStacktrace(t,i){var e,r;return null!=t.cause&&(e=this.parseStacktrace(t.cause,i)),\"\"!=t.stack&&null!=t.stack&&(r=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),i.chunkIdMap)),g({},t,{cause:e,stack:r})}applyChunkIds(t,i){return t.map((t=>(t.filename&&i&&(t.chunk_id=i[t.filename]),t)))}applyCoercers(t,i){for(var e of this.coercers)if(e.match(t))return e.coerce(t,i);return this.coerceFallback(i)}applyModifiers(t){var i=this;return p((function*(){var e=t;for(var r of i.modifiers)e=yield r(e);return e}))()}convertToExceptionList(t,i){var e,r,s,n={type:t.type,value:t.value,mechanism:{type:null!==(e=i.type)&&void 0!==e?e:\"generic\",handled:null===(r=i.handled)||void 0===r||r,synthetic:null!==(s=t.synthetic)&&void 0!==s&&s}};t.stack&&(n.stacktrace={type:\"raw\",frames:t.stack});var o=[n];return null!=t.cause&&o.push(...this.convertToExceptionList(t.cause,g({},i,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:Q(this.stackParser)}}buildCoercingContext(t,i,e){void 0===e&&(e=0);var r=(e,r)=>{if(r<=4){var s=this.buildCoercingContext(t,i,r);return this.applyCoercers(e,s)}};return g({},i,{syntheticException:0==e?i.syntheticException:void 0,mechanism:t,apply:t=>r(t,e),next:t=>r(t,e+1)})}}class ct{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,i){var e=O(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:e?t.stack:void 0,cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?\"DOMError\":\"DOMException\"}getValue(t){var i=t.name||(this.isDOMError(t)?\"DOMError\":\"DOMException\");return t.message?i+\": \"+t.message:i}isDOMException(t){return z(t,\"DOMException\")}isDOMError(t){return z(t,\"DOMError\")}}class ft{match(t){return(t=>t instanceof Error)(t)}coerce(t,i){return{type:this.getType(t),value:this.getMessage(t,i),stack:this.getStack(t),cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,i){var e=t.message;return e.error&&\"string\"==typeof e.error.message?String(e.error.message):String(e)}getStack(t){return t.stacktrace||t.stack||void 0}}class pt{constructor(){}match(t){return z(t,\"ErrorEvent\")&&null!=t.error}coerce(t,i){var e,r=i.apply(t.error);return r||{type:\"ErrorEvent\",value:t.message,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}var gt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class _t{match(t){return\"string\"==typeof t}coerce(t,i){var e,[r,s]=this.getInfos(t);return{type:null!=r?r:\"Error\",value:null!=s?s:t,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}getInfos(t){var i=\"Error\",e=t,r=t.match(gt);return r&&(i=r[1],e=r[2]),[i,e]}}var mt=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function yt(t,i){void 0===i&&(i=40);var e=Object.keys(t);if(e.sort(),!e.length)return\"[object has no keys]\";for(var r=e.length;r>0;r--){var s=e.slice(0,r).join(\", \");if(!(s.length>i))return r===e.length||s.length<=i?s:s.slice(0,i)+\"...\"}return\"\"}class bt{match(t){return\"object\"==typeof t&&null!==t}coerce(t,i){var e,r=this.getErrorPropertyFromObject(t);return r?i.apply(r):{type:this.getType(t),value:this.getValue(t),stack:null==(e=i.syntheticException)?void 0:e.stack,level:this.isSeverityLevel(t.level)?t.level:\"error\",synthetic:!0}}getType(t){return H(t)?t.constructor.name:\"Error\"}getValue(t){if(\"name\"in t&&\"string\"==typeof t.name){var i=\"'\"+t.name+\"' captured as exception\";return\"message\"in t&&\"string\"==typeof t.message&&(i+=\" with message: '\"+t.message+\"'\"),i}if(\"message\"in t&&\"string\"==typeof t.message)return t.message;var e=this.getObjectClassName(t);return(e&&\"Object\"!==e?\"'\"+e+\"'\":\"Object\")+\" captured as exception with keys: \"+yt(t)}isSeverityLevel(t){return O(t)&&!F(t)&&mt.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e=t[i];if(X(e))return e}}getObjectClassName(t){try{var i=Object.getPrototypeOf(t);return i?i.constructor.name:void 0}catch(t){return}}}class wt{match(t){return H(t)}coerce(t,i){var e,r=t.constructor.name;return{type:r,value:r+\" captured as exception with keys: \"+yt(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class St{match(t){return U(t)}coerce(t,i){var e;return{type:\"Error\",value:\"Primitive value captured as exception: \"+String(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class xt{match(t){return z(t,\"PromiseRejectionEvent\")}coerce(t,i){var e,r=this.getUnhandledRejectionReason(t);return U(r)?{type:\"UnhandledRejection\",value:\"Non-Error promise rejection captured with value: \"+String(r),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}:i.apply(r)}getUnhandledRejectionReason(t){if(U(t))return t;try{if(\"reason\"in t)return t.reason;if(\"detail\"in t&&\"reason\"in t.detail)return t.detail.reason}catch(t){}return t}}var Et=i=>{var e={R:function(e){if(t&&(c.DEBUG||v.POSTHOG_DEBUG)&&!C(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[e]?t.console[e].__rrweb_original__:t.console[e]),s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];r(i,...n)}},info:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.R(\"log\",...i)},warn:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.R(\"warn\",...i)},error:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.R(\"error\",...i)},critical:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];console.error(i,...e)},uninitializedWarning:t=>{e.error(\"You must initialize PostHog before calling \"+t)},createLogger:t=>Et(i+\" \"+t)};return e},$t=Et(\"[PostHog.js]\"),kt=$t.createLogger,Pt=kt(\"[ExternalScriptsLoader]\"),Tt=(t,i,e)=>{if(t.config.disable_external_dependency_loading)return Pt.warn(i+\" was requested but loading of external scripts is disabled.\"),e(\"Loading of external scripts is disabled\");var r=null==o?void 0:o.querySelectorAll(\"script\");if(r)for(var s,n=function(){if(r[a].src===i){var t=r[a];return t.__posthog_loading_callback_fired?{v:e()}:(t.addEventListener(\"load\",(i=>{t.__posthog_loading_callback_fired=!0,e(void 0,i)})),t.onerror=t=>e(t),{v:void 0})}},a=0;a<r.length;a++)if(s=n())return s.v;var l=()=>{if(!o)return e(\"document not found\");var r=o.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=i,r.onload=t=>{r.__posthog_loading_callback_fired=!0,e(void 0,t)},r.onerror=t=>e(t),t.config.prepare_external_dependency_script&&(r=t.config.prepare_external_dependency_script(r)),!r)return e(\"prepare_external_dependency_script returned null\");var s,n=o.querySelectorAll(\"body > script\");n.length>0?null==(s=n[0].parentNode)||s.insertBefore(r,n[0]):o.body.appendChild(r)};null!=o&&o.body?l():null==o||o.addEventListener(\"DOMContentLoaded\",l)};v.__PosthogExtensions__=v.__PosthogExtensions__||{},v.__PosthogExtensions__.loadExternalDependency=(t,i,e)=>{var r=\"/static/\"+i+\".js?v=\"+t.version;if(\"remote-config\"===i&&(r=\"/array/\"+t.config.token+\"/config.js\"),\"toolbar\"===i){var s=3e5;r=r+\"&t=\"+Math.floor(Date.now()/s)*s}var n=t.requestRouter.endpointFor(\"assets\",r);Tt(t,n,e)},v.__PosthogExtensions__.loadSiteApp=(t,i,e)=>{var r=t.requestRouter.endpointFor(\"api\",i);Tt(t,r,e)};var It={};function Rt(t,i,e){if(P(t))if(r&&t.forEach===r)t.forEach(i,e);else if(\"length\"in t&&t.length===+t.length)for(var s=0,n=t.length;s<n;s++)if(s in t&&i.call(e,t[s],s)===It)return}function Ct(t,i,e){if(!A(t)){if(P(t))return Rt(t,i,e);if(L(t)){for(var r of t.entries())if(i.call(e,r[1],r[0])===It)return}else for(var s in t)if(E.call(t,s)&&i.call(e,t[s],s)===It)return}}var Ot=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Rt(e,(function(i){for(var e in i)void 0!==i[e]&&(t[e]=i[e])})),t},Ft=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Rt(e,(function(i){Rt(i,(function(i){t.push(i)}))})),t};function Mt(t){for(var i=Object.keys(t),e=i.length,r=new Array(e);e--;)r[e]=[i[e],t[i[e]]];return r}var At=function(t){try{return t()}catch(t){return}},jt=function(t){return function(){try{for(var i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return t.apply(this,e)}catch(t){$t.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),$t.critical(t)}}},Dt=function(t){var i={};return Ct(t,(function(t,e){(O(t)&&t.length>0||j(t))&&(i[e]=t)})),i};function Lt(t,i){return e=t,r=t=>O(t)&&!M(i)?t.slice(0,i):t,s=new Set,function t(i,e){return i!==Object(i)?r?r(i,e):i:s.has(i)?void 0:(s.add(i),P(i)?(n=[],Rt(i,(i=>{n.push(t(i))}))):(n={},Ct(i,((i,e)=>{s.has(i)||(n[e]=t(i,e))}))),n);var n}(e);var e,r,s}var Nt=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function Ut(t){var i=null==t?void 0:t.hostname;if(!O(i))return!1;var e=i.split(\".\").slice(-2).join(\".\");for(var r of Nt)if(e===r)return!1;return!0}function zt(t,i){for(var e=0;e<t.length;e++)if(i(t[e]))return t[e]}function Ht(t,i,e,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==t||t.addEventListener(i,e,{capture:s,passive:n})}var Bt=\"$people_distinct_id\",qt=\"__alias\",Wt=\"__timers\",Gt=\"$autocapture_disabled_server_side\",Vt=\"$heatmaps_enabled_server_side\",Jt=\"$exception_capture_enabled_server_side\",Kt=\"$error_tracking_suppression_rules\",Yt=\"$error_tracking_capture_extension_exceptions\",Xt=\"$web_vitals_enabled_server_side\",Qt=\"$dead_clicks_enabled_server_side\",Zt=\"$web_vitals_allowed_metrics\",ti=\"$session_recording_remote_config\",ii=\"$sesid\",ei=\"$session_is_sampled\",ri=\"$enabled_feature_flags\",si=\"$early_access_features\",ni=\"$feature_flag_details\",oi=\"$stored_person_properties\",ai=\"$stored_group_properties\",li=\"$surveys\",ui=\"$surveys_activated\",hi=\"$flag_call_reported\",di=\"$user_state\",vi=\"$client_session_props\",ci=\"$capture_rate_limit\",fi=\"$initial_campaign_params\",pi=\"$initial_referrer_info\",gi=\"$initial_person_info\",_i=\"$epp\",mi=\"__POSTHOG_TOOLBAR__\",yi=\"$posthog_cookieless\",bi=[Bt,qt,\"__cmpns\",Wt,\"$session_recording_enabled_server_side\",Vt,ii,ri,Kt,di,si,ni,ai,oi,li,hi,vi,ci,fi,pi,_i,gi];function wi(t){return t instanceof Element&&(t.id===mi||!(null==t.closest||!t.closest(\".toolbar-global-fade-container\")))}function Si(t){return!!t&&1===t.nodeType}function xi(t,i){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===i.toLowerCase()}function Ei(t){return!!t&&3===t.nodeType}function $i(t){return!!t&&11===t.nodeType}function ki(t){return t?b(t).split(/\\s+/):[]}function Pi(i){var e=null==t?void 0:t.location.href;return!!(e&&i&&i.some((t=>e.match(t))))}function Ti(t){var i=\"\";switch(typeof t.className){case\"string\":i=t.className;break;case\"object\":i=(t.className&&\"baseVal\"in t.className?t.className.baseVal:null)||t.getAttribute(\"class\")||\"\";break;default:i=\"\"}return ki(i)}function Ii(t){return A(t)?null:b(t).split(/(\\s+)/).filter((t=>Vi(t))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function Ri(t){var i=\"\";return Ni(t)&&!Ui(t)&&t.childNodes&&t.childNodes.length&&Ct(t.childNodes,(function(t){var e;Ei(t)&&t.textContent&&(i+=null!==(e=Ii(t.textContent))&&void 0!==e?e:\"\")})),b(i)}function Ci(t){return C(t.target)?t.srcElement||null:null!=(i=t.target)&&i.shadowRoot?t.composedPath()[0]||null:t.target||null;var i}var Oi=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function Fi(t,i){if(C(i))return!0;var e,r=function(t){if(i.some((i=>t.matches(i))))return{v:!0}};for(var s of t)if(e=r(s))return e.v;return!1}function Mi(t){var i=t.parentNode;return!(!i||!Si(i))&&i}var Ai=[\".ph-no-rageclick\",\".ph-no-capture\"];var ji=t=>!t||xi(t,\"html\")||!Si(t),Di=(i,e)=>{if(!t||ji(i))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,s=[i],n=i;n.parentNode&&!xi(n,\"body\");)if($i(n.parentNode))s.push(n.parentNode.host),n=n.parentNode.host;else{var o=Mi(n);if(!o)break;if(e||Oi.indexOf(o.tagName.toLowerCase())>-1)r=!0;else{var a=t.getComputedStyle(o);a&&\"pointer\"===a.getPropertyValue(\"cursor\")&&(r=!0)}s.push(o),n=o}return{parentIsUsefulElement:r,targetElementList:s}};function Li(i,e,r,s,n){var o,a,l,u;if(void 0===r&&(r=void 0),!t||ji(i))return!1;if(null!=(o=r)&&o.url_allowlist&&!Pi(r.url_allowlist))return!1;if(null!=(a=r)&&a.url_ignorelist&&Pi(r.url_ignorelist))return!1;if(null!=(l=r)&&l.dom_event_allowlist){var h=r.dom_event_allowlist;if(h&&!h.some((t=>e.type===t)))return!1}var{parentIsUsefulElement:d,targetElementList:v}=Di(i,s);if(!function(t,i){var e=null==i?void 0:i.element_allowlist;if(C(e))return!0;var r,s=function(t){if(e.some((i=>t.tagName.toLowerCase()===i)))return{v:!0}};for(var n of t)if(r=s(n))return r.v;return!1}(v,r))return!1;if(!Fi(v,null==(u=r)?void 0:u.css_selector_allowlist))return!1;var c=t.getComputedStyle(i);if(c&&\"pointer\"===c.getPropertyValue(\"cursor\")&&\"click\"===e.type)return!0;var f=i.tagName.toLowerCase();switch(f){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(e.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(e.type)>=0;default:return d?(n||[\"click\"]).indexOf(e.type)>=0:(n||[\"click\"]).indexOf(e.type)>=0&&(Oi.indexOf(f)>-1||\"true\"===i.getAttribute(\"contenteditable\"))}}function Ni(t){for(var i=t;i.parentNode&&!xi(i,\"body\");i=i.parentNode){var e=Ti(i);if(y(e,\"ph-sensitive\")||y(e,\"ph-no-capture\"))return!1}if(y(Ti(t),\"ph-include\"))return!0;var r=t.type||\"\";if(O(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var s=t.name||t.id||\"\";if(O(s)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Ui(t){return!!(xi(t,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(t.type)||xi(t,\"select\")||xi(t,\"textarea\")||\"true\"===t.getAttribute(\"contenteditable\"))}var zi=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",Hi=new RegExp(\"^(?:\"+zi+\")$\"),Bi=new RegExp(zi),qi=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",Wi=new RegExp(\"^(\"+qi+\")$\"),Gi=new RegExp(\"(\"+qi+\")\");function Vi(t,i){if(void 0===i&&(i=!0),A(t))return!1;if(O(t)){if(t=b(t),(i?Hi:Bi).test((t||\"\").replace(/[- ]/g,\"\")))return!1;if((i?Wi:Gi).test(t))return!1}return!0}function Ji(t){var i=Ri(t);return Vi(i=(i+\" \"+Ki(t)).trim())?i:\"\"}function Ki(t){var i=\"\";return t&&t.childNodes&&t.childNodes.length&&Ct(t.childNodes,(function(t){var e;if(t&&\"span\"===(null==(e=t.tagName)?void 0:e.toLowerCase()))try{var r=Ri(t);i=(i+\" \"+r).trim(),t.childNodes&&t.childNodes.length&&(i=(i+\" \"+Ki(t)).trim())}catch(t){$t.error(\"[AutoCapture]\",t)}})),i}function Yi(t){return function(t){var i=t.map((t=>{var i,e,r=\"\";if(t.tag_name&&(r+=t.tag_name),t.attr_class)for(var s of(t.attr_class.sort(),t.attr_class))r+=\".\"+s.replace(/\"/g,\"\");var n=g({},t.text?{text:t.text}:{},{\"nth-child\":null!==(i=t.nth_child)&&void 0!==i?i:0,\"nth-of-type\":null!==(e=t.nth_of_type)&&void 0!==e?e:0},t.href?{href:t.href}:{},t.attr_id?{attr_id:t.attr_id}:{},t.attributes),o={};return Mt(n).sort(((t,i)=>{var[e]=t,[r]=i;return e.localeCompare(r)})).forEach((t=>{var[i,e]=t;return o[Xi(i.toString())]=Xi(e.toString())})),r+=\":\",r+=Mt(o).map((t=>{var[i,e]=t;return i+'=\"'+e+'\"'})).join(\"\")}));return i.join(\";\")}(function(t){return t.map((t=>{var i,e,r={text:null==(i=t.$el_text)?void 0:i.slice(0,400),tag_name:t.tag_name,href:null==(e=t.attr__href)?void 0:e.slice(0,2048),attr_class:Qi(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return Mt(t).filter((t=>{var[i]=t;return 0===i.indexOf(\"attr__\")})).forEach((t=>{var[i,e]=t;return r.attributes[i]=e})),r}))}(t))}function Xi(t){return t.replace(/\"|\\\\\"/g,'\\\\\"')}function Qi(t){var i=t.attr__class;return i?P(i)?i:ki(i):void 0}class Zi{constructor(){this.clicks=[]}isRageClick(t,i,e){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(t-r.x)+Math.abs(i-r.y)<30&&e-r.timestamp<1e3){if(this.clicks.push({x:t,y:i,timestamp:e}),3===this.clicks.length)return!0}else this.clicks=[{x:t,y:i,timestamp:e}];return!1}}var te=\"$copy_autocapture\",ie=function(t){return t.GZipJS=\"gzip-js\",t.Base64=\"base64\",t}({}),ee=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],re=t=>{var i=null==o?void 0:o.createElement(\"a\");return C(i)?null:(i.href=t,i)},se=function(t,i){var e,r;void 0===i&&(i=\"&\");var s=[];return Ct(t,(function(t,i){C(t)||C(i)||\"undefined\"===i||(e=encodeURIComponent((t=>t instanceof File)(t)?t.name:t.toString()),r=encodeURIComponent(i),s[s.length]=r+\"=\"+e)})),s.join(i)},ne=function(t,i){for(var e,r=((t.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),s=0;s<r.length;s++){var n=r[s].split(\"=\");if(n[0]===i){e=n;break}}if(!P(e)||e.length<2)return\"\";var o=e[1];try{o=decodeURIComponent(o)}catch(t){$t.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},oe=function(t,i,e){if(!t||!i||!i.length)return t;for(var r=t.split(\"#\"),s=r[0]||\"\",n=r[1],o=s.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),h=[],d=0;d<u.length;d++){var v=u[d].split(\"=\");P(v)&&(i.includes(v[0])?h.push(v[0]+\"=\"+e):h.push(u[d]))}var c=l;return null!=a&&(c+=\"?\"+h.join(\"&\")),null!=n&&(c+=\"#\"+n),c},ae=function(t,i){var e=t.match(new RegExp(i+\"=([^&]*)\"));return e?e[1]:null},le=kt(\"[AutoCapture]\");function ue(t,i){return i.length>t?i.slice(0,t)+\"...\":i}function he(t){if(t.previousElementSibling)return t.previousElementSibling;var i=t;do{i=i.previousSibling}while(i&&!Si(i));return i}function de(t,i,e,r){var s=t.tagName.toLowerCase(),n={tag_name:s};Oi.indexOf(s)>-1&&!e&&(\"a\"===s.toLowerCase()||\"button\"===s.toLowerCase()?n.$el_text=ue(1024,Ji(t)):n.$el_text=ue(1024,Ri(t)));var o=Ti(t);o.length>0&&(n.classes=o.filter((function(t){return\"\"!==t}))),Ct(t.attributes,(function(e){var s;if((!Ui(t)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(e.name))&&((null==r||!r.includes(e.name))&&!i&&Vi(e.value)&&(s=e.name,!O(s)||\"_ngcontent\"!==s.substring(0,10)&&\"_nghost\"!==s.substring(0,7)))){var o=e.value;\"class\"===e.name&&(o=ki(o).join(\" \")),n[\"attr__\"+e.name]=ue(1024,o)}}));for(var a=1,l=1,u=t;u=he(u);)a++,u.tagName===t.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function ve(i,e){for(var r,s,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=e,h=[i],d=i;d.parentNode&&!xi(d,\"body\");)$i(d.parentNode)?(h.push(d.parentNode.host),d=d.parentNode.host):(h.push(d.parentNode),d=d.parentNode);var v,c=[],f={},p=!1,g=!1;if(Ct(h,(t=>{var i=Ni(t);\"a\"===t.tagName.toLowerCase()&&(p=t.getAttribute(\"href\"),p=i&&p&&Vi(p)&&p),y(Ti(t),\"ph-no-capture\")&&(g=!0),c.push(de(t,o,a,l));var e=function(t){if(!Ni(t))return{};var i={};return Ct(t.attributes,(function(t){if(t.name&&0===t.name.indexOf(\"data-ph-capture-attribute\")){var e=t.name.replace(\"data-ph-capture-attribute-\",\"\"),r=t.value;e&&r&&Vi(r)&&(i[e]=r)}})),i}(t);Ot(f,e)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===i.tagName.toLowerCase()||\"button\"===i.tagName.toLowerCase()?c[0].$el_text=Ji(i):c[0].$el_text=Ri(i)),p){var _,m;c[0].attr__href=p;var b=null==(_=re(p))?void 0:_.host,w=null==t||null==(m=t.location)?void 0:m.host;b&&w&&b!==w&&(v=p)}return{props:Ot({$event_type:n.type,$ce_version:1},u?{}:{$elements:c},{$elements_chain:Yi(c)},null!=(r=c[0])&&r.$el_text?{$el_text:null==(s=c[0])?void 0:s.$el_text}:{},v&&\"click\"===n.type?{$external_click_url:v}:{},f)}}class ce{constructor(t){this.C=!1,this.O=null,this.rageclicks=new Zi,this.F=!1,this.instance=t,this.M=null}get A(){var t,i,e=I(this.instance.config.autocapture)?this.instance.config.autocapture:{};return e.url_allowlist=null==(t=e.url_allowlist)?void 0:t.map((t=>new RegExp(t))),e.url_ignorelist=null==(i=e.url_ignorelist)?void 0:i.map((t=>new RegExp(t))),e}j(){if(this.isBrowserSupported()){if(t&&o){var i=i=>{i=i||(null==t?void 0:t.event);try{this.D(i)}catch(t){le.error(\"Failed to capture event\",t)}};if(Ht(o,\"submit\",i,{capture:!0}),Ht(o,\"change\",i,{capture:!0}),Ht(o,\"click\",i,{capture:!0}),this.A.capture_copied_text){var e=i=>{i=i||(null==t?void 0:t.event),this.D(i,te)};Ht(o,\"copy\",e,{capture:!0}),Ht(o,\"cut\",e,{capture:!0})}}}else le.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this.C&&(this.j(),this.C=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.F=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Gt]:!!t.autocapture_opt_out}),this.O=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.M=t}getElementSelectors(t){var i,e=[];return null==(i=this.M)||i.forEach((i=>{var r=null==o?void 0:o.querySelectorAll(i);null==r||r.forEach((r=>{t===r&&e.push(i)}))})),e}get isEnabled(){var t,i,e=null==(t=this.instance.persistence)?void 0:t.props[Gt],r=this.O;if(M(r)&&!D(e)&&!this.instance.L())return!1;var s=null!==(i=this.O)&&void 0!==i?i:!!e;return!!this.instance.config.autocapture&&!s}D(i,e){if(void 0===e&&(e=\"$autocapture\"),this.isEnabled){var r,s=Ci(i);if(Ei(s)&&(s=s.parentNode||null),\"$autocapture\"===e&&\"click\"===i.type&&i instanceof MouseEvent)this.instance.config.rageclick&&null!=(r=this.rageclicks)&&r.isRageClick(i.clientX,i.clientY,(new Date).getTime())&&function(i,e){if(!t||ji(i))return!1;var r,s;if(!1===(r=D(e)?!!e&&Ai:null!==(s=null==e?void 0:e.css_selector_ignorelist)&&void 0!==s?s:Ai))return!1;var{targetElementList:n}=Di(i,!1);return!Fi(n,r)}(s,this.instance.config.rageclick)&&this.D(i,\"$rageclick\");var n=e===te;if(s&&Li(s,i,this.A,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=ve(s,{e:i,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.F});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),e===te){var u,h=Ii(null==t||null==(u=t.getSelection())?void 0:u.toString()),d=i.type||\"clipboard\";if(!h)return!1;o.$selected_content=h,o.$copy_type=d}return this.instance.capture(e,o),!0}}}isBrowserSupported(){return T(null==o?void 0:o.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return j(t)&&isFinite(t)&&Math.floor(t)===t});var fe=\"0123456789abcdef\";class pe{constructor(t){if(this.bytes=t,16!==t.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(t,i,e,r){if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(e)||!Number.isInteger(r)||t<0||i<0||e<0||r<0||t>0xffffffffffff||i>4095||e>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|i>>>8,s[7]=i,s[8]=128|e>>>24,s[9]=e>>>16,s[10]=e>>>8,s[11]=e,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new pe(s)}toString(){for(var t=\"\",i=0;i<this.bytes.length;i++)t=t+fe.charAt(this.bytes[i]>>>4)+fe.charAt(15&this.bytes[i]),3!==i&&5!==i&&7!==i&&9!==i||(t+=\"-\");if(36!==t.length)throw new Error(\"Invalid UUIDv7 was generated\");return t}clone(){return new pe(this.bytes.slice(0))}equals(t){return 0===this.compareTo(t)}compareTo(t){for(var i=0;i<16;i++){var e=this.bytes[i]-t.bytes[i];if(0!==e)return Math.sign(e)}return 0}}class ge{constructor(){this.N=0,this.U=0,this.H=new ye}generate(){var t=this.generateOrAbort();if(C(t)){this.N=0;var i=this.generateOrAbort();if(C(i))throw new Error(\"Could not generate UUID after timestamp reset\");return i}return t}generateOrAbort(){var t=Date.now();if(t>this.N)this.N=t,this.B();else{if(!(t+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return pe.fromFieldsV7(this.N,Math.trunc(this.U/Math.pow(2,30)),this.U&Math.pow(2,30)-1,this.H.nextUint32())}B(){this.U=1024*this.H.nextUint32()+(1023&this.H.nextUint32())}}var _e,me=t=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var i=0;i<t.length;i++)t[i]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};t&&!C(t.crypto)&&crypto.getRandomValues&&(me=t=>crypto.getRandomValues(t));class ye{constructor(){this.q=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.q.length&&(me(this.q),this.W=0),this.q[this.W++]}}var be=()=>we().toString(),we=()=>(_e||(_e=new ge)).generate(),Se=\"\";var xe=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function Ee(t,i){if(i){var e=function(t,i){if(void 0===i&&(i=o),Se)return Se;if(!i)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(t))return\"\";for(var e=t.split(\".\"),r=Math.min(e.length,8),s=\"dmn_chk_\"+be();!Se&&r--;){var n=e.slice(r).join(\".\"),a=s+\"=1;domain=.\"+n+\";path=/\";i.cookie=a+\";max-age=3\",i.cookie.includes(s)&&(i.cookie=a+\";max-age=0\",Se=n)}return Se}(t);if(!e){var r=(t=>{var i=t.match(xe);return i?i[0]:\"\"})(t);r!==e&&$t.info(\"Warning: cookie subdomain discovery mismatch\",r,e),e=r}return e?\"; domain=.\"+e:\"\"}return\"\"}var $e={G:()=>!!o,V:function(t){$t.error(\"cookieStore error: \"+t)},J:function(t){if(o){try{for(var i=t+\"=\",e=o.cookie.split(\";\").filter((t=>t.length)),r=0;r<e.length;r++){for(var s=e[r];\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}}catch(t){}return null}},K:function(t){var i;try{i=JSON.parse($e.J(t))||{}}catch(t){}return i},Y:function(t,i,e,r,s){if(o)try{var n=\"\",a=\"\",l=Ee(o.location.hostname,r);if(e){var u=new Date;u.setTime(u.getTime()+24*e*60*60*1e3),n=\"; expires=\"+u.toUTCString()}s&&(a=\"; secure\");var h=t+\"=\"+encodeURIComponent(JSON.stringify(i))+n+\"; SameSite=Lax; path=/\"+l+a;return h.length>3686.4&&$t.warn(\"cookieStore warning: large cookie, len=\"+h.length),o.cookie=h,h}catch(t){return}},X:function(t,i){if(null!=o&&o.cookie)try{$e.Y(t,\"\",-1,i)}catch(t){return}}},ke=null,Pe={G:function(){if(!M(ke))return ke;var i=!0;if(C(t))i=!1;else try{var e=\"__mplssupport__\";Pe.Y(e,\"xyz\"),'\"xyz\"'!==Pe.J(e)&&(i=!1),Pe.X(e)}catch(t){i=!1}return i||$t.error(\"localStorage unsupported; falling back to cookie store\"),ke=i,i},V:function(t){$t.error(\"localStorage error: \"+t)},J:function(i){try{return null==t?void 0:t.localStorage.getItem(i)}catch(t){Pe.V(t)}return null},K:function(t){try{return JSON.parse(Pe.J(t))||{}}catch(t){}return null},Y:function(i,e){try{null==t||t.localStorage.setItem(i,JSON.stringify(e))}catch(t){Pe.V(t)}},X:function(i){try{null==t||t.localStorage.removeItem(i)}catch(t){Pe.V(t)}}},Te=[\"distinct_id\",ii,ei,_i,gi],Ie=g({},Pe,{K:function(t){try{var i={};try{i=$e.K(t)||{}}catch(t){}var e=Ot(i,JSON.parse(Pe.J(t)||\"{}\"));return Pe.Y(t,e),e}catch(t){}return null},Y:function(t,i,e,r,s,n){try{Pe.Y(t,i,void 0,void 0,n);var o={};Te.forEach((t=>{i[t]&&(o[t]=i[t])})),Object.keys(o).length&&$e.Y(t,o,e,r,s,n)}catch(t){Pe.V(t)}},X:function(i,e){try{null==t||t.localStorage.removeItem(i),$e.X(i,e)}catch(t){Pe.V(t)}}}),Re={},Ce={G:function(){return!0},V:function(t){$t.error(\"memoryStorage error: \"+t)},J:function(t){return Re[t]||null},K:function(t){return Re[t]||null},Y:function(t,i){Re[t]=i},X:function(t){delete Re[t]}},Oe=null,Fe={G:function(){if(!M(Oe))return Oe;if(Oe=!0,C(t))Oe=!1;else try{var i=\"__support__\";Fe.Y(i,\"xyz\"),'\"xyz\"'!==Fe.J(i)&&(Oe=!1),Fe.X(i)}catch(t){Oe=!1}return Oe},V:function(t){$t.error(\"sessionStorage error: \",t)},J:function(i){try{return null==t?void 0:t.sessionStorage.getItem(i)}catch(t){Fe.V(t)}return null},K:function(t){try{return JSON.parse(Fe.J(t))||null}catch(t){}return null},Y:function(i,e){try{null==t||t.sessionStorage.setItem(i,JSON.stringify(e))}catch(t){Fe.V(t)}},X:function(i){try{null==t||t.sessionStorage.removeItem(i)}catch(t){Fe.V(t)}}},Me=function(t){return t[t.PENDING=-1]=\"PENDING\",t[t.DENIED=0]=\"DENIED\",t[t.GRANTED=1]=\"GRANTED\",t}({});class Ae{constructor(t){this._instance=t}get A(){return this._instance.config}get consent(){return this.Z()?Me.DENIED:this.tt}isOptedOut(){return\"always\"===this.A.cookieless_mode||(this.consent===Me.DENIED||this.consent===Me.PENDING&&(this.A.opt_out_capturing_by_default||\"on_reject\"===this.A.cookieless_mode))}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Me.DENIED}optInOut(t){this.it.Y(this.et,t?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:t,opt_out_capturing_cookie_prefix:i,consent_persistence_name:e}=this._instance.config;return e||(i?i+t:\"__ph_opt_in_out_\"+t)}get tt(){var t=this.it.J(this.et);return q(t)?Me.GRANTED:y(W,t)?Me.DENIED:Me.PENDING}get it(){if(!this.rt){var t=this.A.opt_out_capturing_persistence_type;this.rt=\"localStorage\"===t?Pe:$e;var i=\"localStorage\"===t?$e:Pe;i.J(this.et)&&(this.rt.J(this.et)||this.optInOut(q(i.J(this.et))),i.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!zt([null==n?void 0:n.doNotTrack,null==n?void 0:n.msDoNotTrack,v.doNotTrack],(t=>q(t)))}}var je=kt(\"[Dead Clicks]\"),De=()=>!0,Le=t=>{var i,e=!(null==(i=t.instance.persistence)||!i.get_property(Qt)),r=t.instance.config.capture_dead_clicks;return D(r)?r:e};class Ne{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(t,i,e){this.instance=t,this.isEnabled=i,this.onCapture=e,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[Qt]:null==t?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt((()=>{this.ot()}))}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.initDeadClicksAutocapture&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this.instance,\"dead-clicks-autocapture\",(i=>{i?je.error(\"failed to load script\",i):t()}))}ot(){var t;if(o){if(!this.st&&null!=(t=v.__PosthogExtensions__)&&t.initDeadClicksAutocapture){var i=I(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};i.__onCapture=this.onCapture,this.st=v.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,i),this.st.start(o),je.info(\"starting...\")}}else je.error(\"`document` not found. Cannot start.\")}stop(){this.st&&(this.st.stop(),this.st=void 0,je.info(\"stopping...\"))}}var Ue=kt(\"[ExceptionAutocapture]\");class ze{constructor(i){var e,r,s;this.lt=()=>{var i;if(t&&this.isEnabled&&null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions){var e=v.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=v.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=v.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=e(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=r(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=s(this.captureException.bind(this)))}catch(t){Ue.error(\"failed to start\",t),this.vt()}}},this._instance=i,this.ct=!(null==(e=this._instance.persistence)||!e.props[Jt]),this.A=this.ft(),this.gt=new V({refillRate:null!==(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==r?r:1,bucketSize:null!==(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==s?s:10,refillInterval:1e4,P:Ue}),this.startIfEnabled()}ft(){var t=this._instance.config.capture_exceptions,i={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return I(t)?i=g({},i,t):(C(t)?this.ct:t)&&(i=g({},i,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),i}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Ue.info(\"enabled\"),this.nt(this.lt))}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"exception-autocapture\",(i=>{if(i)return Ue.error(\"failed to load script\",i);t()}))}vt(){var t,i,e;null==(t=this.ut)||t.call(this),this.ut=void 0,null==(i=this.ht)||i.call(this),this.ht=void 0,null==(e=this.dt)||e.call(this),this.dt=void 0}onRemoteConfig(t){var i=t.autocaptureExceptions;this.ct=!!i||!1,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[Jt]:this.ct}),this.startIfEnabled()}captureException(t){var i,e,r=null!==(i=null==t||null==(e=t.$exception_list)||null==(e=e[0])?void 0:e.type)&&void 0!==i?i:\"Exception\";this.gt.consumeRateLimit(r)?Ue.info(\"Skipping exception capture because of client rate limiting.\",{exception:r}):this._instance.exceptions.sendExceptionEvent(t)}}function He(t,i,e){try{if(!(i in t))return()=>{};var r=t[i],s=e(r);return T(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[i]=s,()=>{t[i]=r}}catch(t){return()=>{}}}class Be{constructor(i){var e;this._instance=i,this._t=(null==t||null==(e=t.location)?void 0:e.pathname)||\"\"}get isEnabled(){return\"history_change\"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&($t.info(\"History API monitoring enabled, starting...\"),this.monitorHistoryChanges())}stop(){this.yt&&this.yt(),this.yt=void 0,$t.info(\"History API monitoring stopped\")}monitorHistoryChanges(){var i,e;if(t&&t.history){var r=this;null!=(i=t.history.pushState)&&i.__posthog_wrapped__||He(t.history,\"pushState\",(t=>function(i,e,s){t.call(this,i,e,s),r.bt(\"pushState\")})),null!=(e=t.history.replaceState)&&e.__posthog_wrapped__||He(t.history,\"replaceState\",(t=>function(i,e,s){t.call(this,i,e,s),r.bt(\"replaceState\")})),this.wt()}}bt(i){try{var e,r=null==t||null==(e=t.location)?void 0:e.pathname;if(!r)return;r!==this._t&&this.isEnabled&&this._instance.capture(\"$pageview\",{navigation_type:i}),this._t=r}catch(t){$t.error(\"Error capturing \"+i+\" pageview\",t)}}wt(){if(!this.yt){var i=()=>{this.bt(\"popstate\")};Ht(t,\"popstate\",i),this.yt=()=>{t&&t.removeEventListener(\"popstate\",i)}}}}var qe=kt(\"[SegmentIntegration]\");function We(t,i){var e=t.config.segment;if(!e)return i();!function(t,i){var e=t.config.segment;if(!e)return i();var r=e=>{var r=()=>e.anonymousId()||be();t.config.get_device_id=r,e.id()&&(t.register({distinct_id:e.id(),$device_id:r()}),t.persistence.set_property(di,\"identified\")),i()},s=e.user();\"then\"in s&&T(s.then)?s.then((t=>r(t))):r(s)}(t,(()=>{e.register((t=>{Promise&&Promise.resolve||qe.warn(\"This browser does not have Promise support, and can not use the segment integration\");var i=(i,e)=>{if(!e)return i;i.event.userId||i.event.anonymousId===t.get_distinct_id()||(qe.info(\"No userId set, resetting PostHog\"),t.reset()),i.event.userId&&i.event.userId!==t.get_distinct_id()&&(qe.info(\"UserId set, identifying with PostHog\"),t.identify(i.event.userId));var r=t.calculateEventProperties(e,i.event.properties);return i.event.properties=Object.assign({},r,i.event.properties),i};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:t=>i(t,t.event.event),page:t=>i(t,\"$pageview\"),identify:t=>i(t,\"$identify\"),screen:t=>i(t,\"$screen\")}})(t)).then((()=>{i()}))}))}var Ge=\"posthog-js\";function Ve(t,i){var{organization:e,projectId:r,prefix:s,severityAllowList:n=[\"error\"],sendExceptionsToPostHog:o=!0}=void 0===i?{}:i;return i=>{var a,l,u,h,d;if(!(\"*\"===n||n.includes(i.level))||!t.__loaded)return i;i.tags||(i.tags={});var v=t.requestRouter.endpointFor(\"ui\",\"/project/\"+t.config.token+\"/person/\"+t.get_distinct_id());i.tags[\"PostHog Person URL\"]=v,t.sessionRecordingStarted()&&(i.tags[\"PostHog Recording URL\"]=t.get_session_replay_url({withTimestamp:!0}));var c=(null==(a=i.exception)?void 0:a.values)||[],f=c.map((t=>g({},t,{stacktrace:t.stacktrace?g({},t.stacktrace,{type:\"raw\",frames:(t.stacktrace.frames||[]).map((t=>g({},t,{platform:\"web:javascript\"})))}):void 0}))),p={$exception_message:(null==(l=c[0])?void 0:l.value)||i.message,$exception_type:null==(u=c[0])?void 0:u.type,$exception_personURL:v,$exception_level:i.level,$exception_list:f,$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(null==(h=c[0])?void 0:h.value)||i.message,$sentry_exception_type:null==(d=c[0])?void 0:d.type,$sentry_tags:i.tags};return e&&r&&(p.$sentry_url=(s||\"https://sentry.io/organizations/\")+e+\"/issues/?project=\"+r+\"&query=\"+i.event_id),o&&t.exceptions.sendExceptionEvent(p),i}}class Je{constructor(t,i,e,r,s,n){this.name=Ge,this.setupOnce=function(o){o(Ve(t,{organization:i,projectId:e,prefix:r,severityAllowList:s,sendExceptionsToPostHog:null==n||n}))}}}var Ke=null!=t&&t.location?ae(t.location.hash,\"__posthog\")||ae(location.hash,\"state\"):null,Ye=\"_postHogToolbarParams\",Xe=kt(\"[Toolbar]\"),Qe=function(t){return t[t.UNINITIALIZED=0]=\"UNINITIALIZED\",t[t.LOADING=1]=\"LOADING\",t[t.LOADED=2]=\"LOADED\",t}(Qe||{});class Ze{constructor(t){this.instance=t}St(t){v.ph_toolbar_state=t}xt(){var t;return null!==(t=v.ph_toolbar_state)&&void 0!==t?t:Qe.UNINITIALIZED}maybeLoadToolbar(i,e,r){if(void 0===i&&(i=void 0),void 0===e&&(e=void 0),void 0===r&&(r=void 0),!t||!o)return!1;i=null!=i?i:t.location,r=null!=r?r:t.history;try{if(!e){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(t){return!1}e=null==t?void 0:t.localStorage}var s,n=Ke||ae(i.hash,\"__posthog\")||ae(i.hash,\"state\"),a=n?At((()=>JSON.parse(atob(decodeURIComponent(n)))))||At((()=>JSON.parse(decodeURIComponent(n)))):null;return a&&\"ph_authorize\"===a.action?((s=a).source=\"url\",s&&Object.keys(s).length>0&&(a.desiredHash?i.hash=a.desiredHash:r?r.replaceState(r.state,\"\",i.pathname+i.search):i.hash=\"\")):((s=JSON.parse(e.getItem(Ye)||\"{}\")).source=\"localstorage\",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(t){return!1}}Et(t){var i=v.ph_load_toolbar||v.ph_load_editor;!A(i)&&T(i)?i(t,this.instance):Xe.warn(\"No toolbar load function found\")}loadToolbar(i){var e=!(null==o||!o.getElementById(mi));if(!t||e)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=g({token:this.instance.config.token},i,{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(Ye,JSON.stringify(g({},s,{source:void 0}))),this.xt()===Qe.LOADED)this.Et(s);else if(this.xt()===Qe.UNINITIALIZED){var n;this.St(Qe.LOADING),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,\"toolbar\",(t=>{if(t)return Xe.error(\"[Toolbar] Failed to load\",t),void this.St(Qe.UNINITIALIZED);this.St(Qe.LOADED),this.Et(s)})),Ht(t,\"turbolinks:load\",(()=>{this.St(Qe.UNINITIALIZED),this.loadToolbar(s)}))}return!0}$t(t){return this.loadToolbar(t)}maybeLoadEditor(t,i,e){return void 0===t&&(t=void 0),void 0===i&&(i=void 0),void 0===e&&(e=void 0),this.maybeLoadToolbar(t,i,e)}}var tr=kt(\"[TracingHeaders]\");class ir{constructor(t){this.kt=void 0,this.Pt=void 0,this.lt=()=>{var t,i;C(this.kt)&&(null==(t=v.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager));C(this.Pt)&&(null==(i=v.__PosthogExtensions__)||null==(i=i.tracingHeadersPatchFns)||i._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.tracingHeadersPatchFns&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"tracing-headers\",(i=>{if(i)return tr.error(\"failed to load script\",i);t()}))}startIfEnabledOrStop(){var t,i;this._instance.config.__add_tracing_headers?this.nt(this.lt):(null==(t=this.kt)||t.call(this),null==(i=this.Pt)||i.call(this),this.kt=void 0,this.Pt=void 0)}}var er=\"Mobile\",rr=\"iOS\",sr=\"Android\",nr=\"Tablet\",or=sr+\" \"+nr,ar=\"iPad\",lr=\"Apple\",ur=lr+\" Watch\",hr=\"Safari\",dr=\"BlackBerry\",vr=\"Samsung\",cr=vr+\"Browser\",fr=vr+\" Internet\",pr=\"Chrome\",gr=pr+\" OS\",_r=pr+\" \"+rr,mr=\"Internet Explorer\",yr=mr+\" \"+er,br=\"Opera\",wr=br+\" Mini\",Sr=\"Edge\",xr=\"Microsoft \"+Sr,Er=\"Firefox\",$r=Er+\" \"+rr,kr=\"Nintendo\",Pr=\"PlayStation\",Tr=\"Xbox\",Ir=sr+\" \"+er,Rr=er+\" \"+hr,Cr=\"Windows\",Or=Cr+\" Phone\",Fr=\"Nokia\",Mr=\"Ouya\",Ar=\"Generic\",jr=Ar+\" \"+er.toLowerCase(),Dr=Ar+\" \"+nr.toLowerCase(),Lr=\"Konqueror\",Nr=\"(\\\\d+(\\\\.\\\\d+)?)\",Ur=new RegExp(\"Version/\"+Nr),zr=new RegExp(Tr,\"i\"),Hr=new RegExp(Pr+\" \\\\w+\",\"i\"),Br=new RegExp(kr+\" \\\\w+\",\"i\"),qr=new RegExp(dr+\"|PlayBook|BB10\",\"i\"),Wr={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var Gr=(t,i)=>i&&y(i,lr)||function(t){return y(t,hr)&&!y(t,pr)&&!y(t,sr)}(t),Vr=function(t,i){return i=i||\"\",y(t,\" OPR/\")&&y(t,\"Mini\")?wr:y(t,\" OPR/\")?br:qr.test(t)?dr:y(t,\"IE\"+er)||y(t,\"WPDesktop\")?yr:y(t,cr)?fr:y(t,Sr)||y(t,\"Edg/\")?xr:y(t,\"FBIOS\")?\"Facebook \"+er:y(t,\"UCWEB\")||y(t,\"UCBrowser\")?\"UC Browser\":y(t,\"CriOS\")?_r:y(t,\"CrMo\")||y(t,pr)?pr:y(t,sr)&&y(t,hr)?Ir:y(t,\"FxiOS\")?$r:y(t.toLowerCase(),Lr.toLowerCase())?Lr:Gr(t,i)?y(t,er)?Rr:hr:y(t,Er)?Er:y(t,\"MSIE\")||y(t,\"Trident/\")?mr:y(t,\"Gecko\")?Er:\"\"},Jr={[yr]:[new RegExp(\"rv:\"+Nr)],[xr]:[new RegExp(Sr+\"?\\\\/\"+Nr)],[pr]:[new RegExp(\"(\"+pr+\"|CrMo)\\\\/\"+Nr)],[_r]:[new RegExp(\"CriOS\\\\/\"+Nr)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+Nr)],[hr]:[Ur],[Rr]:[Ur],[br]:[new RegExp(\"(Opera|OPR)\\\\/\"+Nr)],[Er]:[new RegExp(Er+\"\\\\/\"+Nr)],[$r]:[new RegExp(\"FxiOS\\\\/\"+Nr)],[Lr]:[new RegExp(\"Konqueror[:/]?\"+Nr,\"i\")],[dr]:[new RegExp(dr+\" \"+Nr),Ur],[Ir]:[new RegExp(\"android\\\\s\"+Nr,\"i\")],[fr]:[new RegExp(cr+\"\\\\/\"+Nr)],[mr]:[new RegExp(\"(rv:|MSIE )\"+Nr)],Mozilla:[new RegExp(\"rv:\"+Nr)]},Kr=function(t,i){var e=Vr(t,i),r=Jr[e];if(C(r))return null;for(var s=0;s<r.length;s++){var n=r[s],o=t.match(n);if(o)return parseFloat(o[o.length-2])}return null},Yr=[[new RegExp(Tr+\"; \"+Tr+\" (.*?)[);]\",\"i\"),t=>[Tr,t&&t[1]||\"\"]],[new RegExp(kr,\"i\"),[kr,\"\"]],[new RegExp(Pr,\"i\"),[Pr,\"\"]],[qr,[dr,\"\"]],[new RegExp(Cr,\"i\"),(t,i)=>{if(/Phone/.test(i)||/WPDesktop/.test(i))return[Or,\"\"];if(new RegExp(er).test(i)&&!/IEMobile\\b/.test(i))return[Cr+\" \"+er,\"\"];var e=/Windows NT ([0-9.]+)/i.exec(i);if(e&&e[1]){var r=e[1],s=Wr[r]||\"\";return/arm/i.test(i)&&(s=\"RT\"),[Cr,s]}return[Cr,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,t=>{if(t&&t[3]){var i=[t[3],t[4],t[5]||\"0\"];return[rr,i.join(\".\")]}return[rr,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,t=>{var i=\"\";return t&&t.length>=3&&(i=C(t[2])?t[3]:t[2]),[\"watchOS\",i]}],[new RegExp(\"(\"+sr+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+sr+\")\",\"i\"),t=>{if(t&&t[2]){var i=[t[2],t[3],t[4]||\"0\"];return[sr,i.join(\".\")]}return[sr,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,t=>{var i=[\"Mac OS X\",\"\"];if(t&&t[1]){var e=[t[1],t[2],t[3]||\"0\"];i[1]=e.join(\".\")}return i}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[gr,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],Xr=function(t){return Br.test(t)?kr:Hr.test(t)?Pr:zr.test(t)?Tr:new RegExp(Mr,\"i\").test(t)?Mr:new RegExp(\"(\"+Or+\"|WPDesktop)\",\"i\").test(t)?Or:/iPad/.test(t)?ar:/iPod/.test(t)?\"iPod Touch\":/iPhone/.test(t)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(t)?ur:qr.test(t)?dr:/(kobo)\\s(ereader|touch)/i.test(t)?\"Kobo\":new RegExp(Fr,\"i\").test(t)?Fr:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(t)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(t)?\"Kindle Fire\":/(Android|ZTE)/i.test(t)?!new RegExp(er).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?sr:or:sr:new RegExp(\"(pda|\"+er+\")\",\"i\").test(t)?jr:new RegExp(nr,\"i\").test(t)&&!new RegExp(nr+\" pc\",\"i\").test(t)?Dr:\"\"},Qr=\"https?://(.*)\",Zr=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"epik\",\"qclid\",\"sccid\",\"irclid\",\"_kx\"],ts=Ft([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],Zr),is=\"<masked>\",es=[\"li_fat_id\"];function rs(t,i,e){if(!o)return{};var r,s=i?Ft([],Zr,e||[]):[],n=ss(oe(o.URL,s,is),t),a=(r={},Ct(es,(function(t){var i=$e.J(t);r[t]=i||null})),r);return Ot(a,n)}function ss(t,i){var e=ts.concat(i||[]),r={};return Ct(e,(function(i){var e=ne(t,i);r[i]=e||null})),r}function ns(t){var i=function(t){return t?0===t.search(Qr+\"google.([^/?]*)\")?\"google\":0===t.search(Qr+\"bing.com\")?\"bing\":0===t.search(Qr+\"yahoo.com\")?\"yahoo\":0===t.search(Qr+\"duckduckgo.com\")?\"duckduckgo\":null:null}(t),e=\"yahoo\"!=i?\"q\":\"p\",r={};if(!M(i)){r.$search_engine=i;var s=o?ne(o.referrer,e):\"\";s.length&&(r.ph_keyword=s)}return r}function os(){return navigator.language||navigator.userLanguage}function as(){return(null==o?void 0:o.referrer)||\"$direct\"}function ls(t,i){var e=t?Ft([],Zr,i||[]):[],r=null==a?void 0:a.href.substring(0,1e3);return{r:as().substring(0,1e3),u:r?oe(r,e,is):void 0}}function us(t){var i,{r:e,u:r}=t,s={$referrer:e,$referring_domain:null==e?void 0:\"$direct\"==e?\"$direct\":null==(i=re(e))?void 0:i.host};if(r){s.$current_url=r;var n=re(r);s.$host=null==n?void 0:n.host,s.$pathname=null==n?void 0:n.pathname;var o=ss(r);Ot(s,o)}if(e){var a=ns(e);Ot(s,a)}return s}function hs(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return}}function ds(){try{return(new Date).getTimezoneOffset()}catch(t){return}}function vs(i,e){if(!d)return{};var r,s,n,o=i?Ft([],Zr,e||[]):[],[l,u]=function(t){for(var i=0;i<Yr.length;i++){var[e,r]=Yr[i],s=e.exec(t),n=s&&(T(r)?r(s,t):r);if(n)return n}return[\"\",\"\"]}(d);return Ot(Dt({$os:l,$os_version:u,$browser:Vr(d,navigator.vendor),$device:Xr(d),$device_type:(s=d,n=Xr(s),n===ar||n===or||\"Kobo\"===n||\"Kindle Fire\"===n||n===Dr?nr:n===kr||n===Tr||n===Pr||n===Mr?\"Console\":n===ur?\"Wearable\":n?er:\"Desktop\"),$timezone:hs(),$timezone_offset:ds()}),{$current_url:oe(null==a?void 0:a.href,o,is),$host:null==a?void 0:a.host,$pathname:null==a?void 0:a.pathname,$raw_user_agent:d.length>1e3?d.substring(0,997)+\"...\":d,$browser_version:Kr(d,navigator.vendor),$browser_language:os(),$browser_language_prefix:(r=os(),\"string\"==typeof r?r.split(\"-\")[0]:void 0),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:c.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var cs=kt(\"[Web Vitals]\"),fs=9e5;class ps{constructor(t){var i;this.Tt=!1,this.C=!1,this.q={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.It=()=>{clearTimeout(this.Rt),0!==this.q.metrics.length&&(this._instance.capture(\"$web_vitals\",this.q.metrics.reduce(((t,i)=>g({},t,{[\"$web_vitals_\"+i.name+\"_event\"]:g({},i),[\"$web_vitals_\"+i.name+\"_value\"]:i.value})),{})),this.q={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Ct=t=>{var i,e=null==(i=this._instance.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0);if(C(e))cs.error(\"Could not read session ID. Dropping metrics!\");else{this.q=this.q||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.Ot();if(!C(r))if(A(null==t?void 0:t.name)||A(null==t?void 0:t.value))cs.error(\"Invalid metric received\",t);else if(this.Ft&&t.value>=this.Ft)cs.error(\"Ignoring metric with value >= \"+this.Ft,t);else this.q.url!==r&&(this.It(),this.Rt=setTimeout(this.It,this.flushToCaptureTimeoutMs)),C(this.q.url)&&(this.q.url=r),this.q.firstMetricTimestamp=C(this.q.firstMetricTimestamp)?Date.now():this.q.firstMetricTimestamp,t.attribution&&t.attribution.interactionTargetElement&&(t.attribution.interactionTargetElement=void 0),this.q.metrics.push(g({},t,{$current_url:r,$session_id:e.sessionId,$window_id:e.windowId,timestamp:Date.now()})),this.q.metrics.length===this.allowedMetrics.length&&this.It()}},this.lt=()=>{var t,i,e,r,s=v.__PosthogExtensions__;C(s)||C(s.postHogWebVitalsCallbacks)||({onLCP:t,onCLS:i,onFCP:e,onINP:r}=s.postHogWebVitalsCallbacks),t&&i&&e&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&t(this.Ct.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&i(this.Ct.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&e(this.Ct.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this.Ct.bind(this)),this.C=!0):cs.error(\"web vitals callbacks not loaded - not starting\")},this._instance=t,this.Tt=!(null==(i=this._instance.persistence)||!i.props[Xt]),this.startIfEnabled()}get allowedMetrics(){var t,i,e=I(this._instance.config.capture_performance)?null==(t=this._instance.config.capture_performance)?void 0:t.web_vitals_allowed_metrics:void 0;return C(e)?(null==(i=this._instance.persistence)?void 0:i.props[Zt])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:e}get flushToCaptureTimeoutMs(){return(I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Ft(){var t=I(this._instance.config.capture_performance)&&j(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:fs;return 0<t&&t<=6e4?fs:t}get isEnabled(){var t=null==a?void 0:a.protocol;if(\"http:\"!==t&&\"https:\"!==t)return cs.info(\"Web Vitals are disabled on non-http/https protocols\"),!1;var i=I(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:D(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return D(i)?i:this.Tt}startIfEnabled(){this.isEnabled&&!this.C&&(cs.info(\"enabled, starting...\"),this.nt(this.lt))}onRemoteConfig(t){var i=I(t.capturePerformance)&&!!t.capturePerformance.web_vitals,e=I(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Xt]:i}),this._instance.persistence.register({[Zt]:e})),this.Tt=i,this.startIfEnabled()}nt(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.postHogWebVitalsCallbacks&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"web-vitals\",(i=>{i?cs.error(\"failed to load script\",i):t()}))}Ot(){var i=t?t.location.href:void 0;if(i){var e=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,s=e?Ft([],Zr,r||[]):[];return oe(i,s,is)}cs.error(\"Could not determine current URL\")}}var gs=kt(\"[Heatmaps]\");function _s(t){return I(t)&&\"clientX\"in t&&\"clientY\"in t&&j(t.clientX)&&j(t.clientY)}class ms{constructor(t){var i;this.rageclicks=new Zi,this.Tt=!1,this.C=!1,this.Mt=null,this.instance=t,this.Tt=!(null==(i=this.instance.persistence)||!i.props[Vt])}get flushIntervalMilliseconds(){var t=5e3;return I(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return C(this.instance.config.capture_heatmaps)?C(this.instance.config.enable_heatmaps)?this.Tt:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this.C)return;gs.info(\"starting...\"),this.At(),this.Mt=setInterval(this.jt.bind(this),this.flushIntervalMilliseconds)}else{var t,i;clearInterval(null!==(t=this.Mt)&&void 0!==t?t:void 0),null==(i=this.Dt)||i.stop(),this.getAndClearBuffer()}}onRemoteConfig(t){var i=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Vt]:i}),this.Tt=i,this.startIfEnabled()}getAndClearBuffer(){var t=this.q;return this.q=void 0,t}Lt(t){this.Nt(t.originalEvent,\"deadclick\")}At(){t&&o&&(Ht(t,\"beforeunload\",this.jt.bind(this)),Ht(o,\"click\",(i=>this.Nt(i||(null==t?void 0:t.event))),{capture:!0}),Ht(o,\"mousemove\",(i=>this.Ut(i||(null==t?void 0:t.event))),{capture:!0}),this.Dt=new Ne(this.instance,De,this.Lt.bind(this)),this.Dt.startIfEnabled(),this.C=!0)}zt(i,e){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(i,e,r){for(var s=i;s&&Si(s)&&!xi(s,\"body\");){if(s===r)return!1;if(y(e,null==t?void 0:t.getComputedStyle(s).position))return!0;s=Mi(s)}return!1}(Ci(i),[\"fixed\",\"sticky\"],n);return{x:i.clientX+(o?0:s),y:i.clientY+(o?0:r),target_fixed:o,type:e}}Nt(t,i){var e;if(void 0===i&&(i=\"click\"),!wi(t.target)&&_s(t)){var r=this.zt(t,i);null!=(e=this.rageclicks)&&e.isRageClick(t.clientX,t.clientY,(new Date).getTime())&&this.Ht(g({},r,{type:\"rageclick\"})),this.Ht(r)}}Ut(t){!wi(t.target)&&_s(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Ht(this.zt(t,\"mousemove\"))}),500))}Ht(i){if(t){var e=t.location.href,r=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,n=r?Ft([],Zr,s||[]):[],o=oe(e,n,is);this.q=this.q||{},this.q[o]||(this.q[o]=[]),this.q[o].push(i)}}jt(){this.q&&!R(this.q)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class ys{constructor(t){this._instance=t}doPageView(i,e){var r,s=this.qt(i,e);return this.Wt={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:e,timestamp:i},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var i;return this.qt(t,null==(i=this.Wt)?void 0:i.pageViewId)}doEvent(){var t;return{$pageview_id:null==(t=this.Wt)?void 0:t.pageViewId}}qt(t,i){var e=this.Wt;if(!e)return{$pageview_id:i};var r={$pageview_id:i,$prev_pageview_id:e.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:h}=s;if(!(C(n)||C(o)||C(a)||C(l)||C(u)||C(h))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),h=Math.ceil(h);var d=n<=1?1:G(o/n,0,1,$t),v=n<=1?1:G(a/n,0,1,$t),c=l<=1?1:G(u/l,0,1,$t),f=l<=1?1:G(h/l,0,1,$t);r=Ot(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:v,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:f})}}return e.pathname&&(r.$prev_pageview_pathname=e.pathname),e.timestamp&&(r.$prev_pageview_duration=(t.getTime()-e.timestamp.getTime())/1e3),r}}var bs=Uint8Array,ws=Uint16Array,Ss=Uint32Array,xs=new bs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Es=new bs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$s=new bs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ks=function(t,i){for(var e=new ws(31),r=0;r<31;++r)e[r]=i+=1<<t[r-1];var s=new Ss(e[30]);for(r=1;r<30;++r)for(var n=e[r];n<e[r+1];++n)s[n]=n-e[r]<<5|r;return[e,s]},Ps=ks(xs,2),Ts=Ps[0],Is=Ps[1];Ts[28]=258,Is[258]=28;for(var Rs=ks(Es,0)[1],Cs=new ws(32768),Os=0;Os<32768;++Os){var Fs=(43690&Os)>>>1|(21845&Os)<<1;Fs=(61680&(Fs=(52428&Fs)>>>2|(13107&Fs)<<2))>>>4|(3855&Fs)<<4,Cs[Os]=((65280&Fs)>>>8|(255&Fs)<<8)>>>1}var Ms=function(t,i,e){for(var r=t.length,s=0,n=new ws(i);s<r;++s)++n[t[s]-1];var o,a=new ws(i);for(s=0;s<i;++s)a[s]=a[s-1]+n[s-1]<<1;if(e){o=new ws(1<<i);var l=15-i;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],h=i-t[s],d=a[t[s]-1]++<<h,v=d|(1<<h)-1;d<=v;++d)o[Cs[d]>>>l]=u}else for(o=new ws(r),s=0;s<r;++s)o[s]=Cs[a[t[s]-1]++]>>>15-t[s];return o},As=new bs(288);for(Os=0;Os<144;++Os)As[Os]=8;for(Os=144;Os<256;++Os)As[Os]=9;for(Os=256;Os<280;++Os)As[Os]=7;for(Os=280;Os<288;++Os)As[Os]=8;var js=new bs(32);for(Os=0;Os<32;++Os)js[Os]=5;var Ds=Ms(As,9,0),Ls=Ms(js,5,0),Ns=function(t){return(t/8>>0)+(7&t&&1)},Us=function(t,i,e){(null==e||e>t.length)&&(e=t.length);var r=new(t instanceof ws?ws:t instanceof Ss?Ss:bs)(e-i);return r.set(t.subarray(i,e)),r},zs=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8},Hs=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8,t[r+2]|=e>>>16},Bs=function(t,i){for(var e=[],r=0;r<t.length;++r)t[r]&&e.push({s:r,f:t[r]});var s=e.length,n=e.slice();if(!s)return[new bs(0),0];if(1==s){var o=new bs(e[0].s+1);return o[e[0].s]=1,[o,1]}e.sort((function(t,i){return t.f-i.f})),e.push({s:-1,f:25001});var a=e[0],l=e[1],u=0,h=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=s-1;)a=e[e[u].f<e[d].f?u++:d++],l=e[u!=h&&e[u].f<e[d].f?u++:d++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};var v=n[0].s;for(r=1;r<s;++r)n[r].s>v&&(v=n[r].s);var c=new ws(v+1),f=qs(e[h-1],c,0);if(f>i){r=0;var p=0,g=f-i,_=1<<g;for(n.sort((function(t,i){return c[i.s]-c[t.s]||t.f-i.f}));r<s;++r){var m=n[r].s;if(!(c[m]>i))break;p+=_-(1<<f-c[m]),c[m]=i}for(p>>>=g;p>0;){var y=n[r].s;c[y]<i?p-=1<<i-c[y]++-1:++r}for(;r>=0&&p;--r){var b=n[r].s;c[b]==i&&(--c[b],++p)}f=i}return[new bs(c),f]},qs=function(t,i,e){return-1==t.s?Math.max(qs(t.l,i,e+1),qs(t.r,i,e+1)):i[t.s]=e},Ws=function(t){for(var i=t.length;i&&!t[--i];);for(var e=new ws(++i),r=0,s=t[0],n=1,o=function(t){e[r++]=t},a=1;a<=i;++a)if(t[a]==s&&a!=i)++n;else{if(!s&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(s),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(s);n=1,s=t[a]}return[e.subarray(0,r),i]},Gs=function(t,i){for(var e=0,r=0;r<i.length;++r)e+=t[r]*i[r];return e},Vs=function(t,i,e){var r=e.length,s=Ns(i+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var n=0;n<r;++n)t[s+n+4]=e[n];return 8*(s+4+r)},Js=function(t,i,e,r,s,n,o,a,l,u,h){zs(i,h++,e),++s[256];for(var d=Bs(s,15),v=d[0],c=d[1],f=Bs(n,15),p=f[0],g=f[1],_=Ws(v),m=_[0],y=_[1],b=Ws(p),w=b[0],S=b[1],x=new ws(19),E=0;E<m.length;++E)x[31&m[E]]++;for(E=0;E<w.length;++E)x[31&w[E]]++;for(var k=Bs(x,7),P=k[0],T=k[1],I=19;I>4&&!P[$s[I-1]];--I);var R,C,O,F,M=u+5<<3,A=Gs(s,As)+Gs(n,js)+o,j=Gs(s,v)+Gs(n,p)+o+14+3*I+Gs(x,P)+(2*x[16]+3*x[17]+7*x[18]);if(M<=A&&M<=j)return Vs(i,h,t.subarray(l,l+u));if(zs(i,h,1+(j<A)),h+=2,j<A){R=Ms(v,c,0),C=v,O=Ms(p,g,0),F=p;var D=Ms(P,T,0);zs(i,h,y-257),zs(i,h+5,S-1),zs(i,h+10,I-4),h+=14;for(E=0;E<I;++E)zs(i,h+3*E,P[$s[E]]);h+=3*I;for(var L=[m,w],N=0;N<2;++N){var U=L[N];for(E=0;E<U.length;++E){var z=31&U[E];zs(i,h,D[z]),h+=P[z],z>15&&(zs(i,h,U[E]>>>5&127),h+=U[E]>>>12)}}}else R=Ds,C=As,O=Ls,F=js;for(E=0;E<a;++E)if(r[E]>255){z=r[E]>>>18&31;Hs(i,h,R[z+257]),h+=C[z+257],z>7&&(zs(i,h,r[E]>>>23&31),h+=xs[z]);var H=31&r[E];Hs(i,h,O[H]),h+=F[H],H>3&&(Hs(i,h,r[E]>>>5&8191),h+=Es[H])}else Hs(i,h,R[r[E]]),h+=C[r[E]];return Hs(i,h,R[256]),h+C[256]},Ks=new Ss([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ys=function(){for(var t=new Ss(256),i=0;i<256;++i){for(var e=i,r=9;--r;)e=(1&e&&3988292384)^e>>>1;t[i]=e}return t}(),Xs=function(t,i,e,r,s){return function(t,i,e,r,s,n){var o=t.length,a=new bs(r+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(r,a.length-s),u=0;if(!i||o<8)for(var h=0;h<=o;h+=65535){var d=h+65535;d<o?u=Vs(l,u,t.subarray(h,d)):(l[h]=n,u=Vs(l,u,t.subarray(h,o)))}else{for(var v=Ks[i-1],c=v>>>13,f=8191&v,p=(1<<e)-1,g=new ws(32768),_=new ws(p+1),m=Math.ceil(e/3),y=2*m,b=function(i){return(t[i]^t[i+1]<<m^t[i+2]<<y)&p},w=new Ss(25e3),S=new ws(288),x=new ws(32),E=0,k=0,P=(h=0,0),T=0,I=0;h<o;++h){var R=b(h),C=32767&h,O=_[R];if(g[C]=O,_[R]=C,T<=h){var F=o-h;if((E>7e3||P>24576)&&F>423){u=Js(t,l,0,w,S,x,k,P,I,h-I,u),P=E=k=0,I=h;for(var M=0;M<286;++M)S[M]=0;for(M=0;M<30;++M)x[M]=0}var A=2,j=0,D=f,L=C-O&32767;if(F>2&&R==b(h-L))for(var N=Math.min(c,F)-1,U=Math.min(32767,h),z=Math.min(258,F);L<=U&&--D&&C!=O;){if(t[h+A]==t[h+A-L]){for(var H=0;H<z&&t[h+H]==t[h+H-L];++H);if(H>A){if(A=H,j=L,H>N)break;var B=Math.min(L,H-2),q=0;for(M=0;M<B;++M){var W=h-L+M+32768&32767,G=W-g[W]+32768&32767;G>q&&(q=G,O=W)}}}L+=(C=O)-(O=g[C])+32768&32767}if(j){w[P++]=268435456|Is[A]<<18|Rs[j];var V=31&Is[A],J=31&Rs[j];k+=xs[V]+Es[J],++S[257+V],++x[J],T=h+A,++E}else w[P++]=t[h],++S[t[h]]}}u=Js(t,l,n,w,S,x,k,P,I,h-I,u)}return Us(a,0,r+Ns(u)+s)}(t,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,e,r,!0)},Qs=function(t,i,e){for(;e;++i)t[i]=e,e>>>=8};function Zs(t,i){void 0===i&&(i={});var e=function(){var t=4294967295;return{p:function(i){for(var e=t,r=0;r<i.length;++r)e=Ys[255&e^i[r]]^e>>>8;t=e},d:function(){return 4294967295^t}}}(),r=t.length;e.p(t);var s,n=Xs(t,i,10+((s=i).filename&&s.filename.length+1||0),8),o=n.length;return function(t,i){var e=i.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=i.level<2?4:9==i.level?2:0,t[9]=3,0!=i.mtime&&Qs(t,4,Math.floor(new Date(i.mtime||Date.now())/1e3)),e){t[3]=8;for(var r=0;r<=e.length;++r)t[r+10]=e.charCodeAt(r)}}(n,i),Qs(n,o-8,e.d()),Qs(n,o-4,r),n}var tn=function(t){var i,e,r,s,n=\"\";for(i=e=0,r=(t=(t+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){var o=t.charCodeAt(s),a=null;o<128?e++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),M(a)||(e>i&&(n+=t.substring(i,e)),n+=a,i=e=s+1)}return e>i&&(n+=t.substring(i,t.length)),n},en=!!u||!!l,rn=\"text/plain\",sn=(t,i)=>{var[e,r]=t.split(\"?\"),s=g({},i);null==r||r.split(\"&\").forEach((t=>{var[i]=t.split(\"=\");delete s[i]}));var n=se(s);return e+\"?\"+(n=n?(r?r+\"&\":\"\")+n:r)},nn=(t,i)=>JSON.stringify(t,((t,i)=>\"bigint\"==typeof i?i.toString():i),i),on=t=>{var{data:i,compression:e}=t;if(i){if(e===ie.GZipJS){var r=Zs(function(t,i){var e=t.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(t);for(var r=new bs(t.length+(t.length>>>1)),s=0,n=function(t){r[s++]=t},o=0;o<e;++o){if(s+5>r.length){var a=new bs(s+8+(e-o<<1));a.set(r),r=a}var l=t.charCodeAt(o);l<128||i?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return Us(r,0,s)}(nn(i)),{mtime:0}),s=new Blob([r],{type:rn});return{contentType:rn,body:s,estimatedSize:s.size}}if(e===ie.Base64){var n=function(t){var i,e,r,s,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",h=[];if(!t)return t;t=tn(t);do{i=(n=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[l++]=o.charAt(i)+o.charAt(e)+o.charAt(r)+o.charAt(s)}while(a<t.length);switch(u=h.join(\"\"),t.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(nn(i)),o=(t=>\"data=\"+encodeURIComponent(\"string\"==typeof t?t:nn(t)))(n);return{contentType:\"application/x-www-form-urlencoded\",body:o,estimatedSize:new Blob([o]).size}}var a=nn(i);return{contentType:\"application/json\",body:a,estimatedSize:new Blob([a]).size}}},an=[];l&&an.push({transport:\"fetch\",method:t=>{var i,e,{contentType:r,body:s,estimatedSize:n}=null!==(i=on(t))&&void 0!==i?i:{},o=new Headers;Ct(t.headers,(function(t,i){o.append(i,t)})),r&&o.append(\"Content-Type\",r);var a=t.url,u=null;if(h){var d=new h;u={signal:d.signal,timeout:setTimeout((()=>d.abort()),t.timeout)}}l(a,g({method:(null==t?void 0:t.method)||\"GET\",headers:o,keepalive:\"POST\"===t.method&&(n||0)<52428.8,body:s,signal:null==(e=u)?void 0:e.signal},t.fetchOptions)).then((i=>i.text().then((e=>{var r={statusCode:i.status,text:e};if(200===i.status)try{r.json=JSON.parse(e)}catch(t){$t.error(t)}null==t.callback||t.callback(r)})))).catch((i=>{$t.error(i),null==t.callback||t.callback({statusCode:0,text:i})})).finally((()=>u?clearTimeout(u.timeout):null))}}),u&&an.push({transport:\"XHR\",method:t=>{var i,e=new u;e.open(t.method||\"GET\",t.url,!0);var{contentType:r,body:s}=null!==(i=on(t))&&void 0!==i?i:{};Ct(t.headers,(function(t,i){e.setRequestHeader(i,t)})),r&&e.setRequestHeader(\"Content-Type\",r),t.timeout&&(e.timeout=t.timeout),t.disableXHRCredentials||(e.withCredentials=!0),e.onreadystatechange=()=>{if(4===e.readyState){var i={statusCode:e.status,text:e.responseText};if(200===e.status)try{i.json=JSON.parse(e.responseText)}catch(t){}null==t.callback||t.callback(i)}},e.send(s)}}),null!=n&&n.sendBeacon&&an.push({transport:\"sendBeacon\",method:t=>{var i=sn(t.url,{beacon:\"1\"});try{var e,{contentType:r,body:s}=null!==(e=on(t))&&void 0!==e?e:{},o=\"string\"==typeof s?new Blob([s],{type:r}):s;n.sendBeacon(i,o)}catch(t){}}});var ln=function(t,i){if(!function(t){try{new RegExp(t)}catch(t){return!1}return!0}(i))return!1;try{return new RegExp(i).test(t)}catch(t){return!1}};function un(t,i,e){return nn({distinct_id:t,userPropertiesToSet:i,userPropertiesToSetOnce:e})}var hn={exact:(t,i)=>i.some((i=>t.some((t=>i===t)))),is_not:(t,i)=>i.every((i=>t.every((t=>i!==t)))),regex:(t,i)=>i.some((i=>t.some((t=>ln(i,t))))),not_regex:(t,i)=>i.every((i=>t.every((t=>!ln(i,t))))),icontains:(t,i)=>i.map(dn).some((i=>t.map(dn).some((t=>i.includes(t))))),not_icontains:(t,i)=>i.map(dn).every((i=>t.map(dn).every((t=>!i.includes(t)))))},dn=t=>t.toLowerCase(),vn=kt(\"[Error tracking]\");class cn{constructor(t){var i,e;this.Gt=[],this.Vt=new vt([new ct,new xt,new pt,new ft,new wt,new bt,new _t,new St],[nt,lt]),this._instance=t,this.Gt=null!==(i=null==(e=this._instance.persistence)?void 0:e.get_property(Kt))&&void 0!==i?i:[]}onRemoteConfig(t){var i,e,r,s=null!==(i=null==(e=t.errorTracking)?void 0:e.suppressionRules)&&void 0!==i?i:[],n=null==(r=t.errorTracking)?void 0:r.captureExtensionExceptions;this.Gt=s,this._instance.persistence&&this._instance.persistence.register({[Kt]:this.Gt,[Yt]:n})}get Jt(){var t,i=!!this._instance.get_property(Yt),e=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(t=null!=e?e:i)&&void 0!==t&&t}buildProperties(t,i){return this.Vt.buildFromUnknown(t,{syntheticException:null==i?void 0:i.syntheticException,mechanism:{handled:null==i?void 0:i.handled}})}sendExceptionEvent(t){if(this.Kt(t))vn.info(\"Skipping exception capture because a suppression rule matched\");else{if(this.Jt||!this.Yt(t))return this._instance.capture(\"$exception\",t,{_noTruncate:!0,_batchKey:\"exceptionEvent\"});vn.info(\"Skipping exception capture because it was thrown by an extension\")}}Kt(t){var i=t.$exception_list;if(!i||!P(i)||0===i.length)return!1;var e=i.reduce(((t,i)=>{var{type:e,value:r}=i;return O(e)&&e.length>0&&t.$exception_types.push(e),O(r)&&r.length>0&&t.$exception_values.push(r),t}),{$exception_types:[],$exception_values:[]});return this.Gt.some((t=>{var i=t.values.map((t=>{var i,r=hn[t.operator],s=P(t.value)?t.value:[t.value],n=null!==(i=e[t.key])&&void 0!==i?i:[];return s.length>0&&r(s,n)}));return\"OR\"===t.type?i.some(Boolean):i.every(Boolean)}))}Yt(t){var i=t.$exception_list;return!(!i||!P(i))&&i.flatMap((t=>{var i,e;return null!==(i=null==(e=t.stacktrace)?void 0:e.frames)&&void 0!==i?i:[]})).some((t=>t.filename&&t.filename.startsWith(\"chrome-extension://\")))}}var fn=kt(\"[FeatureFlags]\"),pn=\"$active_feature_flags\",gn=\"$override_feature_flags\",_n=\"$feature_flag_payloads\",mn=\"$override_feature_flag_payloads\",yn=\"$feature_flag_request_id\",bn=t=>{var i={};for(var[e,r]of Mt(t||{}))r&&(i[e]=r);return i},wn=t=>{var i=t.flags;return i?(t.featureFlags=Object.fromEntries(Object.keys(i).map((t=>{var e;return[t,null!==(e=i[t].variant)&&void 0!==e?e:i[t].enabled]}))),t.featureFlagPayloads=Object.fromEntries(Object.keys(i).filter((t=>i[t].enabled)).filter((t=>{var e;return null==(e=i[t].metadata)?void 0:e.payload})).map((t=>{var e;return[t,null==(e=i[t].metadata)?void 0:e.payload]})))):fn.warn(\"Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version\"),t},Sn=function(t){return t.FeatureFlags=\"feature_flags\",t.Recordings=\"recordings\",t}({});class xn{constructor(t){this.Xt=!1,this.Qt=!1,this.Zt=!1,this.ti=!1,this.ii=!1,this.ei=!1,this.ri=!1,this._instance=t,this.featureFlagEventHandlers=[]}si(){var t=this._instance.config.evaluation_environments;return null!=t&&t.length?t.filter((t=>{var i=t&&\"string\"==typeof t&&t.trim().length>0;return i||fn.error(\"Invalid evaluation environment found:\",t,\"Expected non-empty string\"),i})):[]}ni(){return this.si().length>0}flags(){if(this._instance.config.__preview_remote_config)this.ei=!0;else{var t=!this.oi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.ai({disableFlags:t})}}get hasLoadedFlags(){return this.Qt}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(ni),i=this._instance.get_property(gn),e=this._instance.get_property(mn);if(!e&&!i)return t||{};var r=Ot({},t||{}),s=[...new Set([...Object.keys(e||{}),...Object.keys(i||{})])];for(var n of s){var o,a,l=r[n],u=null==i?void 0:i[n],h=C(u)?null!==(o=null==l?void 0:l.enabled)&&void 0!==o&&o:!!u,d=C(u)?l.variant:\"string\"==typeof u?u:void 0,v=null==e?void 0:e[n],c=g({},l,{enabled:h,variant:h?null!=d?d:null==l?void 0:l.variant:void 0});if(h!==(null==l?void 0:l.enabled)&&(c.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(c.original_variant=null==l?void 0:l.variant),v)c.metadata=g({},null==l?void 0:l.metadata,{payload:v,original_payload:null==l||null==(a=l.metadata)?void 0:a.payload});r[n]=c}return this.Xt||(fn.warn(\" Overriding feature flag details!\",{flagDetails:t,overriddenPayloads:e,finalDetails:r}),this.Xt=!0),r}getFlagVariants(){var t=this._instance.get_property(ri),i=this._instance.get_property(gn);if(!i)return t||{};for(var e=Ot({},t),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.Xt||(fn.warn(\" Overriding feature flags!\",{enabledFlags:t,overriddenFlags:i,finalFlags:e}),this.Xt=!0),e}getFlagPayloads(){var t=this._instance.get_property(_n),i=this._instance.get_property(mn);if(!i)return t||{};for(var e=Ot({},t||{}),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.Xt||(fn.warn(\" Overriding feature flag payloads!\",{flagPayloads:t,overriddenPayloads:i,finalPayloads:e}),this.Xt=!0),e}reloadFeatureFlags(){this.ti||this._instance.config.advanced_disable_feature_flags||this.oi||(this.oi=setTimeout((()=>{this.ai()}),5))}li(){clearTimeout(this.oi),this.oi=void 0}ensureFlagsLoaded(){this.Qt||this.Zt||this.oi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.ti=t}ai(t){var i;if(this.li(),!this._instance.L())if(this.Zt)this.ii=!0;else{var e={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:g({},(null==(i=this._instance.persistence)?void 0:i.get_initial_props())||{},this._instance.get_property(oi)||{}),group_properties:this._instance.get_property(ai)};(null!=t&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(e.disable_flags=!0),this.ni()&&(e.evaluation_environments=this.si());var r=this._instance.config.__preview_remote_config,s=r?\"/flags/?v=2\":\"/flags/?v=2&config=true\",n=this._instance.config.advanced_only_evaluate_survey_feature_flags?\"&only_evaluate_survey_feature_flags=true\":\"\",o=this._instance.requestRouter.endpointFor(\"api\",s+n);r&&(e.timezone=hs()),this.Zt=!0,this._instance.ui({method:\"POST\",url:o,data:e,compression:this._instance.config.disable_compression?void 0:ie.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:t=>{var i,r,s=!0;(200===t.statusCode&&(this.ii||(this.$anon_distinct_id=void 0),s=!1),this.Zt=!1,this.ei)||(this.ei=!0,this._instance.hi(null!==(r=t.json)&&void 0!==r?r:{}));if(!e.disable_flags||this.ii)if(this.ri=!s,t.json&&null!=(i=t.json.quotaLimited)&&i.includes(Sn.FeatureFlags))fn.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\");else{var n;if(!e.disable_flags)this.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},s);this.ii&&(this.ii=!1,this.ai())}}})}}getFeatureFlag(t,i){if(void 0===i&&(i={}),this.Qt||this.getFlags()&&this.getFlags().length>0){var e=this.getFlagVariants()[t],r=\"\"+e,s=this._instance.get_property(yn)||void 0,n=this._instance.get_property(hi)||{};if((i.send_event||!(\"send_event\"in i))&&(!(t in n)||!n[t].includes(r))){var o,a,l,u,h,d,v,c,f;P(n[t])?n[t].push(r):n[t]=[r],null==(o=this._instance.persistence)||o.register({[hi]:n});var p=this.getFeatureFlagDetails(t),g={$feature_flag:t,$feature_flag_response:e,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:(null==(a=this._instance.config.bootstrap)||null==(a=a.featureFlags)?void 0:a[t])||null,$feature_flag_bootstrapped_payload:(null==(l=this._instance.config.bootstrap)||null==(l=l.featureFlagPayloads)?void 0:l[t])||null,$used_bootstrap_value:!this.ri};C(null==p||null==(u=p.metadata)?void 0:u.version)||(g.$feature_flag_version=p.metadata.version);var _,m=null!==(h=null==p||null==(d=p.reason)?void 0:d.description)&&void 0!==h?h:null==p||null==(v=p.reason)?void 0:v.code;if(m&&(g.$feature_flag_reason=m),null!=p&&null!=(c=p.metadata)&&c.id&&(g.$feature_flag_id=p.metadata.id),C(null==p?void 0:p.original_variant)&&C(null==p?void 0:p.original_enabled)||(g.$feature_flag_original_response=C(p.original_variant)?p.original_enabled:p.original_variant),null!=p&&null!=(f=p.metadata)&&f.original_payload)g.$feature_flag_original_payload=null==p||null==(_=p.metadata)?void 0:_.original_payload;this._instance.capture(\"$feature_flag_called\",g)}return e}fn.warn('getFeatureFlag for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,i){var e=this._instance.config.token,r={distinct_id:this._instance.get_distinct_id(),token:e};this.ni()&&(r.evaluation_environments=this.si()),this._instance.ui({method:\"POST\",url:this._instance.requestRouter.endpointFor(\"api\",\"/flags/?v=2&config=true\"),data:r,compression:this._instance.config.disable_compression?void 0:ie.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var r,s=null==(r=e.json)?void 0:r.featureFlagPayloads;i((null==s?void 0:s[t])||void 0)}})}isFeatureEnabled(t,i){if(void 0===i&&(i={}),this.Qt||this.getFlags()&&this.getFlags().length>0){var e=this.getFeatureFlag(t,i);return C(e)?void 0:!!e}fn.warn('isFeatureEnabled for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((i=>i!==t))}receivedFeatureFlags(t,i){if(this._instance.persistence){this.Qt=!0;var e=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();!function(t,i,e,r,s){void 0===e&&(e={}),void 0===r&&(r={}),void 0===s&&(s={});var n=wn(t),o=n.flags,a=n.featureFlags,l=n.featureFlagPayloads;if(a){var u=t.requestId;if(P(a)){fn.warn(\"v1 of the feature flags endpoint is deprecated. Please use the latest version.\");var h={};if(a)for(var d=0;d<a.length;d++)h[a[d]]=!0;i&&i.register({[pn]:a,[ri]:h})}else{var v=a,c=l,f=o;t.errorsWhileComputingFlags&&(v=g({},e,v),c=g({},r,c),f=g({},s,f)),i&&i.register(g({[pn]:Object.keys(bn(v)),[ri]:v||{},[_n]:c||{},[ni]:f||{}},u?{[yn]:u}:{}))}}}(t,this._instance.persistence,e,r,s),this.di(i)}}override(t,i){void 0===i&&(i=!1),fn.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:t,suppressWarning:i})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return fn.uninitializedWarning(\"posthog.featureFlags.overrideFeatureFlags\");if(!1===t)return this._instance.persistence.unregister(gn),this._instance.persistence.unregister(mn),void this.di();if(t&&\"object\"==typeof t&&(\"flags\"in t||\"payloads\"in t)){var i,e=t;if(this.Xt=Boolean(null!==(i=e.suppressWarning)&&void 0!==i&&i),\"flags\"in e)if(!1===e.flags)this._instance.persistence.unregister(gn);else if(e.flags)if(P(e.flags)){for(var r={},s=0;s<e.flags.length;s++)r[e.flags[s]]=!0;this._instance.persistence.register({[gn]:r})}else this._instance.persistence.register({[gn]:e.flags});return\"payloads\"in e&&(!1===e.payloads?this._instance.persistence.unregister(mn):e.payloads&&this._instance.persistence.register({[mn]:e.payloads})),void this.di()}this.di()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.Qt){var{flags:i,flagVariants:e}=this.vi();t(i,e)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,i,e){var r,s=(this._instance.get_property(si)||[]).find((i=>i.flagKey===t)),n={[\"$feature_enrollment/\"+t]:i},o={$feature_flag:t,$feature_enrollment:i,$set:n};s&&(o.$early_access_feature_name=s.name),e&&(o.$feature_enrollment_stage=e),this._instance.capture(\"$feature_enrollment_update\",o),this.setPersonPropertiesForFlags(n,!1);var a=g({},this.getFlagVariants(),{[t]:i});null==(r=this._instance.persistence)||r.register({[pn]:Object.keys(bn(a)),[ri]:a}),this.di()}getEarlyAccessFeatures(t,i,e){void 0===i&&(i=!1);var r=this._instance.get_property(si),s=e?\"&\"+e.map((t=>\"stage=\"+t)).join(\"&\"):\"\";if(r&&!i)return t(r);this._instance.ui({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\"+this._instance.config.token+s),method:\"GET\",callback:i=>{var e,r;if(i.json){var s=i.json.earlyAccessFeatures;return null==(e=this._instance.persistence)||e.unregister(si),null==(r=this._instance.persistence)||r.register({[si]:s}),t(s)}}})}vi(){var t=this.getFlags(),i=this.getFlagVariants();return{flags:t.filter((t=>i[t])),flagVariants:Object.keys(i).filter((t=>i[t])).reduce(((t,e)=>(t[e]=i[e],t)),{})}}di(t){var{flags:i,flagVariants:e}=this.vi();this.featureFlagEventHandlers.forEach((r=>r(i,e,{errorsLoading:t})))}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(oi)||{};this._instance.register({[oi]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(oi)}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(ai)||{};0!==Object.keys(e).length&&Object.keys(e).forEach((i=>{e[i]=g({},e[i],t[i]),delete t[i]})),this._instance.register({[ai]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var i=this._instance.get_property(ai)||{};this._instance.register({[ai]:g({},i,{[t]:{}})})}else this._instance.unregister(ai)}reset(){this.Qt=!1,this.Zt=!1,this.ti=!1,this.ii=!1,this.ei=!1,this.ri=!1,this.$anon_distinct_id=void 0,this.li(),this.Xt=!1}}var En=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class $n{constructor(t,i){this.A=t,this.props={},this.ci=!1,this.fi=(t=>{var i=\"\";return t.token&&(i=t.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),t.persistence_name?\"ph_\"+t.persistence_name:\"ph_\"+i+\"_posthog\"})(t),this.it=this.pi(t),this.load(),t.debug&&$t.info(\"Persistence loaded\",t.persistence,g({},this.props)),this.update_config(t,t,i),this.save()}isDisabled(){return!!this.gi}pi(t){-1===En.indexOf(t.persistence.toLowerCase())&&($t.critical(\"Unknown persistence type \"+t.persistence+\"; falling back to localStorage+cookie\"),t.persistence=\"localStorage+cookie\");var i=t.persistence.toLowerCase();return\"localstorage\"===i&&Pe.G()?Pe:\"localstorage+cookie\"===i&&Ie.G()?Ie:\"sessionstorage\"===i&&Fe.G()?Fe:\"memory\"===i?Ce:\"cookie\"===i?$e:Ie.G()?Ie:$e}properties(){var t={};return Ct(this.props,(function(i,e){if(e===ri&&I(i))for(var r=Object.keys(i),n=0;n<r.length;n++)t[\"$feature/\"+r[n]]=i[r[n]];else a=e,l=!1,(M(o=bi)?l:s&&o.indexOf===s?-1!=o.indexOf(a):(Ct(o,(function(t){if(l||(l=t===a))return It})),l))||(t[e]=i);var o,a,l})),t}load(){if(!this.gi){var t=this.it.K(this.fi);t&&(this.props=Ot({},t))}}save(){this.gi||this.it.Y(this.fi,this.props,this.mi,this.yi,this.bi,this.A.debug)}remove(){this.it.X(this.fi,!1),this.it.X(this.fi,!0)}clear(){this.remove(),this.props={}}register_once(t,i,e){if(I(t)){C(i)&&(i=\"None\"),this.mi=C(e)?this.wi:e;var r=!1;if(Ct(t,((t,e)=>{this.props.hasOwnProperty(e)&&this.props[e]!==i||(this.props[e]=t,r=!0)})),r)return this.save(),!0}return!1}register(t,i){if(I(t)){this.mi=C(i)?this.wi:i;var e=!1;if(Ct(t,((i,r)=>{t.hasOwnProperty(r)&&this.props[r]!==i&&(this.props[r]=i,e=!0)})),e)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.ci){var t=rs(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);R(Dt(t))||this.register(t),this.ci=!0}}update_search_keyword(){var t;this.register((t=null==o?void 0:o.referrer)?ns(t):{})}update_referrer_info(){var t;this.register_once({$referrer:as(),$referring_domain:null!=o&&o.referrer&&(null==(t=re(o.referrer))?void 0:t.host)||\"$direct\"},void 0)}set_initial_person_info(){this.props[fi]||this.props[pi]||this.register_once({[gi]:ls(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Ct([pi,fi],(i=>{var e=this.props[i];e&&Ct(e,(function(i,e){t[\"$initial_\"+w(e)]=i}))}));var i,e,r=this.props[gi];if(r){var s=(i=us(r),e={},Ct(i,(function(t,i){e[\"$initial_\"+w(i)]=t})),e);Ot(t,s)}return t}safe_merge(t){return Ct(this.props,(function(i,e){e in t||(t[e]=i)})),t}update_config(t,i,e){if(this.wi=this.mi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!e),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==i.persistence){var r=this.pi(t),s=this.props;this.clear(),this.it=r,this.props=s,this.save()}}set_disabled(t){this.gi=t,this.gi?this.remove():this.save()}set_cross_subdomain(t){t!==this.yi&&(this.yi=t,this.remove(),this.save())}set_secure(t){t!==this.bi&&(this.bi=t,this.remove(),this.save())}set_event_timer(t,i){var e=this.props[Wt]||{};e[t]=i,this.props[Wt]=e,this.save()}remove_event_timer(t){var i=(this.props[Wt]||{})[t];return C(i)||(delete this.props[Wt][t],this.save()),i}get_property(t){return this.props[t]}set_property(t,i){this.props[t]=i,this.save()}}var kn=function(t){return t.Button=\"button\",t.Tab=\"tab\",t.Selector=\"selector\",t}({}),Pn=function(t){return t.TopLeft=\"top_left\",t.TopRight=\"top_right\",t.TopCenter=\"top_center\",t.MiddleLeft=\"middle_left\",t.MiddleRight=\"middle_right\",t.MiddleCenter=\"middle_center\",t.Left=\"left\",t.Center=\"center\",t.Right=\"right\",t.NextToTrigger=\"next_to_trigger\",t}({}),Tn=function(t){return t.Popover=\"popover\",t.API=\"api\",t.Widget=\"widget\",t.ExternalSurvey=\"external_survey\",t}({}),In=function(t){return t.Open=\"open\",t.MultipleChoice=\"multiple_choice\",t.SingleChoice=\"single_choice\",t.Rating=\"rating\",t.Link=\"link\",t}({}),Rn=function(t){return t.NextQuestion=\"next_question\",t.End=\"end\",t.ResponseBased=\"response_based\",t.SpecificQuestion=\"specific_question\",t}({}),Cn=function(t){return t.Once=\"once\",t.Recurring=\"recurring\",t.Always=\"always\",t}({}),On=function(t){return t.SHOWN=\"survey shown\",t.DISMISSED=\"survey dismissed\",t.SENT=\"survey sent\",t}({}),Fn=function(t){return t.SURVEY_ID=\"$survey_id\",t.SURVEY_NAME=\"$survey_name\",t.SURVEY_RESPONSE=\"$survey_response\",t.SURVEY_ITERATION=\"$survey_iteration\",t.SURVEY_ITERATION_START_DATE=\"$survey_iteration_start_date\",t.SURVEY_PARTIALLY_COMPLETED=\"$survey_partially_completed\",t.SURVEY_SUBMISSION_ID=\"$survey_submission_id\",t.SURVEY_QUESTIONS=\"$survey_questions\",t.SURVEY_COMPLETED=\"$survey_completed\",t}({}),Mn=function(t){return t.Popover=\"popover\",t.Inline=\"inline\",t}({});class An{constructor(){this.Si={},this.Si={}}on(t,i){return this.Si[t]||(this.Si[t]=[]),this.Si[t].push(i),()=>{this.Si[t]=this.Si[t].filter((t=>t!==i))}}emit(t,i){for(var e of this.Si[t]||[])e(i);for(var r of this.Si[\"*\"]||[])r(t,i)}}class jn{constructor(t){this.xi=new An,this.Ei=(t,i)=>this.$i(t,i)&&this.ki(t,i)&&this.Pi(t,i),this.$i=(t,i)=>null==i||!i.event||(null==t?void 0:t.event)===(null==i?void 0:i.event),this._instance=t,this.Ti=new Set,this.Ii=new Set}init(){var t;if(!C(null==(t=this._instance)?void 0:t.Ri)){var i;null==(i=this._instance)||i.Ri(((t,i)=>{this.on(t,i)}))}}register(t){var i,e;if(!C(null==(i=this._instance)?void 0:i.Ri)&&(t.forEach((t=>{var i,e;null==(i=this.Ii)||i.add(t),null==(e=t.steps)||e.forEach((t=>{var i;null==(i=this.Ti)||i.add((null==t?void 0:t.event)||\"\")}))})),null!=(e=this._instance)&&e.autocapture)){var r,s=new Set;t.forEach((t=>{var i;null==(i=t.steps)||i.forEach((t=>{null!=t&&t.selector&&s.add(null==t?void 0:t.selector)}))})),null==(r=this._instance)||r.autocapture.setElementSelectors(s)}}on(t,i){var e;null!=i&&0!=t.length&&(this.Ti.has(t)||this.Ti.has(null==i?void 0:i.event))&&this.Ii&&(null==(e=this.Ii)?void 0:e.size)>0&&this.Ii.forEach((t=>{this.Ci(i,t)&&this.xi.emit(\"actionCaptured\",t.name)}))}Oi(t){this.onAction(\"actionCaptured\",(i=>t(i)))}Ci(t,i){if(null==(null==i?void 0:i.steps))return!1;for(var e of i.steps)if(this.Ei(t,e))return!0;return!1}onAction(t,i){return this.xi.on(t,i)}ki(t,i){if(null!=i&&i.url){var e,r=null==t||null==(e=t.properties)?void 0:e.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!jn.Fi(r,null==i?void 0:i.url,(null==i?void 0:i.url_matching)||\"contains\"))return!1}return!0}static Fi(i,e,r){switch(r){case\"regex\":return!!t&&ln(i,e);case\"exact\":return e===i;case\"contains\":var s=jn.Mi(e).replace(/_/g,\".\").replace(/%/g,\".*\");return ln(i,s);default:return!1}}static Mi(t){return t.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}Pi(t,i){if((null!=i&&i.href||null!=i&&i.tag_name||null!=i&&i.text)&&!this.Ai(t).some((t=>!(null!=i&&i.href&&!jn.Fi(t.href||\"\",null==i?void 0:i.href,(null==i?void 0:i.href_matching)||\"exact\"))&&((null==i||!i.tag_name||t.tag_name===(null==i?void 0:i.tag_name))&&!(null!=i&&i.text&&!jn.Fi(t.text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\")&&!jn.Fi(t.$el_text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\"))))))return!1;if(null!=i&&i.selector){var e,r=null==t||null==(e=t.properties)?void 0:e.$element_selectors;if(!r)return!1;if(!r.includes(null==i?void 0:i.selector))return!1}return!0}Ai(t){return null==(null==t?void 0:t.properties.$elements)?[]:null==t?void 0:t.properties.$elements}}var Dn=kt(\"[Surveys]\");var Ln=\"seenSurvey_\",Nn=(t,i)=>{var e=\"$survey_\"+i+\"/\"+t.id;return t.current_iteration&&t.current_iteration>0&&(e=\"$survey_\"+i+\"/\"+t.id+\"/\"+t.current_iteration),e},Un=t=>{var i=\"\"+Ln+t.id;return t.current_iteration&&t.current_iteration>0&&(i=\"\"+Ln+t.id+\"_\"+t.current_iteration),i},zn=[Tn.Popover,Tn.Widget,Tn.API],Hn={ignoreConditions:!1,ignoreDelay:!1,displayType:Mn.Popover};class Bn{constructor(t){this._instance=t,this.ji=new Map,this.Di=new Map}register(t){var i;C(null==(i=this._instance)?void 0:i.Ri)||(this.Li(t),this.Ni(t))}Ni(t){var i=t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.actions)&&(null==(e=t.conditions)||null==(e=e.actions)||null==(e=e.values)?void 0:e.length)>0}));if(0!==i.length){if(null==this.Ui){this.Ui=new jn(this._instance),this.Ui.init();this.Ui.Oi((t=>{this.onAction(t)}))}i.forEach((t=>{var i,e,r,s,n;t.conditions&&null!=(i=t.conditions)&&i.actions&&null!=(e=t.conditions)&&null!=(e=e.actions)&&e.values&&(null==(r=t.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(s=this.Ui)||s.register(t.conditions.actions.values),null==(n=t.conditions)||null==(n=n.actions)||null==(n=n.values)||n.forEach((i=>{if(i&&i.name){var e=this.Di.get(i.name);e&&e.push(t.id),this.Di.set(i.name,e||[t.id])}})))}))}}Li(t){var i;if(0!==t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.events)&&(null==(e=t.conditions)||null==(e=e.events)||null==(e=e.values)?void 0:e.length)>0})).length){null==(i=this._instance)||i.Ri(((t,i)=>{this.onEvent(t,i)})),t.forEach((t=>{var i;null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||i.forEach((i=>{if(i&&i.name){var e=this.ji.get(i.name);e&&e.push(t.id),this.ji.set(i.name,e||[t.id])}}))}))}}onEvent(t,i){var e,r,s=(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[ui])||[];if(On.SHOWN===t&&i&&s.length>0){var n;Dn.info(\"survey event matched, removing survey from activated surveys\",{event:t,eventPayload:i,existingActivatedSurveys:s});var o=null==i||null==(n=i.properties)?void 0:n.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this.zi(s))}}else if(this.ji.has(t)){Dn.info(\"survey event name matched\",{event:t,eventPayload:i,surveys:this.ji.get(t)});var l=[];null==(r=this._instance)||r.getSurveys((i=>{l=i.filter((i=>{var e;return null==(e=this.ji.get(t))?void 0:e.includes(i.id)}))}));var u=l.filter((e=>{var r,s=null==(r=e.conditions)||null==(r=r.events)||null==(r=r.values)?void 0:r.find((i=>i.name===t));return!!s&&(!s.propertyFilters||Object.entries(s.propertyFilters).every((t=>{var e,[r,s]=t,n=null==i||null==(e=i.properties)?void 0:e[r];if(C(n)||M(n))return!1;var o=[String(n)],a=hn[s.operator];return a?a(s.values,o):(Dn.warn(\"Unknown property comparison operator: \"+s.operator),!1)})))}));this.zi(s.concat(u.map((t=>t.id))||[]))}}onAction(t){var i,e=(null==(i=this._instance)||null==(i=i.persistence)?void 0:i.props[ui])||[];this.Di.has(t)&&this.zi(e.concat(this.Di.get(t)||[]))}zi(t){var i;Dn.info(\"updating activated surveys\",{activatedSurveys:t}),null==(i=this._instance)||null==(i=i.persistence)||i.register({[ui]:[...new Set(t)]})}getSurveys(){var t,i=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[ui];return i||[]}getEventToSurveys(){return this.ji}Hi(){return this.Ui}}class qn{constructor(t){this.Bi=void 0,this._surveyManager=null,this.qi=!1,this.Wi=!1,this.Gi=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var i=t.surveys;if(A(i))return Dn.warn(\"Flags not loaded yet. Not loading surveys.\");var e=P(i);this.Bi=e?i.length>0:i,Dn.info(\"flags response received, isSurveysEnabled: \"+this.Bi),this.loadIfEnabled()}}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");for(var t=[],i=0;i<localStorage.length;i++){var e=localStorage.key(i);(null!=e&&e.startsWith(Ln)||null!=e&&e.startsWith(\"inProgressSurvey_\"))&&t.push(e)}t.forEach((t=>localStorage.removeItem(t)))}loadIfEnabled(){if(!this._surveyManager)if(this.Wi)Dn.info(\"Already initializing surveys, skipping...\");else if(this._instance.config.disable_surveys)Dn.info(\"Disabled. Not loading surveys.\");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Dn.info(\"Not loading surveys in cookieless mode without consent.\");else{var t=null==v?void 0:v.__PosthogExtensions__;if(t){if(!C(this.Bi)||this._instance.config.advanced_enable_surveys){var i=this.Bi||this._instance.config.advanced_enable_surveys;this.Wi=!0;try{var e=t.generateSurveys;if(e)return void this.Vi(e,i);var r=t.loadExternalDependency;if(!r)return void this.Ji(\"PostHog loadExternalDependency extension not found.\");r(this._instance,\"surveys\",(e=>{e||!t.generateSurveys?this.Ji(\"Could not load surveys script\",e):this.Vi(t.generateSurveys,i)}))}catch(t){throw this.Ji(\"Error initializing surveys\",t),t}finally{this.Wi=!1}}}else Dn.error(\"PostHog Extensions not found.\")}}Vi(t,i){this._surveyManager=t(this._instance,i),this._surveyEventReceiver=new Bn(this._instance),Dn.info(\"Surveys loaded successfully\"),this.Ki({isLoaded:!0})}Ji(t,i){Dn.error(t,i),this.Ki({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.Gi.push(t),this._surveyManager&&this.Ki({isLoaded:!0}),()=>{this.Gi=this.Gi.filter((i=>i!==t))}}getSurveys(t,i){if(void 0===i&&(i=!1),this._instance.config.disable_surveys)return Dn.info(\"Disabled. Not loading surveys.\"),t([]);var e=this._instance.get_property(li);if(e&&!i)return t(e,{isLoaded:!0});if(this.qi)return t([],{isLoaded:!1,error:\"Surveys are already being loaded\"});try{this.qi=!0,this._instance.ui({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\"+this._instance.config.token),method:\"GET\",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var e;this.qi=!1;var r=i.statusCode;if(200!==r||!i.json){var s=\"Surveys API could not be loaded, status: \"+r;return Dn.error(s),t([],{isLoaded:!1,error:s})}var n,o=i.json.surveys||[],a=o.filter((t=>function(t){return!(!t.start_date||t.end_date)}(t)&&(function(t){var i;return!(null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||!i.length)}(t)||function(t){var i;return!(null==(i=t.conditions)||null==(i=i.actions)||null==(i=i.values)||!i.length)}(t))));a.length>0&&(null==(n=this._surveyEventReceiver)||n.register(a));return null==(e=this._instance.persistence)||e.register({[li]:o}),t(o,{isLoaded:!0})}})}catch(t){throw this.qi=!1,t}}Ki(t){for(var i of this.Gi)try{if(!t.isLoaded)return i([],t);this.getSurveys(i)}catch(t){Dn.error(\"Error in survey callback\",t)}}getActiveMatchingSurveys(t,i){if(void 0===i&&(i=!1),!A(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,i);Dn.warn(\"init was not called\")}Yi(t){var i=null;return this.getSurveys((e=>{var r;i=null!==(r=e.find((i=>i.id===t)))&&void 0!==r?r:null})),i}Xi(t){if(A(this._surveyManager))return{eligible:!1,reason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=\"string\"==typeof t?this.Yi(t):t;return i?this._surveyManager.checkSurveyEligibility(i):{eligible:!1,reason:\"Survey not found\"}}canRenderSurvey(t){if(A(this._surveyManager))return Dn.warn(\"init was not called\"),{visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=this.Xi(t);return{visible:i.eligible,disabledReason:i.reason}}canRenderSurveyAsync(t,i){return A(this._surveyManager)?(Dn.warn(\"init was not called\"),Promise.resolve({visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"})):new Promise((e=>{this.getSurveys((i=>{var r,s=null!==(r=i.find((i=>i.id===t)))&&void 0!==r?r:null;if(s){var n=this.Xi(s);e({visible:n.eligible,disabledReason:n.reason})}else e({visible:!1,disabledReason:\"Survey not found\"})}),i)}))}renderSurvey(t,i){var e;if(A(this._surveyManager))Dn.warn(\"init was not called\");else{var r=\"string\"==typeof t?this.Yi(t):t;if(null!=r&&r.id)if(zn.includes(r.type)){var s=null==o?void 0:o.querySelector(i);if(s)return null!=(e=r.appearance)&&e.surveyPopupDelaySeconds?(Dn.info(\"Rendering survey \"+r.id+\" with delay of \"+r.appearance.surveyPopupDelaySeconds+\" seconds\"),void setTimeout((()=>{var t,i;Dn.info(\"Rendering survey \"+r.id+\" with delay of \"+(null==(t=r.appearance)?void 0:t.surveyPopupDelaySeconds)+\" seconds\"),null==(i=this._surveyManager)||i.renderSurvey(r,s),Dn.info(\"Survey \"+r.id+\" rendered\")}),1e3*r.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(r,s);Dn.warn(\"Survey element not found\")}else Dn.warn(\"Surveys of type \"+r.type+\" cannot be rendered in the app\");else Dn.warn(\"Survey not found\")}}displaySurvey(t,i){var e;if(A(this._surveyManager))Dn.warn(\"init was not called\");else{var r=this.Yi(t);if(r){var s=r;if(null!=(e=r.appearance)&&e.surveyPopupDelaySeconds&&i.ignoreDelay&&(s=g({},r,{appearance:g({},r.appearance,{surveyPopupDelaySeconds:0})})),!1===i.ignoreConditions){var n=this.canRenderSurvey(r);if(!n.visible)return void Dn.warn(\"Survey is not eligible to be displayed: \",n.disabledReason)}i.displayType!==Mn.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,i.selector)}else Dn.warn(\"Survey not found\")}}}var Wn=kt(\"[RateLimiter]\");class Gn{constructor(t){var i,e;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=t=>{var i=t.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach((t=>{Wn.info((t||\"events\")+\" is quota limited.\"),this.serverLimits[t]=(new Date).getTime()+6e4}))}catch(t){return void Wn.warn('could not rate limit - continuing. Error: \"'+(null==t?void 0:t.message)+'\"',{text:i})}},this.instance=t,this.captureEventsPerSecond=(null==(i=t.config.rate_limiting)?void 0:i.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(e=t.config.rate_limiting)?void 0:e.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var i,e,r;void 0===t&&(t=!1);var s=(new Date).getTime(),n=null!==(i=null==(e=this.instance.persistence)?void 0:e.get_property(ci))&&void 0!==i?i:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||t||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \"+this.captureEventsPerSecond+\" events per second and \"+this.captureEventsBurstLimit+\" events burst limit.\"},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null==(r=this.instance.persistence)||r.set_property(ci,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(t){var i=this.serverLimits[t||\"events\"]||!1;return!1!==i&&(new Date).getTime()<i}}var Vn=kt(\"[RemoteConfig]\");class Jn{constructor(t){this._instance=t}get remoteConfig(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.config}Qi(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.loadExternalDependency?null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"remote-config\",(()=>t(this.remoteConfig))):(Vn.error(\"PostHog Extensions not found. Cannot load remote config.\"),t())}Zi(t){this._instance.ui({method:\"GET\",url:this._instance.requestRouter.endpointFor(\"assets\",\"/array/\"+this._instance.config.token+\"/config\"),callback:i=>{t(i.json)}})}load(){try{if(this.remoteConfig)return Vn.info(\"Using preloaded remote config\",this.remoteConfig),void this.hi(this.remoteConfig);if(this._instance.L())return void Vn.warn(\"Remote config is disabled. Falling back to local config.\");this.Qi((t=>{if(!t)return Vn.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this.Zi((t=>{this.hi(t)}));this.hi(t)}))}catch(t){Vn.error(\"Error loading remote config\",t)}}hi(t){t?this._instance.config.__preview_remote_config?(this._instance.hi(t),!1!==t.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):Vn.info(\"__preview_remote_config is disabled. Logging config instead\",t):Vn.error(\"Failed to fetch remote config from PostHog.\")}}var Kn=3e3;class Yn{constructor(t,i){this.te=!0,this.ie=[],this.ee=G((null==i?void 0:i.flush_interval_ms)||Kn,250,5e3,$t.createLogger(\"flush interval\"),Kn),this.re=t}enqueue(t){this.ie.push(t),this.se||this.ne()}unload(){this.oe();var t=this.ie.length>0?this.ae():{},i=Object.values(t);[...i.filter((t=>0===t.url.indexOf(\"/e\"))),...i.filter((t=>0!==t.url.indexOf(\"/e\")))].map((t=>{this.re(g({},t,{transport:\"sendBeacon\"}))}))}enable(){this.te=!1,this.ne()}ne(){var t=this;this.te||(this.se=setTimeout((()=>{if(this.oe(),this.ie.length>0){var i=this.ae(),e=function(){var e=i[r],s=(new Date).getTime();e.data&&P(e.data)&&Ct(e.data,(t=>{t.offset=Math.abs(t.timestamp-s),delete t.timestamp})),t.re(e)};for(var r in i)e()}}),this.ee))}oe(){clearTimeout(this.se),this.se=void 0}ae(){var t={};return Ct(this.ie,(i=>{var e,r=i,s=(r?r.batchKey:null)||r.url;C(t[s])&&(t[s]=g({},r,{data:[]})),null==(e=t[s].data)||e.push(r.data)})),this.ie=[],t}}var Xn=[\"retriesPerformedSoFar\"];class Qn{constructor(i){this.le=!1,this.ue=3e3,this.ie=[],this._instance=i,this.ie=[],this.he=!0,!C(t)&&\"onLine\"in t.navigator&&(this.he=t.navigator.onLine,Ht(t,\"online\",(()=>{this.he=!0,this.jt()})),Ht(t,\"offline\",(()=>{this.he=!1})))}get length(){return this.ie.length}retriableRequest(t){var{retriesPerformedSoFar:i}=t,e=_(t,Xn);j(i)&&i>0&&(e.url=sn(e.url,{retry_count:i})),this._instance.ui(g({},e,{callback:t=>{200!==t.statusCode&&(t.statusCode<400||t.statusCode>=500)&&(null!=i?i:0)<10?this.de(g({retriesPerformedSoFar:i},e)):null==e.callback||e.callback(t)}}))}de(t){var i=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=i+1;var e=function(t){var i=3e3*Math.pow(2,t),e=i/2,r=Math.min(18e5,i),s=(Math.random()-.5)*(r-e);return Math.ceil(r+s)}(i),r=Date.now()+e;this.ie.push({retryAt:r,requestOptions:t});var s=\"Enqueued failed request for retry in \"+e;navigator.onLine||(s+=\" (Browser is offline)\"),$t.warn(s),this.le||(this.le=!0,this.ve())}ve(){this.ce&&clearTimeout(this.ce),this.ce=setTimeout((()=>{this.he&&this.ie.length>0&&this.jt(),this.ve()}),this.ue)}jt(){var t=Date.now(),i=[],e=this.ie.filter((e=>e.retryAt<t||(i.push(e),!1)));if(this.ie=i,e.length>0)for(var{requestOptions:r}of e)this.retriableRequest(r)}unload(){for(var{requestOptions:t}of(this.ce&&(clearTimeout(this.ce),this.ce=void 0),this.ie))try{this._instance.ui(g({},t,{transport:\"sendBeacon\"}))}catch(t){$t.error(t)}this.ie=[]}}class Zn{constructor(t){this.fe=()=>{var t,i,e,r;this.pe||(this.pe={});var s=this.scrollElement(),n=this.scrollY(),o=s?Math.max(0,s.scrollHeight-s.clientHeight):0,a=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.pe.lastScrollY=Math.ceil(n),this.pe.maxScrollY=Math.max(n,null!==(t=this.pe.maxScrollY)&&void 0!==t?t:0),this.pe.maxScrollHeight=Math.max(o,null!==(i=this.pe.maxScrollHeight)&&void 0!==i?i:0),this.pe.lastContentY=a,this.pe.maxContentY=Math.max(a,null!==(e=this.pe.maxContentY)&&void 0!==e?e:0),this.pe.maxContentHeight=Math.max(l,null!==(r=this.pe.maxContentHeight)&&void 0!==r?r:0)},this._instance=t}getContext(){return this.pe}resetContext(){var t=this.pe;return setTimeout(this.fe,0),t}startMeasuringScrollPosition(){Ht(t,\"scroll\",this.fe,{capture:!0}),Ht(t,\"scrollend\",this.fe,{capture:!0}),Ht(t,\"resize\",this.fe)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var i=P(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var e of i){var r=null==t?void 0:t.document.querySelector(e);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var to=t=>ls(null==t?void 0:t.config.mask_personal_data_properties,null==t?void 0:t.config.custom_personal_data_properties);class io{constructor(t,i,e,r){this.ge=t=>{var i=this._e();if(!i||i.sessionId!==t){var e={sessionId:t,props:this.me(this._instance)};this.ye.register({[vi]:e})}},this._instance=t,this.be=i,this.ye=e,this.me=r||to,this.be.onSessionId(this.ge)}_e(){return this.ye.props[vi]}getSetOnceProps(){var t,i=null==(t=this._e())?void 0:t.props;return i?\"r\"in i?us(i):{$referring_domain:i.referringDomain,$pathname:i.initialPathName,utm_source:i.utm_source,utm_campaign:i.utm_campaign,utm_medium:i.utm_medium,utm_content:i.utm_content,utm_term:i.utm_term}:{}}getSessionProps(){var t={};return Ct(Dt(this.getSetOnceProps()),((i,e)=>{\"$current_url\"===e&&(e=\"url\"),t[\"$session_entry_\"+w(e)]=i})),t}}var eo=kt(\"[SessionId]\");class ro{on(t,i){return this.we.on(t,i)}constructor(t,i,e){var r;if(this.Se=[],this.xe=void 0,this.we=new An,this.Ee=(t,i)=>Math.abs(t-i)>this.sessionTimeoutMs,!t.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(\"always\"===t.config.cookieless_mode)throw new Error('SessionIdManager cannot be used with cookieless_mode=\"always\"');this.A=t.config,this.ye=t.persistence,this.$e=void 0,this.ke=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Pe=i||be,this.Te=e||be;var s=this.A.persistence_name||this.A.token,n=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*G(n,60,36e3,eo.createLogger(\"session_idle_timeout_seconds\"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ie(),this.Re=\"ph_\"+s+\"_window_id\",this.Ce=\"ph_\"+s+\"_primary_window_exists\",this.Oe()){var o=Fe.K(this.Re),a=Fe.K(this.Ce);o&&!a?this.$e=o:Fe.X(this.Re),Fe.Y(this.Ce,!0)}if(null!=(r=this.A.bootstrap)&&r.sessionID)try{var l=(t=>{var i=t.replace(/-/g,\"\");if(32!==i.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==i[12])throw new Error(\"Not a UUIDv7\");return parseInt(i.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Fe(this.A.bootstrap.sessionID,(new Date).getTime(),l)}catch(t){eo.error(\"Invalid sessionID in bootstrap\",t)}this.Me()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return C(this.Se)&&(this.Se=[]),this.Se.push(t),this.ke&&t(this.ke,this.$e),()=>{this.Se=this.Se.filter((i=>i!==t))}}Oe(){return\"memory\"!==this.A.persistence&&!this.ye.gi&&Fe.G()}Ae(t){t!==this.$e&&(this.$e=t,this.Oe()&&Fe.Y(this.Re,t))}je(){return this.$e?this.$e:this.Oe()?Fe.K(this.Re):null}Fe(t,i,e){t===this.ke&&i===this._sessionActivityTimestamp&&e===this._sessionStartTimestamp||(this._sessionStartTimestamp=e,this._sessionActivityTimestamp=i,this.ke=t,this.ye.register({[ii]:[i,t,e]}))}De(){if(this.ke&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.ke,this._sessionStartTimestamp];var t=this.ye.props[ii];return P(t)&&2===t.length&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Fe(null,null,null)}destroy(){clearTimeout(this.Le),this.Le=void 0,this.xe&&t&&(t.removeEventListener(\"beforeunload\",this.xe,{capture:!1}),this.xe=void 0),this.Se=[]}Me(){this.xe=()=>{this.Oe()&&Fe.X(this.Ce)},Ht(t,\"beforeunload\",this.xe,{capture:!1})}checkAndGetSessionAndWindowId(t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),\"always\"===this.A.cookieless_mode)throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode=\"always\"');var e=i||(new Date).getTime(),[r,s,n]=this.De(),o=this.je(),a=j(n)&&n>0&&Math.abs(e-n)>864e5,l=!1,u=!s,h=!t&&this.Ee(e,r);u||h||a?(s=this.Pe(),o=this.Te(),eo.info(\"new session ID generated\",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}}),n=e,l=!0):o||(o=this.Te(),l=!0);var d=0===r||!t||a?e:r,v=0===n?(new Date).getTime():n;return this.Ae(o),this.Fe(s,d,v),t||this.Ie(),l&&this.Se.forEach((t=>t(s,o,l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:v,changeReason:l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}Ie(){clearTimeout(this.Le),this.Le=setTimeout((()=>{var[t]=this.De();if(this.Ee((new Date).getTime(),t)){var i=this.ke;this.resetSessionId(),this.we.emit(\"forcedIdleReset\",{idleSessionId:i})}}),1.1*this.sessionTimeoutMs)}}var so=[\"$set_once\",\"$set\"],no=kt(\"[SiteApps]\");class oo{constructor(t){this._instance=t,this.Ne=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ue(t,i){if(i){var e=this.globalsForEvent(i);this.Ne.push(e),this.Ne.length>1e3&&(this.Ne=this.Ne.slice(10))}}get siteAppLoaders(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ri(this.Ue.bind(this));this.ze=()=>{t(),this.Ne=[],this.ze=void 0}}}globalsForEvent(t){var i,e,r,s,n,o,a;if(!t)throw new Error(\"Event payload is required\");var l={},u=this._instance.get_property(\"$groups\")||[],h=this._instance.get_property(\"$stored_group_properties\")||{};for(var[d,v]of Object.entries(h))l[d]={id:u[d],type:d,properties:v};var{$set_once:c,$set:f}=t;return{event:g({},_(t,so),{properties:g({},t.properties,f?{$set:g({},null!==(i=null==(e=t.properties)?void 0:e.$set)&&void 0!==i?i:{},f)}:{},c?{$set_once:g({},null!==(r=null==(s=t.properties)?void 0:s.$set_once)&&void 0!==r?r:{},c)}:{}),elements_chain:null!==(n=null==(o=t.properties)?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null==(a=t.properties)?void 0:a.distinct_id}),person:{properties:this._instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(t){var i=this.apps[t.id],e=()=>{var e;(!i.errored&&this.Ne.length&&(no.info(\"Processing \"+this.Ne.length+\" events for site app with id \"+t.id),this.Ne.forEach((t=>null==i.processEvent?void 0:i.processEvent(t))),i.processedBuffer=!0),Object.values(this.apps).every((t=>t.processedBuffer||t.errored)))&&(null==(e=this.ze)||e.call(this))},r=!1,s=s=>{i.errored=!s,i.loaded=!0,no.info(\"Site app with id \"+t.id+\" \"+(s?\"loaded\":\"errored\")),r&&e()};try{var{processEvent:n}=t.init({posthog:this._instance,callback:t=>{s(t)}});n&&(i.processEvent=n),r=!0}catch(i){no.error(\"Error while initializing PostHog app with config id \"+t.id,i),s(!1)}if(r&&i.loaded)try{e()}catch(e){no.error(\"Error while processing buffered events PostHog app with config id \"+t.id,e),i.errored=!0}}He(){var t=this.siteAppLoaders||[];for(var i of t)this.apps[i.id]={id:i.id,loaded:!1,errored:!1,processedBuffer:!1};for(var e of t)this.setupSiteApp(e)}Be(t){if(0!==Object.keys(this.apps).length){var i=this.globalsForEvent(t);for(var e of Object.values(this.apps))try{null==e.processEvent||e.processEvent(i)}catch(i){no.error(\"Error while processing event \"+t.event+\" for site app \"+e.id,i)}}}onRemoteConfig(t){var i,e,r,s=this;if(null!=(i=this.siteAppLoaders)&&i.length)return this.isEnabled?(this.He(),void this._instance.on(\"eventCaptured\",(t=>this.Be(t)))):void no.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null==(e=this.ze)||e.call(this),null!=(r=t.siteApps)&&r.length)if(this.isEnabled){var n=function(t){var i;v[\"__$$ph_site_app_\"+t]=s._instance,null==(i=v.__PosthogExtensions__)||null==i.loadSiteApp||i.loadSiteApp(s._instance,a,(i=>{if(i)return no.error(\"Error while initializing PostHog app with config id \"+t,i)}))};for(var{id:o,url:a}of t.siteApps)n(o)}else no.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var ao=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"leikibot\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercel-screenshot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleother\",\"google-cloudvertexbot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"google-inspectiontool\",\"bytespider\"],lo=function(t,i){if(!t)return!1;var e=t.toLowerCase();return ao.concat(i||[]).some((t=>{var i=t.toLowerCase();return-1!==e.indexOf(i)}))},uo=function(t,i){if(!t)return!1;var e=t.userAgent;if(e&&lo(e,i))return!0;try{var r=null==t?void 0:t.userAgentData;if(null!=r&&r.brands&&r.brands.some((t=>lo(null==t?void 0:t.brand,i))))return!0}catch(t){}return!!t.webdriver},ho=function(t){return t.US=\"us\",t.EU=\"eu\",t.CUSTOM=\"custom\",t}({}),vo=\"i.posthog.com\";class co{constructor(t){this.qe={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===t?\"https://us.i.posthog.com\":t}get uiHost(){var t,i=null==(t=this.instance.config.ui_host)?void 0:t.replace(/\\/$/,\"\");return i||(i=this.apiHost.replace(\".\"+vo,\".posthog.com\")),\"https://app.posthog.com\"===i?\"https://us.posthog.com\":i}get region(){return this.qe[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.qe[this.apiHost]=ho.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.qe[this.apiHost]=ho.EU:this.qe[this.apiHost]=ho.CUSTOM),this.qe[this.apiHost]}endpointFor(t,i){if(void 0===i&&(i=\"\"),i&&(i=\"/\"===i[0]?i:\"/\"+i),\"ui\"===t)return this.uiHost+i;if(this.region===ho.CUSTOM)return this.apiHost+i;var e=vo+i;switch(t){case\"assets\":return\"https://\"+this.region+\"-assets.\"+e;case\"api\":return\"https://\"+this.region+\".\"+e}}}var fo={icontains:(i,e)=>!!t&&e.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,e)=>!!t&&-1===e.href.toLowerCase().indexOf(i.toLowerCase()),regex:(i,e)=>!!t&&ln(e.href,i),not_regex:(i,e)=>!!t&&!ln(e.href,i),exact:(t,i)=>i.href===t,is_not:(t,i)=>i.href!==t};class po{constructor(t){var i=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(t){void 0===t&&(t=!1),i.getWebExperiments((t=>{po.We(\"retrieved web experiments from the server\"),i.Ge=new Map,t.forEach((t=>{if(t.feature_flag_key){var e;if(i.Ge)po.We(\"setting flag key \",t.feature_flag_key,\" to web experiment \",t),null==(e=i.Ge)||e.set(t.feature_flag_key,t);var r=i._instance.getFeatureFlag(t.feature_flag_key);O(r)&&t.variants[r]&&i.Ve(t.name,r,t.variants[r].transforms)}else if(t.variants)for(var s in t.variants){var n=t.variants[s];po.Je(n)&&i.Ve(t.name,s,n.transforms)}}))}),t)},this._instance=t,this._instance.onFeatureFlags((t=>{this.onFeatureFlags(t)}))}onFeatureFlags(t){if(this._is_bot())po.We(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this._instance.config.disable_web_experiments){if(A(this.Ge))return this.Ge=new Map,this.loadIfEnabled(),void this.previewWebExperiment();po.We(\"applying feature flags\",t),t.forEach((t=>{var i;if(this.Ge&&null!=(i=this.Ge)&&i.has(t)){var e,r=this._instance.getFeatureFlag(t),s=null==(e=this.Ge)?void 0:e.get(t);r&&null!=s&&s.variants[r]&&this.Ve(s.name,r,s.variants[r].transforms)}}))}}previewWebExperiment(){var t=po.getWindowLocation();if(null!=t&&t.search){var i=ne(null==t?void 0:t.search,\"__experiment_id\"),e=ne(null==t?void 0:t.search,\"__experiment_variant\");i&&e&&(po.We(\"previewing web experiments \"+i+\" && \"+e),this.getWebExperiments((t=>{this.Ke(parseInt(i),e,t)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,i,e){if(this._instance.config.disable_web_experiments&&!e)return t([]);var r=this._instance.get_property(\"$web_experiments\");if(r&&!i)return t(r);this._instance.ui({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\"+this._instance.config.token),method:\"GET\",callback:i=>{if(200!==i.statusCode||!i.json)return t([]);var e=i.json.experiments||[];return t(e)}})}Ke(t,i,e){var r=e.filter((i=>i.id===t));r&&r.length>0&&(po.We(\"Previewing web experiment [\"+r[0].name+\"] with variant [\"+i+\"]\"),this.Ve(r[0].name,i,r[0].variants[i].transforms))}static Je(t){return!A(t.conditions)&&(po.Ye(t)&&po.Xe(t))}static Ye(t){var i;if(A(t.conditions)||A(null==(i=t.conditions)?void 0:i.url))return!0;var e,r,s,n=po.getWindowLocation();return!!n&&(null==(e=t.conditions)||!e.url||fo[null!==(r=null==(s=t.conditions)?void 0:s.urlMatchType)&&void 0!==r?r:\"icontains\"](t.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static Xe(t){var i;if(A(t.conditions)||A(null==(i=t.conditions)?void 0:i.utm))return!0;var e=rs();if(e.utm_source){var r,s,n,o,a,l,u,h,d=null==(r=t.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(s=t.conditions)||null==(s=s.utm)?void 0:s.utm_campaign)==e.utm_campaign,v=null==(n=t.conditions)||null==(n=n.utm)||!n.utm_source||(null==(o=t.conditions)||null==(o=o.utm)?void 0:o.utm_source)==e.utm_source,c=null==(a=t.conditions)||null==(a=a.utm)||!a.utm_medium||(null==(l=t.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==e.utm_medium,f=null==(u=t.conditions)||null==(u=u.utm)||!u.utm_term||(null==(h=t.conditions)||null==(h=h.utm)?void 0:h.utm_term)==e.utm_term;return d&&c&&f&&v}return!1}static We(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];$t.info(\"[WebExperiments] \"+t,e)}Ve(t,i,e){this._is_bot()?po.We(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==i?e.forEach((e=>{if(e.selector){var r;po.We(\"applying transform of variant \"+i+\" for experiment \"+t+\" \",e);var s=null==(r=document)?void 0:r.querySelectorAll(e.selector);null==s||s.forEach((t=>{var i=t;e.html&&(i.innerHTML=e.html),e.css&&i.setAttribute(\"style\",e.css)}))}})):po.We(\"Control variants leave the page unmodified.\")}_is_bot(){return n&&this._instance?uo(n,this._instance.config.custom_blocked_useragents):void 0}}var go=kt(\"[PostHog ExternalIntegrations]\"),_o={intercom:\"intercom-integration\",crispChat:\"crisp-chat-integration\"};class mo{constructor(t){this._instance=t}nt(t,i){var e;null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,t,(t=>{if(t)return go.error(\"failed to load script\",t);i()}))}startIfEnabledOrStop(){var t=this,i=function(i){var e,s,n;(!r||null!=(e=v.__PosthogExtensions__)&&null!=(e=e.integrations)&&e[i]||t.nt(_o[i],(()=>{var e;null==(e=v.__PosthogExtensions__)||null==(e=e.integrations)||null==(e=e[i])||e.start(t._instance)})),!r&&null!=(s=v.__PosthogExtensions__)&&null!=(s=s.integrations)&&s[i])&&(null==(n=v.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[i])||n.stop())};for(var[e,r]of Object.entries(null!==(s=this._instance.config.integrations)&&void 0!==s?s:{})){var s;i(e)}}}var yo=\"[SessionRecording]\",bo=kt(yo);class wo{get started(){var t;return!(null==(t=this.Qe)||!t.isStarted)}get status(){return this.Qe?this.Qe.status:this.Ze&&!this.tr?\"disabled\":\"lazy_loading\"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.Ze=!1,this.ir=void 0,this._instance=t,!this._instance.sessionManager)throw bo.error(\"started without valid sessionManager\"),new Error(yo+\" started without valid sessionManager. This is a bug.\");if(\"always\"===this._instance.config.cookieless_mode)throw new Error(yo+' cannot be used with cookieless_mode=\"always\"')}get tr(){var i,e=!(null==(i=this._instance.get_property(ti))||!i.enabled),r=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return t&&e&&r&&!s}startIfEnabledOrStop(t){var i;if(!this.tr||null==(i=this.Qe)||!i.isStarted){var e=!C(Object.assign)&&!C(Array.from);this.tr&&e?(this.er(t),bo.info(\"starting\")):this.stopRecording()}}er(t){var i,e,r;this.tr&&(null!=v&&null!=(i=v.__PosthogExtensions__)&&null!=(i=i.rrweb)&&i.record&&null!=(e=v.__PosthogExtensions__)&&e.initSessionRecording?this.rr(t):null==(r=v.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,this.sr,(i=>{if(i)return bo.error(\"could not load recorder\",i);this.rr(t)})))}stopRecording(){var t,i;null==(t=this.ir)||t.call(this),this.ir=void 0,null==(i=this.Qe)||i.stop()}nr(){var t;null==(t=this._instance.persistence)||t.unregister(ei)}ar(t){if(this._instance.persistence){var i,e,r=this._instance.persistence,s=()=>{var i=!1===t.sessionRecording?void 0:t.sessionRecording,e=null==i?void 0:i.sampleRate,s=A(e)?null:parseFloat(e);A(s)&&this.nr();var n=null==i?void 0:i.minimumDurationMilliseconds;r.register({[ti]:g({enabled:!!i},i,{networkPayloadCapture:g({capturePerformance:t.capturePerformance},null==i?void 0:i.networkPayloadCapture),canvasRecording:{enabled:null==i?void 0:i.recordCanvas,fps:null==i?void 0:i.canvasFps,quality:null==i?void 0:i.canvasQuality},sampleRate:s,minimumDurationMilliseconds:C(n)?null:n,endpoint:null==i?void 0:i.endpoint,triggerMatchType:null==i?void 0:i.triggerMatchType,masking:null==i?void 0:i.masking,urlTriggers:null==i?void 0:i.urlTriggers})})};s(),null==(i=this.ir)||i.call(this),this.ir=null==(e=this._instance.sessionManager)?void 0:e.onSessionId(s)}}onRemoteConfig(t){\"sessionRecording\"in t?!1!==t.sessionRecording?(this.ar(t),this.Ze=!0,this.startIfEnabledOrStop()):this.Ze=!0:bo.info(\"skipping remote config with no sessionRecording\",t)}log(t,i){var e;void 0===i&&(i=\"log\"),null!=(e=this.Qe)&&e.log?this.Qe.log(t,i):bo.warn(\"log called before recorder was ready\")}get sr(){var t,i,e=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.get_property(ti);return(null==e||null==(i=e.scriptConfig)?void 0:i.script)||\"lazy-recorder\"}rr(t){var i,e;if(null==(i=v.__PosthogExtensions__)||!i.initSessionRecording)throw Error(\"Called on script loaded before session recording is available\");this.Qe||(this.Qe=null==(e=v.__PosthogExtensions__)?void 0:e.initSessionRecording(this._instance),this.Qe._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture);this.Qe.start(t)}onRRwebEmit(t){var i;null==(i=this.Qe)||null==i.onRRwebEmit||i.onRRwebEmit(t)}overrideLinkedFlag(){var t;null==(t=this.Qe)||t.overrideLinkedFlag()}overrideSampling(){var t;null==(t=this.Qe)||t.overrideSampling()}overrideTrigger(t){var i;null==(i=this.Qe)||i.overrideTrigger(t)}get sdkDebugProperties(){var t;return(null==(t=this.Qe)?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,i){var e;return!(null==(e=this.Qe)||!e.tryAddCustomEvent(t,i))}}var So={},xo=()=>{},Eo=\"posthog\",$o=!en&&-1===(null==d?void 0:d.indexOf(\"MSIE\"))&&-1===(null==d?void 0:d.indexOf(\"Mozilla\")),ko=i=>{var e;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Ut(null==o?void 0:o.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:xo,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:\"2025-05-24\"!==i||\"history_change\",capture_pageleave:\"if_capture_pageview\",defaults:null!=i?i:\"unset\",debug:a&&O(null==a?void 0:a.search)&&-1!==a.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null==(e=t.location)?void 0:e.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var i=\"Bad HTTP status: \"+t.statusCode+\" \"+t.text;$t.error(i)},get_device_id:t=>t,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:Kn},error_tracking:{},_onCapture:xo,__preview_eager_load_replay:!1}},Po=t=>{var i={};C(t.process_person)||(i.person_profiles=t.process_person),C(t.xhr_headers)||(i.request_headers=t.xhr_headers),C(t.cookie_name)||(i.persistence_name=t.cookie_name),C(t.disable_cookie)||(i.disable_persistence=t.disable_cookie),C(t.store_google)||(i.save_campaign_params=t.store_google),C(t.verbose)||(i.debug=t.verbose);var e=Ot({},i,t);return P(t.property_blacklist)&&(C(t.property_denylist)?e.property_denylist=t.property_blacklist:P(t.property_denylist)?e.property_denylist=[...t.property_blacklist,...t.property_denylist]:$t.error(\"Invalid value for property_denylist config: \"+t.property_denylist)),e};class To{constructor(){this.__forceAllowLocalhost=!1}get lr(){return this.__forceAllowLocalhost}set lr(t){$t.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=t}}class Io{get decideEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}get flagsEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}constructor(){this.webPerformance=new To,this.ur=!1,this.version=c.LIB_VERSION,this.hr=new An,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=ko(),this.SentryIntegration=Je,this.sentryIntegration=t=>function(t,i){var e=Ve(t,i);return{name:Ge,processEvent:t=>e(t)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this.dr=!1,this.vr=null,this.cr=null,this.pr=null,this.featureFlags=new xn(this),this.toolbar=new Ze(this),this.scrollManager=new Zn(this),this.pageViewManager=new ys(this),this.surveys=new qn(this),this.experiments=new po(this),this.exceptions=new cn(this),this.rateLimiter=new Gn(this),this.requestRouter=new co(this),this.consent=new Ae(this),this.externalIntegrations=new mo(this),this.people={set:(t,i,e)=>{var r=O(t)?{[t]:i}:t;this.setPersonProperties(r),null==e||e({})},set_once:(t,i,e)=>{var r=O(t)?{[t]:i}:t;this.setPersonProperties(void 0,r),null==e||e({})}},this.on(\"eventCaptured\",(t=>$t.info('send \"'+(null==t?void 0:t.event)+'\"',t)))}init(t,i,e){if(e&&e!==Eo){var r,s=null!==(r=So[e])&&void 0!==r?r:new Io;return s._init(t,i,e),So[e]=s,So[Eo][e]=s,s}return this._init(t,i,e)}_init(i,e,r){var s,n;if(void 0===e&&(e={}),C(i)||F(i))return $t.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return $t.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this.gr=e,this._r=[],e.person_profiles&&(this.cr=e.person_profiles),this.set_config(Ot({},ko(e.defaults),Po(e),{name:r,token:i})),this.config.on_xhr_error&&$t.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=e.disable_compression?void 0:ie.GZipJS;var o=this.mr();this.persistence=new $n(this.config,o),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new $n(g({},this.config,{persistence:\"sessionStorage\"}),o);var a=g({},this.persistence.props),l=g({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.yr=new Yn((t=>this.br(t)),this.config.request_queue_config),this.wr=new Qn(this),this.__request_queue=[];var u=\"always\"===this.config.cookieless_mode||\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(u||(this.sessionManager=new ro(this),this.sessionPropsManager=new io(this,this.sessionManager,this.persistence)),new ir(this).startIfEnabledOrStop(),this.siteApps=new oo(this),null==(s=this.siteApps)||s.init(),u||(this.sessionRecording=new wo(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new ce(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new ms(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new ps(this),this.exceptionObserver=new ze(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new Ne(this,Le),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new Be(this),this.historyAutocapture.startIfEnabled(),c.DEBUG=c.DEBUG||this.config.debug,c.DEBUG&&$t.info(\"Starting in debug mode\",{this:this,config:e,thisC:g({},this.config),p:a,s:l}),void 0!==(null==(n=e.bootstrap)?void 0:n.distinctID)){var h,d,v=this.config.get_device_id(be()),f=null!=(h=e.bootstrap)&&h.isIdentifiedID?v:e.bootstrap.distinctID;this.persistence.set_property(di,null!=(d=e.bootstrap)&&d.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:e.bootstrap.distinctID,$device_id:f})}if(this.Sr()){var p,_,m=Object.keys((null==(p=e.bootstrap)?void 0:p.featureFlags)||{}).filter((t=>{var i;return!(null==(i=e.bootstrap)||null==(i=i.featureFlags)||!i[t])})).reduce(((t,i)=>{var r;return t[i]=(null==(r=e.bootstrap)||null==(r=r.featureFlags)?void 0:r[i])||!1,t}),{}),y=Object.keys((null==(_=e.bootstrap)?void 0:_.featureFlagPayloads)||{}).filter((t=>m[t])).reduce(((t,i)=>{var r,s;null!=(r=e.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[i]&&(t[i]=null==(s=e.bootstrap)||null==(s=s.featureFlagPayloads)?void 0:s[i]);return t}),{});this.featureFlags.receivedFeatureFlags({featureFlags:m,featureFlagPayloads:y})}if(u)this.register_once({distinct_id:yi,$device_id:null},\"\");else if(!this.get_distinct_id()){var b=this.config.get_device_id(be());this.register_once({distinct_id:b,$device_id:b},\"\"),this.persistence.set_property(di,\"anonymous\")}return Ht(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),e.segment?We(this,(()=>this.Er())):this.Er(),T(this.config._onCapture)&&this.config._onCapture!==xo&&($t.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(t=>this.config._onCapture(t.event,t)))),this.config.ip&&$t.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or \"Discard IP data\" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}hi(t){var i,e,r,s,n,a,l,u;if(!o||!o.body)return $t.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this.hi(t)}),500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=y(t.supportedCompression,ie.GZipJS)?ie.GZipJS:y(t.supportedCompression,ie.Base64)?ie.Base64:void 0),null!=(i=t.analytics)&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.cr?this.cr:\"identified_only\"}),null==(e=this.siteApps)||e.onRemoteConfig(t),null==(r=this.sessionRecording)||r.onRemoteConfig(t),null==(s=this.autocapture)||s.onRemoteConfig(t),null==(n=this.heatmaps)||n.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(t),null==(l=this.exceptionObserver)||l.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),null==(u=this.deadClicksAutocapture)||u.onRemoteConfig(t)}Er(){try{this.config.loaded(this)}catch(t){$t.critical(\"`loaded` function failed\",t)}this.$r(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||\"always\"===this.config.cookieless_mode)&&this.kr()}),1),new Jn(this).load(),this.featureFlags.flags()}$r(){var t;this.is_capturing()&&(this.config.request_batching&&(null==(t=this.yr)||t.enable()))}_dom_loaded(){this.is_capturing()&&Rt(this.__request_queue,(t=>this.br(t))),this.__request_queue=[],this.$r()}_handle_unload(){var t,i;this.config.request_batching?(this.Pr()&&this.capture(\"$pageleave\"),null==(t=this.yr)||t.unload(),null==(i=this.wr)||i.unload()):this.Pr()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}ui(t){this.__loaded&&($o?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=sn(t.url,{ip:this.config.ip?1:0}),t.headers=g({},this.config.request_headers),t.compression=\"best-available\"===t.compression?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=[\"sendBeacon\"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(t=>{var i,e,r,s=g({},t);s.timeout=s.timeout||6e4,s.url=sn(s.url,{_:(new Date).getTime().toString(),ver:c.LIB_VERSION,compression:s.compression});var n=null!==(i=s.transport)&&void 0!==i?i:\"fetch\",o=an.filter((t=>!s.disableTransport||!t.transport||!s.disableTransport.includes(t.transport))),a=null!==(e=null==(r=zt(o,(t=>t.transport===n)))?void 0:r.method)&&void 0!==e?e:o[0].method;if(!a)throw new Error(\"No available transport method\");a(s)})(g({},t,{callback:i=>{var e,r;(this.rateLimiter.checkForLimiting(i),i.statusCode>=400)&&(null==(e=(r=this.config).on_request_error)||e.call(r,i));null==t.callback||t.callback(i)}}))))}br(t){this.wr?this.wr.retriableRequest(t):this.ui(t)}_execute_array(t){var i,e=[],r=[],s=[];Rt(t,(t=>{t&&(i=t[0],P(i)?s.push(t):T(t)?t.call(this):P(t)&&\"alias\"===i?e.push(t):P(t)&&-1!==i.indexOf(\"capture\")&&T(this[i])?s.push(t):r.push(t))}));var n=function(t,i){Rt(t,(function(t){if(P(t[0])){var e=i;Ct(t,(function(t){e=e[t[0]].apply(e,t.slice(1))}))}else this[t[0]].apply(this,t.slice(1))}),i)};n(e,this),n(r,this),n(s,this)}Sr(){var t,i;return(null==(t=this.config.bootstrap)?void 0:t.featureFlags)&&Object.keys(null==(i=this.config.bootstrap)?void 0:i.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,i,e){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.yr){if(this.is_capturing())if(!C(t)&&O(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=null!=e&&e.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){null!=i&&i.$current_url&&!O(null==i?void 0:i.$current_url)&&($t.error(\"Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value.\"),null==i||delete i.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var n=new Date,o=(null==e?void 0:e.timestamp)||n,a=be(),l={uuid:a,event:t,properties:this.calculateEventProperties(t,i||{},o,a)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==e?void 0:e.$set)&&(l.$set=null==e?void 0:e.$set);var u,h=this.Tr(null==e?void 0:e.$set_once);if(h&&(l.$set_once=h),(l=Lt(l,null!=e&&e._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,C(null==e?void 0:e.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=n),t===On.DISMISSED||t===On.SENT){var d=null==i?void 0:i[Fn.SURVEY_ID],v=null==i?void 0:i[Fn.SURVEY_ITERATION];u={id:d,current_iteration:v},localStorage.getItem(Un(u))||localStorage.setItem(Un(u),\"true\"),l.$set=g({},l.$set,{[Nn({id:d,current_iteration:v},t===On.SENT?\"responded\":\"dismissed\")]:!0})}var c=g({},l.properties.$set,l.$set);if(R(c)||this.setPersonPropertiesForFlags(c),!A(this.config.before_send)){var f=this.Ir(l);if(!f)return;l=f}this.hr.emit(\"eventCaptured\",l);var p={method:\"POST\",url:null!==(r=null==e?void 0:e._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:l,compression:\"best-available\",batchKey:null==e?void 0:e._batchKey};return!this.config.request_batching||e&&(null==e||!e._batchKey)||null!=e&&e.send_instantly?this.br(p):this.yr.enqueue(p),l}$t.critical(\"This capture call is ignored due to client rate limiting.\")}}else $t.error(\"No event name provided to posthog.capture\")}else $t.uninitializedWarning(\"posthog.capture\")}Ri(t){return this.on(\"eventCaptured\",(i=>t(i.event,i)))}calculateEventProperties(t,i,e,r,s){if(e=e||new Date,!this.persistence||!this.sessionPersistence)return i;var n=s?void 0:this.persistence.remove_event_timer(t),a=g({},i);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(\"always\"==this.config.cookieless_mode||\"on_reject\"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),\"$snapshot\"===t){var l=g({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!O(a.distinct_id)&&!j(a.distinct_id)||F(a.distinct_id))&&$t.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),a}var u,h=vs(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:v,windowId:c}=this.sessionManager.checkAndGetSessionAndWindowId(s,e.getTime());a.$session_id=v,a.$window_id=c}this.sessionPropsManager&&Ot(a,this.sessionPropsManager.getSessionProps());try{var f;this.sessionRecording&&Ot(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=null==(f=this.wr)?void 0:f.length}catch(t){a.$sdk_debug_error_capturing_properties=String(t)}if(this.requestRouter.region===ho.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=\"$pageview\"!==t||s?\"$pageleave\"!==t||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(e):this.pageViewManager.doPageView(e,r),a=Ot(a,u),\"$pageview\"===t&&o&&(a.title=o.title),!C(n)){var p=e.getTime()-n;a.$duration=parseFloat((p/1e3).toFixed(3))}d&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?\"bot\":\"browser\"),(a=Ot({},h,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),P(this.config.property_denylist)?Ct(this.config.property_denylist,(function(t){delete a[t]})):$t.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&($t.error(\"sanitize_properties is deprecated. Use before_send instead\"),a=_(a,t));var m=this.Rr();return a.$process_person_profile=m,m&&!s&&this.Cr(\"_calculate_event_properties\"),a}Tr(t){var i;if(!this.persistence||!this.Rr())return t;if(this.ur)return t;var e=this.persistence.get_initial_props(),r=null==(i=this.sessionPropsManager)?void 0:i.getSetOnceProps(),s=Ot({},e,r||{},t||{}),n=this.config.sanitize_properties;return n&&($t.error(\"sanitize_properties is deprecated. Use before_send instead\"),s=n(s,\"$set_once\")),this.ur=!0,R(s)?void 0:s}register(t,i){var e;null==(e=this.persistence)||e.register(t,i)}register_once(t,i,e){var r;null==(r=this.persistence)||r.register_once(t,i,e)}register_for_session(t){var i;null==(i=this.sessionPersistence)||i.register(t)}unregister(t){var i;null==(i=this.persistence)||i.unregister(t)}unregister_for_session(t){var i;null==(i=this.sessionPersistence)||i.unregister(t)}Or(t,i){this.register({[t]:i})}getFeatureFlag(t,i){return this.featureFlags.getFeatureFlag(t,i)}getFeatureFlagPayload(t){var i=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(i)}catch(t){return i}}isFeatureEnabled(t,i){return this.featureFlags.isFeatureEnabled(t,i)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,i,e){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,i,e)}getEarlyAccessFeatures(t,i,e){return void 0===i&&(i=!1),this.featureFlags.getEarlyAccessFeatures(t,i,e)}on(t,i){return this.hr.on(t,i)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var i,e;return null!==(i=null==(e=this.sessionManager)?void 0:e.onSessionId(t))&&void 0!==i?i:()=>{}}getSurveys(t,i){void 0===i&&(i=!1),this.surveys.getSurveys(t,i)}getActiveMatchingSurveys(t,i){void 0===i&&(i=!1),this.surveys.getActiveMatchingSurveys(t,i)}renderSurvey(t,i){this.surveys.renderSurvey(t,i)}displaySurvey(t,i){void 0===i&&(i=Hn),this.surveys.displaySurvey(t,i)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,i){return void 0===i&&(i=!1),this.surveys.canRenderSurveyAsync(t,i)}identify(t,i,e){if(!this.__loaded||!this.persistence)return $t.uninitializedWarning(\"posthog.identify\");if(j(t)&&(t=t.toString(),$t.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),t)if([\"distinct_id\",\"distinctid\"].includes(t.toLowerCase()))$t.critical('The string \"'+t+'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==yi){if(this.Cr(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property(\"$device_id\")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},\"\")}t!==r&&t!==this.get_property(qt)&&(this.unregister(qt),this.register({distinct_id:t}));var n=\"anonymous\"===(this.persistence.get_property(di)||\"anonymous\");t!==r&&n?(this.persistence.set_property(di,\"identified\"),this.setPersonPropertiesForFlags(g({},e||{},i||{}),!1),this.capture(\"$identify\",{distinct_id:t,$anon_distinct_id:r},{$set:i||{},$set_once:e||{}}),this.pr=un(t,i,e),this.featureFlags.setAnonymousDistinctId(r)):(i||e)&&this.setPersonProperties(i,e),t!==r&&(this.reloadFeatureFlags(),this.unregister(hi))}}else $t.critical('The string \"'+yi+'\" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else $t.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(t,i){if((t||i)&&this.Cr(\"posthog.setPersonProperties\")){var e=un(this.get_distinct_id(),t,i);this.pr!==e?(this.setPersonPropertiesForFlags(g({},i||{},t||{})),this.capture(\"$set\",{$set:t||{},$set_once:i||{}}),this.pr=e):$t.info(\"A duplicate setPersonProperties call was made with the same properties. It has been ignored.\")}}group(t,i,e){if(t&&i){if(this.Cr(\"posthog.group\")){var r=this.getGroups();r[t]!==i&&this.resetGroupPropertiesForFlags(t),this.register({$groups:g({},r,{[t]:i})}),e&&(this.capture(\"$groupidentify\",{$group_type:t,$group_key:i,$group_set:e}),this.setGroupPropertiesForFlags({[t]:e})),r[t]===i||e||this.reloadFeatureFlags()}}else $t.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0),this.featureFlags.setPersonPropertiesForFlags(t,i)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0),this.Cr(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(t,i)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var i,e,r,s;if($t.info(\"reset\"),!this.__loaded)return $t.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null==(i=this.persistence)||i.clear(),null==(e=this.sessionPersistence)||e.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(r=this.persistence)||r.set_property(di,\"anonymous\"),null==(s=this.sessionManager)||s.resetSessionId(),this.pr=null,\"always\"===this.config.cookieless_mode)this.register_once({distinct_id:yi,$device_id:null},\"\");else{var o=this.config.get_device_id(be());this.register_once({distinct_id:o,$device_id:t?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var t,i;return null!==(t=null==(i=this.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==t?t:\"\"}get_session_replay_url(t){if(!this.sessionManager)return\"\";var{sessionId:i,sessionStartTimestamp:e}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\"+this.config.token+\"/replay/\"+i);if(null!=t&&t.withTimestamp&&e){var s,n=null!==(s=t.timestampLookBack)&&void 0!==s?s:10;if(!e)return r;r+=\"?t=\"+Math.max(Math.floor(((new Date).getTime()-e)/1e3)-n,0)}return r}alias(t,i){return t===this.get_property(Bt)?($t.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this.Cr(\"posthog.alias\")?(C(i)&&(i=this.get_distinct_id()),t!==i?(this.Or(qt,t),this.capture(\"$create_alias\",{alias:t,distinct_id:i})):($t.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(t),-1)):void 0}set_config(t){var i=g({},this.config);if(I(t)){var e,r,s,n,o;Ot(this.config,Po(t));var a=this.mr();null==(e=this.persistence)||e.update_config(this.config,i,a),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new $n(g({},this.config,{persistence:\"sessionStorage\"}),a),Pe.G()&&\"true\"===Pe.J(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(c.DEBUG=!0,$t.info(\"set_config\",{config:t,oldConfig:i,newConfig:g({},this.config)})),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(s=this.autocapture)||s.startIfEnabled(),null==(n=this.heatmaps)||n.startIfEnabled(),this.surveys.loadIfEnabled(),this.Fr(),null==(o=this.externalIntegrations)||o.startIfEnabledOrStop()}}startSessionRecording(t){var i=!0===t,e={sampling:i||!(null==t||!t.sampling),linked_flag:i||!(null==t||!t.linked_flag),url_trigger:i||!(null==t||!t.url_trigger),event_trigger:i||!(null==t||!t.event_trigger)};if(Object.values(e).some(Boolean)){var r,s,n,o,a;if(null==(r=this.sessionManager)||r.checkAndGetSessionAndWindowId(),e.sampling)null==(s=this.sessionRecording)||s.overrideSampling();if(e.linked_flag)null==(n=this.sessionRecording)||n.overrideLinkedFlag();if(e.url_trigger)null==(o=this.sessionRecording)||o.overrideTrigger(\"url\");if(e.event_trigger)null==(a=this.sessionRecording)||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!(null==(t=this.sessionRecording)||!t.started)}captureException(t,i){var e=new Error(\"PostHog syntheticException\"),r=this.exceptions.buildProperties(t,{handled:!0,syntheticException:e});return this.exceptions.sendExceptionEvent(g({},r,i))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var i;return null==(i=this.persistence)?void 0:i.props[t]}getSessionProperty(t){var i;return null==(i=this.sessionPersistence)?void 0:i.props[t]}toString(){var t,i=null!==(t=this.config.name)&&void 0!==t?t:Eo;return i!==Eo&&(i=Eo+\".\"+i),i}_isIdentified(){var t,i;return\"identified\"===(null==(t=this.persistence)?void 0:t.get_property(di))||\"identified\"===(null==(i=this.sessionPersistence)?void 0:i.get_property(di))}Rr(){var t,i;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&R(this.getGroups())&&(null==(t=this.persistence)||null==(t=t.props)||!t[qt])&&(null==(i=this.persistence)||null==(i=i.props)||!i[_i]))}Pr(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||\"history_change\"===this.config.capture_pageview)}createPersonProfile(){this.Rr()||this.Cr(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}Cr(t){return\"never\"===this.config.person_profiles?($t.error(t+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this.Or(_i,!0),!0)}mr(){if(\"always\"===this.config.cookieless_mode)return!0;var t=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default||\"on_reject\"===this.config.cookieless_mode;return this.config.disable_persistence||t&&!!i}Fr(){var t,i,e,r,s=this.mr();(null==(t=this.persistence)?void 0:t.gi)!==s&&(null==(e=this.persistence)||e.set_disabled(s));(null==(i=this.sessionPersistence)?void 0:i.gi)!==s&&(null==(r=this.sessionPersistence)||r.set_disabled(s));return s}opt_in_capturing(t){if(\"always\"!==this.config.cookieless_mode){var i,e;if(\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())this.reset(!0),null==(i=this.sessionManager)||i.destroy(),this.sessionManager=new ro(this),this.persistence&&(this.sessionPropsManager=new io(this,this.sessionManager,this.persistence)),this.sessionRecording=new wo(this),this.sessionRecording.startIfEnabledOrStop();if(this.consent.optInOut(!0),this.Fr(),this.$r(),\"on_reject\"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),C(null==t?void 0:t.captureEventName)||null!=t&&t.captureEventName)this.capture(null!==(e=null==t?void 0:t.captureEventName)&&void 0!==e?e:\"$opt_in\",null==t?void 0:t.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this.kr()}else $t.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}opt_out_capturing(){var t,i;\"always\"!==this.config.cookieless_mode?(\"on_reject\"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Fr(),\"on_reject\"===this.config.cookieless_mode&&(this.register({distinct_id:yi,$device_id:null}),null==(t=this.sessionManager)||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(i=this.sessionRecording)||i.stopRecording(),this.sessionRecording=void 0,this.kr())):$t.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===Me.GRANTED?\"granted\":t===Me.DENIED?\"denied\":\"pending\"}is_capturing(){return\"always\"===this.config.cookieless_mode||(\"on_reject\"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Fr()}_is_bot(){return n?uo(n,this.config.custom_blocked_useragents):void 0}kr(){o&&(\"visible\"===o.visibilityState?this.dr||(this.dr=!0,this.capture(\"$pageview\",{title:o.title},{send_instantly:!0}),this.vr&&(o.removeEventListener(\"visibilitychange\",this.vr),this.vr=null)):this.vr||(this.vr=this.kr.bind(this),Ht(o,\"visibilitychange\",this.vr)))}debug(i){!1===i?(null==t||t.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}L(){var t,i,e,r,s,n,o,a=this.gr||{};return\"advanced_disable_flags\"in a?!!a.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?($t.warn(\"Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version.\"),!0):(e=\"advanced_disable_decide\",r=!1,s=$t,n=(i=\"advanced_disable_flags\")in(t=a)&&!C(t[i]),o=e in t&&!C(t[e]),n?t[i]:o?(s&&s.warn(\"Config field '\"+e+\"' is deprecated. Please use '\"+i+\"' instead. The old field will be removed in a future major version.\"),t[e]):r)}Ir(t){if(A(this.config.before_send))return t;var i=P(this.config.before_send)?this.config.before_send:[this.config.before_send],e=t;for(var r of i){if(e=r(e),A(e)){var s=\"Event '\"+t.event+\"' was rejected in beforeSend function\";return N(t.event)?$t.warn(s+\". This can cause unexpected behavior.\"):$t.info(s),null}e.properties&&!R(e.properties)||$t.warn(\"Event '\"+t.event+\"' has no properties after beforeSend function, this is likely an error.\")}return e}getPageViewId(){var t;return null==(t=this.pageViewManager.Wt)?void 0:t.pageViewId}captureTraceFeedback(t,i){this.capture(\"$ai_feedback\",{$ai_trace_id:String(t),$ai_feedback_text:i})}captureTraceMetric(t,i,e){this.capture(\"$ai_metric\",{$ai_trace_id:String(t),$ai_metric_name:i,$ai_metric_value:String(e)})}}!function(t,i){for(var e=0;e<i.length;e++)t.prototype[i[e]]=jt(t.prototype[i[e]])}(Io,[\"identify\"]);var Ro,Co=(Ro=So[Eo]=new Io,function(){function i(){i.done||(i.done=!0,$o=!1,Ct(So,(function(t){t._dom_loaded()})))}null!=o&&o.addEventListener?\"complete\"===o.readyState?i():Ht(o,\"DOMContentLoaded\",i,{capture:!1}):t&&$t.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),Ro);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvZGlzdC9tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaWFBQWlhLElBQUksZ0NBQWdDLDBCQUEwQixJQUFJLHdCQUF3QixTQUFTLGlCQUFpQix5Q0FBeUMsY0FBYyxrQkFBa0IsdUJBQXVCLGtDQUFrQyxtQkFBbUIsY0FBYyxzQkFBc0IsY0FBYyx1QkFBdUIsVUFBVSxJQUFJLGFBQWEsd0RBQXdELFlBQVksbUJBQW1CLEtBQUssbUJBQW1CLGtCQUFrQix3Q0FBd0MsU0FBUyx5QkFBeUIsZ0JBQWdCLG9CQUFvQixTQUFTLG9CQUFvQiwyQkFBMkIsOEJBQThCLFVBQVUsU0FBUyw0UEFBNFAsZ0JBQWdCLHdCQUF3QixrQkFBa0IsZ0JBQWdCLGVBQWUsNEJBQTRCLHdGQUF3RixtQ0FBbUMsMkRBQTJELFNBQVMsdUNBQXVDLFNBQVMsU0FBUyw2TkFBNk4sY0FBYyxvQ0FBb0MsZ0JBQWdCLDREQUE0RCxjQUFjLCtCQUErQixJQUFJLHNCQUFzQixTQUFTLFVBQVUsVUFBVSxvRUFBb0Usc0JBQXNCLDRUQUE0VCxRQUFRLGVBQWUsa0JBQWtCLGFBQWEsaUNBQWlDLHVCQUF1Qix1Q0FBdUMsR0FBRyw0Q0FBNEMsb0JBQW9CLDJCQUEyQixvREFBb0Qsb0NBQW9DLFlBQVksWUFBWSwrQ0FBK0Msb0xBQW9MLFNBQVMsVUFBVSxPQUFPLCtDQUErQyxrQ0FBa0MsY0FBYyxrQ0FBa0MsTUFBTSxxQkFBcUIsd0RBQXdELFFBQVEsRUFBRSxXQUFXLGtCQUFrQixpQ0FBaUMsS0FBSyxLQUFLLDhDQUE4QyxTQUFTLGtCQUFrQixPQUFPLFNBQVMsSUFBSSxNQUFNLFVBQVUscUJBQXFCLE9BQU8sK0VBQStFLDhDQUE4QyxlQUFlLGtGQUFrRiw0R0FBNEcsdU9BQXVPLGlCQUFpQixNQUFNLGNBQWMscUJBQXFCLGlCQUFpQixNQUFNLG1DQUFtQyxvQkFBb0IsbUNBQW1DLDBCQUEwQixvREFBb0Qs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LHFEQUFxRCw4QkFBOEIsZ0JBQWdCLFFBQVEsMEpBQTBKLEtBQUssUUFBUSw4UEFBOFAsS0FBSyxzTEFBc0wsc0JBQXNCLDhFQUE4RSxHQUFHLEVBQUUsTUFBTSxpS0FBaUssS0FBSyxtREFBbUQsd0hBQXdILCtDQUErQyxLQUFLLHdCQUF3Qiw4RkFBOEYsNEdBQTRHLFNBQVMsb0JBQW9CLDJDQUEyQyxRQUFRLDRWQUE0VixnVEFBZ1Qsa0JBQWtCLEVBQUUsd0NBQXdDLGtHQUFrRyxvQkFBb0IsUUFBUSwyTkFBMk4sK0JBQStCLGlTQUFpUyx5QkFBeUIsZ0NBQWdDLDBCQUEwQixpQ0FBaUMsOEJBQThCLDJCQUEyQixpRUFBaUUsZUFBZSx3TEFBd0wsNkJBQTZCLCtCQUErQixVQUFVLDREQUE0RCxLQUFLLGlGQUFpRixjQUFjLEVBQUUsa0JBQWtCLHFKQUFxSixTQUFTLGlJQUFpSSxTQUFTLHVPQUF1TyxTQUFTLEdBQUcsSUFBSSxnQ0FBZ0MsbW1CQUFtbUIsTUFBTSx1Q0FBdUMsdUZBQXVGLGdCQUFnQixnQkFBZ0IsZ0VBQWdFLHFGQUFxRixxSUFBcUksU0FBUyxnQkFBZ0IsTUFBTSw2REFBNkQsMEJBQTBCLDZCQUE2QiwyQ0FBMkMsRUFBRSwwQkFBMEIsMkJBQTJCLG9FQUFvRSxHQUFHLGVBQWUsWUFBWSxXQUFXLDRDQUE0QyxrQkFBa0IsdUNBQXVDLGFBQWEsNENBQTRDLGdCQUFnQixJQUFJLHFGQUFxRixXQUFXLHdHQUF3RyxPQUFvVjtBQUN6NjBKIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGpnZXdpXFxPcHRpYW11bSBTaXRlXFxvcHRhaW11bS1jb25zdWx0aW5nXFxub2RlX21vZHVsZXNcXHBvc3Rob2ctanNcXGRpc3RcXG1vZHVsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDAsaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnQsZT1BcnJheS5wcm90b3R5cGUscj1lLmZvckVhY2gscz1lLmluZGV4T2Ysbj1udWxsPT1pP3ZvaWQgMDppLm5hdmlnYXRvcixvPW51bGw9PWk/dm9pZCAwOmkuZG9jdW1lbnQsYT1udWxsPT1pP3ZvaWQgMDppLmxvY2F0aW9uLGw9bnVsbD09aT92b2lkIDA6aS5mZXRjaCx1PW51bGwhPWkmJmkuWE1MSHR0cFJlcXVlc3QmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBuZXcgaS5YTUxIdHRwUmVxdWVzdD9pLlhNTEh0dHBSZXF1ZXN0OnZvaWQgMCxoPW51bGw9PWk/dm9pZCAwOmkuQWJvcnRDb250cm9sbGVyLGQ9bnVsbD09bj92b2lkIDA6bi51c2VyQWdlbnQsdj1udWxsIT10P3Q6e30sYz17REVCVUc6ITEsTElCX1ZFUlNJT046XCIxLjI3NS4xXCJ9O2Z1bmN0aW9uIGYodCxpLGUscixzLG4sbyl7dHJ5e3ZhciBhPXRbbl0obyksbD1hLnZhbHVlfWNhdGNoKHQpe3JldHVybiB2b2lkIGUodCl9YS5kb25lP2kobCk6UHJvbWlzZS5yZXNvbHZlKGwpLnRoZW4ocixzKX1mdW5jdGlvbiBwKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBpPXRoaXMsZT1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihyLHMpe3ZhciBuPXQuYXBwbHkoaSxlKTtmdW5jdGlvbiBvKHQpe2YobixyLHMsbyxhLFwibmV4dFwiLHQpfWZ1bmN0aW9uIGEodCl7ZihuLHIscyxvLGEsXCJ0aHJvd1wiLHQpfW8odm9pZCAwKX0pKX19ZnVuY3Rpb24gZygpe3JldHVybiBnPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24odCl7Zm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKyl7dmFyIGU9YXJndW1lbnRzW2ldO2Zvcih2YXIgciBpbiBlKSh7fSkuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKX1yZXR1cm4gdH0sZy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gXyh0LGkpe2lmKG51bGw9PXQpcmV0dXJue307dmFyIGU9e307Zm9yKHZhciByIGluIHQpaWYoe30uaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpKXtpZigtMSE9PWkuaW5kZXhPZihyKSljb250aW51ZTtlW3JdPXRbcl19cmV0dXJuIGV9dmFyIG09W1wiJHNuYXBzaG90XCIsXCIkcGFnZXZpZXdcIixcIiRwYWdlbGVhdmVcIixcIiRzZXRcIixcInN1cnZleSBkaXNtaXNzZWRcIixcInN1cnZleSBzZW50XCIsXCJzdXJ2ZXkgc2hvd25cIixcIiRpZGVudGlmeVwiLFwiJGdyb3VwaWRlbnRpZnlcIixcIiRjcmVhdGVfYWxpYXNcIixcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIsXCIkd2ViX2V4cGVyaW1lbnRfYXBwbGllZFwiLFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixcIiRmZWF0dXJlX2ZsYWdfY2FsbGVkXCJdO2Z1bmN0aW9uIHkodCxpKXtyZXR1cm4tMSE9PXQuaW5kZXhPZihpKX12YXIgYj1mdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9LHc9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXlxcJC8sXCJcIil9O3ZhciBTPUFycmF5LmlzQXJyYXkseD1PYmplY3QucHJvdG90eXBlLEU9eC5oYXNPd25Qcm9wZXJ0eSxrPXgudG9TdHJpbmcsUD1TfHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1rLmNhbGwodCl9LFQ9dD0+XCJmdW5jdGlvblwiPT10eXBlb2YgdCxJPXQ9PnQ9PT1PYmplY3QodCkmJiFQKHQpLFI9dD0+e2lmKEkodCkpe2Zvcih2YXIgaSBpbiB0KWlmKEUuY2FsbCh0LGkpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfSxDPXQ9PnZvaWQgMD09PXQsTz10PT5cIltvYmplY3QgU3RyaW5nXVwiPT1rLmNhbGwodCksRj10PT5PKHQpJiYwPT09dC50cmltKCkubGVuZ3RoLE09dD0+bnVsbD09PXQsQT10PT5DKHQpfHxNKHQpLGo9dD0+XCJbb2JqZWN0IE51bWJlcl1cIj09ay5jYWxsKHQpLEQ9dD0+XCJbb2JqZWN0IEJvb2xlYW5dXCI9PT1rLmNhbGwodCksTD10PT50IGluc3RhbmNlb2YgRm9ybURhdGEsTj10PT55KG0sdCk7ZnVuY3Rpb24gVSh0KXtyZXR1cm4gbnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fWZ1bmN0aW9uIHoodCxpKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPT09XCJbb2JqZWN0IFwiK2krXCJdXCJ9ZnVuY3Rpb24gSCh0KXtyZXR1cm4hQyhFdmVudCkmJmZ1bmN0aW9uKHQsaSl7dHJ5e3JldHVybiB0IGluc3RhbmNlb2YgaX1jYXRjaCh0KXtyZXR1cm4hMX19KHQsRXZlbnQpfXZhciBCPVshMCxcInRydWVcIiwxLFwiMVwiLFwieWVzXCJdLHE9dD0+eShCLHQpLFc9WyExLFwiZmFsc2VcIiwwLFwiMFwiLFwibm9cIl07ZnVuY3Rpb24gRyh0LGksZSxyLHMpe3JldHVybiBpPmUmJihyLndhcm4oXCJtaW4gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBtYXguXCIpLGk9ZSksaih0KT90PmU/KHIud2FybihcIiBjYW5ub3QgYmUgIGdyZWF0ZXIgdGhhbiBtYXg6IFwiK2UrXCIuIFVzaW5nIG1heCB2YWx1ZSBpbnN0ZWFkLlwiKSxlKTp0PGk/KHIud2FybihcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG1pbjogXCIraStcIi4gVXNpbmcgbWluIHZhbHVlIGluc3RlYWQuXCIpLGkpOnQ6KHIud2FybihcIiBtdXN0IGJlIGEgbnVtYmVyLiB1c2luZyBtYXggb3IgZmFsbGJhY2suIG1heDogXCIrZStcIiwgZmFsbGJhY2s6IFwiK3MpLEcoc3x8ZSxpLGUscikpfWNsYXNzIFZ7Y29uc3RydWN0b3IodCl7dGhpcy50PXQsdGhpcy5pPXt9LHRoaXMubz0oKT0+e09iamVjdC5rZXlzKHRoaXMuaSkuZm9yRWFjaCgodD0+e3ZhciBpPXRoaXMuaCh0KSt0aGlzLm07aT49dGhpcy5TP2RlbGV0ZSB0aGlzLmlbdF06dGhpcy4kKHQsaSl9KSl9LHRoaXMuaD10PT50aGlzLmlbU3RyaW5nKHQpXSx0aGlzLiQ9KHQsaSk9Pnt0aGlzLmlbU3RyaW5nKHQpXT1pfSx0aGlzLmNvbnN1bWVSYXRlTGltaXQ9dD0+e3ZhciBpLGUscj1udWxsIT09KGk9dGhpcy5oKHQpKSYmdm9pZCAwIT09aT9pOnRoaXMuUztpZigwPT09KHI9TWF0aC5tYXgoci0xLDApKSlyZXR1cm4hMDt0aGlzLiQodCxyKTt2YXIgcz0wPT09cjtyZXR1cm4gcyYmKG51bGw9PShlPXRoaXMuayl8fGUuY2FsbCh0aGlzLHQpKSxzfSx0aGlzLms9dGhpcy50LmssdGhpcy5TPUcodGhpcy50LmJ1Y2tldFNpemUsMCwxMDAsdGhpcy50LlApLHRoaXMubT1HKHRoaXMudC5yZWZpbGxSYXRlLDAsdGhpcy5TLHRoaXMudC5QKSx0aGlzLlQ9Ryh0aGlzLnQucmVmaWxsSW50ZXJ2YWwsMCw4NjRlNSx0aGlzLnQuUCksdGhpcy5JPXNldEludGVydmFsKCgoKT0+e3RoaXMubygpfSksdGhpcy5UKX1zdG9wKCl7dGhpcy5JJiYoY2xlYXJJbnRlcnZhbCh0aGlzLkkpLHRoaXMuST12b2lkIDApfX12YXIgSixLLFksWD10PT50IGluc3RhbmNlb2YgRXJyb3I7ZnVuY3Rpb24gUSh0KXt2YXIgaT1nbG9iYWxUaGlzLl9wb3N0aG9nQ2h1bmtJZHM7aWYoaSl7dmFyIGU9T2JqZWN0LmtleXMoaSk7cmV0dXJuIFkmJmUubGVuZ3RoPT09S3x8KEs9ZS5sZW5ndGgsWT1lLnJlZHVjZSgoKGUscik9PntKfHwoSj17fSk7dmFyIHM9SltyXTtpZihzKWVbc1swXV09c1sxXTtlbHNlIGZvcih2YXIgbj10KHIpLG89bi5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9bltvXSxsPW51bGw9PWE/dm9pZCAwOmEuZmlsZW5hbWUsdT1pW3JdO2lmKGwmJnUpe2VbbF09dSxKW3JdPVtsLHVdO2JyZWFrfX1yZXR1cm4gZX0pLHt9KSksWX19dmFyIFo9XCI/XCI7ZnVuY3Rpb24gdHQodCxpLGUscil7dmFyIHM9e3BsYXRmb3JtOlwid2ViOmphdmFzY3JpcHRcIixmaWxlbmFtZTp0LGZ1bmN0aW9uOlwiPGFub255bW91cz5cIj09PWk/WjppLGluX2FwcDohMH07cmV0dXJuIEMoZSl8fChzLmxpbmVubz1lKSxDKHIpfHwocy5jb2xubz1yKSxzfXZhciBpdD0odCxpKT0+e3ZhciBlPS0xIT09dC5pbmRleE9mKFwic2FmYXJpLWV4dGVuc2lvblwiKSxyPS0xIT09dC5pbmRleE9mKFwic2FmYXJpLXdlYi1leHRlbnNpb25cIik7cmV0dXJuIGV8fHI/Wy0xIT09dC5pbmRleE9mKFwiQFwiKT90LnNwbGl0KFwiQFwiKVswXTpaLGU/XCJzYWZhcmktZXh0ZW5zaW9uOlwiK2k6XCJzYWZhcmktd2ViLWV4dGVuc2lvbjpcIitpXTpbdCxpXX0sZXQ9L15cXHMqYXQgKFxcUys/KSg/OjooXFxkKykpKD86OihcXGQrKSlcXHMqJC9pLHJ0PS9eXFxzKmF0ICg/OiguKz9cXCkoPzogXFxbLitcXF0pP3wuKj8pID9cXCgoPzphZGRyZXNzIGF0ICk/KT8oPzphc3luYyApPygoPzo8YW5vbnltb3VzPnxbLWEtel0rOnwuKmJ1bmRsZXxcXC8pPy4qPykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxzdD0vXFwoKFxcUyopKD86OihcXGQrKSkoPzo6KFxcZCspKVxcKS8sbnQ9dD0+e3ZhciBpPWV0LmV4ZWModCk7aWYoaSl7dmFyWyxlLHIsc109aTtyZXR1cm4gdHQoZSxaLCtyLCtzKX12YXIgbj1ydC5leGVjKHQpO2lmKG4pe2lmKG5bMl0mJjA9PT1uWzJdLmluZGV4T2YoXCJldmFsXCIpKXt2YXIgbz1zdC5leGVjKG5bMl0pO28mJihuWzJdPW9bMV0sblszXT1vWzJdLG5bNF09b1szXSl9dmFyW2EsbF09aXQoblsxXXx8WixuWzJdKTtyZXR1cm4gdHQobCxhLG5bM10/K25bM106dm9pZCAwLG5bNF0/K25bNF06dm9pZCAwKX19LG90PS9eXFxzKiguKj8pKD86XFwoKC4qPylcXCkpPyg/Ol58QCk/KCg/OlstYS16XSspPzpcXC8uKj98XFxbbmF0aXZlIGNvZGVcXF18W15AXSooPzpidW5kbGV8XFxkK1xcLmpzKXxcXC9bXFx3XFwtLiAvPV0rKSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xccyokL2ksYXQ9LyhcXFMrKSBsaW5lIChcXGQrKSg/OiA+IGV2YWwgbGluZSBcXGQrKSogPiBldmFsL2ksbHQ9dD0+e3ZhciBpPW90LmV4ZWModCk7aWYoaSl7aWYoaVszXSYmaVszXS5pbmRleE9mKFwiID4gZXZhbFwiKT4tMSl7dmFyIGU9YXQuZXhlYyhpWzNdKTtlJiYoaVsxXT1pWzFdfHxcImV2YWxcIixpWzNdPWVbMV0saVs0XT1lWzJdLGlbNV09XCJcIil9dmFyIHI9aVszXSxzPWlbMV18fFo7cmV0dXJuW3Mscl09aXQocyxyKSx0dChyLHMsaVs0XT8raVs0XTp2b2lkIDAsaVs1XT8raVs1XTp2b2lkIDApfX0sdXQ9L1xcKGVycm9yOiAoLiopXFwpLyxodD01MDtmdW5jdGlvbiBkdCgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLGU9MDtlPHQ7ZSsrKWlbZV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO2Zvcih2YXIgcj1bXSxzPXQuc3BsaXQoXCJcXG5cIiksbj1lO248cy5sZW5ndGg7bisrKXt2YXIgbz1zW25dO2lmKCEoby5sZW5ndGg+MTAyNCkpe3ZhciBhPXV0LnRlc3Qobyk/by5yZXBsYWNlKHV0LFwiJDFcIik6bztpZighYS5tYXRjaCgvXFxTKkVycm9yOiAvKSl7Zm9yKHZhciBsIG9mIGkpe3ZhciB1PWwoYSk7aWYodSl7ci5wdXNoKHUpO2JyZWFrfX1pZihyLmxlbmd0aD49aHQpYnJlYWt9fX1yZXR1cm4gZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybltdO3ZhciBpPUFycmF5LmZyb20odCk7cmV0dXJuIGkucmV2ZXJzZSgpLGkuc2xpY2UoMCxodCkubWFwKCh0PT57cmV0dXJuIGcoe30sdCx7ZmlsZW5hbWU6dC5maWxlbmFtZXx8KGU9aSxlW2UubGVuZ3RoLTFdfHx7fSkuZmlsZW5hbWUsZnVuY3Rpb246dC5mdW5jdGlvbnx8Wn0pO3ZhciBlfSkpfShyKX19Y2xhc3MgdnR7Y29uc3RydWN0b3IodCxpLGUpe3ZvaWQgMD09PXQmJih0PVtdKSx2b2lkIDA9PT1pJiYoaT1bXSksdm9pZCAwPT09ZSYmKGU9W10pLHRoaXMuY29lcmNlcnM9dCx0aGlzLm1vZGlmaWVycz1lLHRoaXMuc3RhY2tQYXJzZXI9ZHQoLi4uaSl9YnVpbGRGcm9tVW5rbm93bih0LGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgZT1pJiZpLm1lY2hhbmlzbXx8e2hhbmRsZWQ6ITAsdHlwZTpcImdlbmVyaWNcIn0scj10aGlzLmJ1aWxkQ29lcmNpbmdDb250ZXh0KGUsaSwwKS5hcHBseSh0KSxzPXRoaXMuYnVpbGRQYXJzaW5nQ29udGV4dCgpLG49dGhpcy5wYXJzZVN0YWNrdHJhY2UocixzKTtyZXR1cm57JGV4Y2VwdGlvbl9saXN0OnRoaXMuY29udmVydFRvRXhjZXB0aW9uTGlzdChuLGUpLCRleGNlcHRpb25fbGV2ZWw6XCJlcnJvclwifX1tb2RpZnlGcmFtZXModCl7dmFyIGk9dGhpcztyZXR1cm4gcCgoZnVuY3Rpb24qKCl7Zm9yKHZhciBlIG9mIHQpZS5zdGFja3RyYWNlJiZlLnN0YWNrdHJhY2UuZnJhbWVzJiZQKGUuc3RhY2t0cmFjZS5mcmFtZXMpJiYoZS5zdGFja3RyYWNlLmZyYW1lcz15aWVsZCBpLmFwcGx5TW9kaWZpZXJzKGUuc3RhY2t0cmFjZS5mcmFtZXMpKTtyZXR1cm4gdH0pKSgpfWNvZXJjZUZhbGxiYWNrKHQpe3ZhciBpO3JldHVybnt0eXBlOlwiRXJyb3JcIix2YWx1ZTpcIlVua25vd24gZXJyb3JcIixzdGFjazpudWxsPT0oaT10LnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmkuc3RhY2ssc3ludGhldGljOiEwfX1wYXJzZVN0YWNrdHJhY2UodCxpKXt2YXIgZSxyO3JldHVybiBudWxsIT10LmNhdXNlJiYoZT10aGlzLnBhcnNlU3RhY2t0cmFjZSh0LmNhdXNlLGkpKSxcIlwiIT10LnN0YWNrJiZudWxsIT10LnN0YWNrJiYocj10aGlzLmFwcGx5Q2h1bmtJZHModGhpcy5zdGFja1BhcnNlcih0LnN0YWNrLHQuc3ludGhldGljPzE6MCksaS5jaHVua0lkTWFwKSksZyh7fSx0LHtjYXVzZTplLHN0YWNrOnJ9KX1hcHBseUNodW5rSWRzKHQsaSl7cmV0dXJuIHQubWFwKCh0PT4odC5maWxlbmFtZSYmaSYmKHQuY2h1bmtfaWQ9aVt0LmZpbGVuYW1lXSksdCkpKX1hcHBseUNvZXJjZXJzKHQsaSl7Zm9yKHZhciBlIG9mIHRoaXMuY29lcmNlcnMpaWYoZS5tYXRjaCh0KSlyZXR1cm4gZS5jb2VyY2UodCxpKTtyZXR1cm4gdGhpcy5jb2VyY2VGYWxsYmFjayhpKX1hcHBseU1vZGlmaWVycyh0KXt2YXIgaT10aGlzO3JldHVybiBwKChmdW5jdGlvbiooKXt2YXIgZT10O2Zvcih2YXIgciBvZiBpLm1vZGlmaWVycyllPXlpZWxkIHIoZSk7cmV0dXJuIGV9KSkoKX1jb252ZXJ0VG9FeGNlcHRpb25MaXN0KHQsaSl7dmFyIGUscixzLG49e3R5cGU6dC50eXBlLHZhbHVlOnQudmFsdWUsbWVjaGFuaXNtOnt0eXBlOm51bGwhPT0oZT1pLnR5cGUpJiZ2b2lkIDAhPT1lP2U6XCJnZW5lcmljXCIsaGFuZGxlZDpudWxsPT09KHI9aS5oYW5kbGVkKXx8dm9pZCAwPT09cnx8cixzeW50aGV0aWM6bnVsbCE9PShzPXQuc3ludGhldGljKSYmdm9pZCAwIT09cyYmc319O3Quc3RhY2smJihuLnN0YWNrdHJhY2U9e3R5cGU6XCJyYXdcIixmcmFtZXM6dC5zdGFja30pO3ZhciBvPVtuXTtyZXR1cm4gbnVsbCE9dC5jYXVzZSYmby5wdXNoKC4uLnRoaXMuY29udmVydFRvRXhjZXB0aW9uTGlzdCh0LmNhdXNlLGcoe30saSx7aGFuZGxlZDohMH0pKSksb31idWlsZFBhcnNpbmdDb250ZXh0KCl7cmV0dXJue2NodW5rSWRNYXA6USh0aGlzLnN0YWNrUGFyc2VyKX19YnVpbGRDb2VyY2luZ0NvbnRleHQodCxpLGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciByPShlLHIpPT57aWYocjw9NCl7dmFyIHM9dGhpcy5idWlsZENvZXJjaW5nQ29udGV4dCh0LGkscik7cmV0dXJuIHRoaXMuYXBwbHlDb2VyY2VycyhlLHMpfX07cmV0dXJuIGcoe30saSx7c3ludGhldGljRXhjZXB0aW9uOjA9PWU/aS5zeW50aGV0aWNFeGNlcHRpb246dm9pZCAwLG1lY2hhbmlzbTp0LGFwcGx5OnQ9PnIodCxlKSxuZXh0OnQ9PnIodCxlKzEpfSl9fWNsYXNzIGN0e21hdGNoKHQpe3JldHVybiB0aGlzLmlzRE9NRXhjZXB0aW9uKHQpfHx0aGlzLmlzRE9NRXJyb3IodCl9Y29lcmNlKHQsaSl7dmFyIGU9Tyh0LnN0YWNrKTtyZXR1cm57dHlwZTp0aGlzLmdldFR5cGUodCksdmFsdWU6dGhpcy5nZXRWYWx1ZSh0KSxzdGFjazplP3Quc3RhY2s6dm9pZCAwLGNhdXNlOnQuY2F1c2U/aS5uZXh0KHQuY2F1c2UpOnZvaWQgMCxzeW50aGV0aWM6ITF9fWdldFR5cGUodCl7cmV0dXJuIHRoaXMuaXNET01FcnJvcih0KT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIn1nZXRWYWx1ZSh0KXt2YXIgaT10Lm5hbWV8fCh0aGlzLmlzRE9NRXJyb3IodCk/XCJET01FcnJvclwiOlwiRE9NRXhjZXB0aW9uXCIpO3JldHVybiB0Lm1lc3NhZ2U/aStcIjogXCIrdC5tZXNzYWdlOml9aXNET01FeGNlcHRpb24odCl7cmV0dXJuIHoodCxcIkRPTUV4Y2VwdGlvblwiKX1pc0RPTUVycm9yKHQpe3JldHVybiB6KHQsXCJET01FcnJvclwiKX19Y2xhc3MgZnR7bWF0Y2godCl7cmV0dXJuKHQ9PnQgaW5zdGFuY2VvZiBFcnJvcikodCl9Y29lcmNlKHQsaSl7cmV0dXJue3R5cGU6dGhpcy5nZXRUeXBlKHQpLHZhbHVlOnRoaXMuZ2V0TWVzc2FnZSh0LGkpLHN0YWNrOnRoaXMuZ2V0U3RhY2sodCksY2F1c2U6dC5jYXVzZT9pLm5leHQodC5jYXVzZSk6dm9pZCAwLHN5bnRoZXRpYzohMX19Z2V0VHlwZSh0KXtyZXR1cm4gdC5uYW1lfHx0LmNvbnN0cnVjdG9yLm5hbWV9Z2V0TWVzc2FnZSh0LGkpe3ZhciBlPXQubWVzc2FnZTtyZXR1cm4gZS5lcnJvciYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZXJyb3IubWVzc2FnZT9TdHJpbmcoZS5lcnJvci5tZXNzYWdlKTpTdHJpbmcoZSl9Z2V0U3RhY2sodCl7cmV0dXJuIHQuc3RhY2t0cmFjZXx8dC5zdGFja3x8dm9pZCAwfX1jbGFzcyBwdHtjb25zdHJ1Y3Rvcigpe31tYXRjaCh0KXtyZXR1cm4geih0LFwiRXJyb3JFdmVudFwiKSYmbnVsbCE9dC5lcnJvcn1jb2VyY2UodCxpKXt2YXIgZSxyPWkuYXBwbHkodC5lcnJvcik7cmV0dXJuIHJ8fHt0eXBlOlwiRXJyb3JFdmVudFwiLHZhbHVlOnQubWVzc2FnZSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19dmFyIGd0PS9eKD86W1V1XW5jYXVnaHQgKD86ZXhjZXB0aW9uOiApPyk/KD86KCg/OkV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSXwpRXJyb3IpOiApPyguKikkL2k7Y2xhc3MgX3R7bWF0Y2godCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9Y29lcmNlKHQsaSl7dmFyIGUsW3Isc109dGhpcy5nZXRJbmZvcyh0KTtyZXR1cm57dHlwZTpudWxsIT1yP3I6XCJFcnJvclwiLHZhbHVlOm51bGwhPXM/czp0LHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9fWdldEluZm9zKHQpe3ZhciBpPVwiRXJyb3JcIixlPXQscj10Lm1hdGNoKGd0KTtyZXR1cm4gciYmKGk9clsxXSxlPXJbMl0pLFtpLGVdfX12YXIgbXQ9W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdO2Z1bmN0aW9uIHl0KHQsaSl7dm9pZCAwPT09aSYmKGk9NDApO3ZhciBlPU9iamVjdC5rZXlzKHQpO2lmKGUuc29ydCgpLCFlLmxlbmd0aClyZXR1cm5cIltvYmplY3QgaGFzIG5vIGtleXNdXCI7Zm9yKHZhciByPWUubGVuZ3RoO3I+MDtyLS0pe3ZhciBzPWUuc2xpY2UoMCxyKS5qb2luKFwiLCBcIik7aWYoIShzLmxlbmd0aD5pKSlyZXR1cm4gcj09PWUubGVuZ3RofHxzLmxlbmd0aDw9aT9zOnMuc2xpY2UoMCxpKStcIi4uLlwifXJldHVyblwiXCJ9Y2xhc3MgYnR7bWF0Y2godCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10fWNvZXJjZSh0LGkpe3ZhciBlLHI9dGhpcy5nZXRFcnJvclByb3BlcnR5RnJvbU9iamVjdCh0KTtyZXR1cm4gcj9pLmFwcGx5KHIpOnt0eXBlOnRoaXMuZ2V0VHlwZSh0KSx2YWx1ZTp0aGlzLmdldFZhbHVlKHQpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxsZXZlbDp0aGlzLmlzU2V2ZXJpdHlMZXZlbCh0LmxldmVsKT90LmxldmVsOlwiZXJyb3JcIixzeW50aGV0aWM6ITB9fWdldFR5cGUodCl7cmV0dXJuIEgodCk/dC5jb25zdHJ1Y3Rvci5uYW1lOlwiRXJyb3JcIn1nZXRWYWx1ZSh0KXtpZihcIm5hbWVcImluIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5hbWUpe3ZhciBpPVwiJ1wiK3QubmFtZStcIicgY2FwdHVyZWQgYXMgZXhjZXB0aW9uXCI7cmV0dXJuXCJtZXNzYWdlXCJpbiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlJiYoaSs9XCIgd2l0aCBtZXNzYWdlOiAnXCIrdC5tZXNzYWdlK1wiJ1wiKSxpfWlmKFwibWVzc2FnZVwiaW4gdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSlyZXR1cm4gdC5tZXNzYWdlO3ZhciBlPXRoaXMuZ2V0T2JqZWN0Q2xhc3NOYW1lKHQpO3JldHVybihlJiZcIk9iamVjdFwiIT09ZT9cIidcIitlK1wiJ1wiOlwiT2JqZWN0XCIpK1wiIGNhcHR1cmVkIGFzIGV4Y2VwdGlvbiB3aXRoIGtleXM6IFwiK3l0KHQpfWlzU2V2ZXJpdHlMZXZlbCh0KXtyZXR1cm4gTyh0KSYmIUYodCkmJm10LmluZGV4T2YodCk+PTB9Z2V0RXJyb3JQcm9wZXJ0eUZyb21PYmplY3QodCl7Zm9yKHZhciBpIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkpe3ZhciBlPXRbaV07aWYoWChlKSlyZXR1cm4gZX19Z2V0T2JqZWN0Q2xhc3NOYW1lKHQpe3RyeXt2YXIgaT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIGk/aS5jb25zdHJ1Y3Rvci5uYW1lOnZvaWQgMH1jYXRjaCh0KXtyZXR1cm59fX1jbGFzcyB3dHttYXRjaCh0KXtyZXR1cm4gSCh0KX1jb2VyY2UodCxpKXt2YXIgZSxyPXQuY29uc3RydWN0b3IubmFtZTtyZXR1cm57dHlwZTpyLHZhbHVlOnIrXCIgY2FwdHVyZWQgYXMgZXhjZXB0aW9uIHdpdGgga2V5czogXCIreXQodCksc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLHN5bnRoZXRpYzohMH19fWNsYXNzIFN0e21hdGNoKHQpe3JldHVybiBVKHQpfWNvZXJjZSh0LGkpe3ZhciBlO3JldHVybnt0eXBlOlwiRXJyb3JcIix2YWx1ZTpcIlByaW1pdGl2ZSB2YWx1ZSBjYXB0dXJlZCBhcyBleGNlcHRpb246IFwiK1N0cmluZyh0KSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19Y2xhc3MgeHR7bWF0Y2godCl7cmV0dXJuIHoodCxcIlByb21pc2VSZWplY3Rpb25FdmVudFwiKX1jb2VyY2UodCxpKXt2YXIgZSxyPXRoaXMuZ2V0VW5oYW5kbGVkUmVqZWN0aW9uUmVhc29uKHQpO3JldHVybiBVKHIpP3t0eXBlOlwiVW5oYW5kbGVkUmVqZWN0aW9uXCIsdmFsdWU6XCJOb24tRXJyb3IgcHJvbWlzZSByZWplY3Rpb24gY2FwdHVyZWQgd2l0aCB2YWx1ZTogXCIrU3RyaW5nKHIpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9OmkuYXBwbHkocil9Z2V0VW5oYW5kbGVkUmVqZWN0aW9uUmVhc29uKHQpe2lmKFUodCkpcmV0dXJuIHQ7dHJ5e2lmKFwicmVhc29uXCJpbiB0KXJldHVybiB0LnJlYXNvbjtpZihcImRldGFpbFwiaW4gdCYmXCJyZWFzb25cImluIHQuZGV0YWlsKXJldHVybiB0LmRldGFpbC5yZWFzb259Y2F0Y2godCl7fXJldHVybiB0fX12YXIgRXQ9aT0+e3ZhciBlPXtSOmZ1bmN0aW9uKGUpe2lmKHQmJihjLkRFQlVHfHx2LlBPU1RIT0dfREVCVUcpJiYhQyh0LmNvbnNvbGUpJiZ0LmNvbnNvbGUpe2Zvcih2YXIgcj0oXCJfX3Jyd2ViX29yaWdpbmFsX19cImluIHQuY29uc29sZVtlXT90LmNvbnNvbGVbZV0uX19ycndlYl9vcmlnaW5hbF9fOnQuY29uc29sZVtlXSkscz1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHM+MT9zLTE6MCksbz0xO288cztvKyspbltvLTFdPWFyZ3VtZW50c1tvXTtyKGksLi4ubil9fSxpbmZvOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5SKFwibG9nXCIsLi4uaSl9LHdhcm46ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtlLlIoXCJ3YXJuXCIsLi4uaSl9LGVycm9yOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5SKFwiZXJyb3JcIiwuLi5pKX0sY3JpdGljYWw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyllW3JdPWFyZ3VtZW50c1tyXTtjb25zb2xlLmVycm9yKGksLi4uZSl9LHVuaW5pdGlhbGl6ZWRXYXJuaW5nOnQ9PntlLmVycm9yKFwiWW91IG11c3QgaW5pdGlhbGl6ZSBQb3N0SG9nIGJlZm9yZSBjYWxsaW5nIFwiK3QpfSxjcmVhdGVMb2dnZXI6dD0+RXQoaStcIiBcIit0KX07cmV0dXJuIGV9LCR0PUV0KFwiW1Bvc3RIb2cuanNdXCIpLGt0PSR0LmNyZWF0ZUxvZ2dlcixQdD1rdChcIltFeHRlcm5hbFNjcmlwdHNMb2FkZXJdXCIpLFR0PSh0LGksZSk9PntpZih0LmNvbmZpZy5kaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZylyZXR1cm4gUHQud2FybihpK1wiIHdhcyByZXF1ZXN0ZWQgYnV0IGxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZC5cIiksZShcIkxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZFwiKTt2YXIgcj1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIik7aWYocilmb3IodmFyIHMsbj1mdW5jdGlvbigpe2lmKHJbYV0uc3JjPT09aSl7dmFyIHQ9clthXTtyZXR1cm4gdC5fX3Bvc3Rob2dfbG9hZGluZ19jYWxsYmFja19maXJlZD97djplKCl9Oih0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKGk9Pnt0Ll9fcG9zdGhvZ19sb2FkaW5nX2NhbGxiYWNrX2ZpcmVkPSEwLGUodm9pZCAwLGkpfSkpLHQub25lcnJvcj10PT5lKHQpLHt2OnZvaWQgMH0pfX0sYT0wO2E8ci5sZW5ndGg7YSsrKWlmKHM9bigpKXJldHVybiBzLnY7dmFyIGw9KCk9PntpZighbylyZXR1cm4gZShcImRvY3VtZW50IG5vdCBmb3VuZFwiKTt2YXIgcj1vLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoci50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsci5jcm9zc09yaWdpbj1cImFub255bW91c1wiLHIuc3JjPWksci5vbmxvYWQ9dD0+e3IuX19wb3N0aG9nX2xvYWRpbmdfY2FsbGJhY2tfZmlyZWQ9ITAsZSh2b2lkIDAsdCl9LHIub25lcnJvcj10PT5lKHQpLHQuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQmJihyPXQuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQocikpLCFyKXJldHVybiBlKFwicHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCByZXR1cm5lZCBudWxsXCIpO3ZhciBzLG49by5xdWVyeVNlbGVjdG9yQWxsKFwiYm9keSA+IHNjcmlwdFwiKTtuLmxlbmd0aD4wP251bGw9PShzPW5bMF0ucGFyZW50Tm9kZSl8fHMuaW5zZXJ0QmVmb3JlKHIsblswXSk6by5ib2R5LmFwcGVuZENoaWxkKHIpfTtudWxsIT1vJiZvLmJvZHk/bCgpOm51bGw9PW98fG8uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixsKX07di5fX1Bvc3Rob2dFeHRlbnNpb25zX189di5fX1Bvc3Rob2dFeHRlbnNpb25zX198fHt9LHYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k9KHQsaSxlKT0+e3ZhciByPVwiL3N0YXRpYy9cIitpK1wiLmpzP3Y9XCIrdC52ZXJzaW9uO2lmKFwicmVtb3RlLWNvbmZpZ1wiPT09aSYmKHI9XCIvYXJyYXkvXCIrdC5jb25maWcudG9rZW4rXCIvY29uZmlnLmpzXCIpLFwidG9vbGJhclwiPT09aSl7dmFyIHM9M2U1O3I9citcIiZ0PVwiK01hdGguZmxvb3IoRGF0ZS5ub3coKS9zKSpzfXZhciBuPXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLHIpO1R0KHQsbixlKX0sdi5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZFNpdGVBcHA9KHQsaSxlKT0+e3ZhciByPXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLGkpO1R0KHQscixlKX07dmFyIEl0PXt9O2Z1bmN0aW9uIFJ0KHQsaSxlKXtpZihQKHQpKWlmKHImJnQuZm9yRWFjaD09PXIpdC5mb3JFYWNoKGksZSk7ZWxzZSBpZihcImxlbmd0aFwiaW4gdCYmdC5sZW5ndGg9PT0rdC5sZW5ndGgpZm9yKHZhciBzPTAsbj10Lmxlbmd0aDtzPG47cysrKWlmKHMgaW4gdCYmaS5jYWxsKGUsdFtzXSxzKT09PUl0KXJldHVybn1mdW5jdGlvbiBDdCh0LGksZSl7aWYoIUEodCkpe2lmKFAodCkpcmV0dXJuIFJ0KHQsaSxlKTtpZihMKHQpKXtmb3IodmFyIHIgb2YgdC5lbnRyaWVzKCkpaWYoaS5jYWxsKGUsclsxXSxyWzBdKT09PUl0KXJldHVybn1lbHNlIGZvcih2YXIgcyBpbiB0KWlmKEUuY2FsbCh0LHMpJiZpLmNhbGwoZSx0W3NdLHMpPT09SXQpcmV0dXJufX12YXIgT3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBSdChlLChmdW5jdGlvbihpKXtmb3IodmFyIGUgaW4gaSl2b2lkIDAhPT1pW2VdJiYodFtlXT1pW2VdKX0pKSx0fSxGdD1mdW5jdGlvbih0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIFJ0KGUsKGZ1bmN0aW9uKGkpe1J0KGksKGZ1bmN0aW9uKGkpe3QucHVzaChpKX0pKX0pKSx0fTtmdW5jdGlvbiBNdCh0KXtmb3IodmFyIGk9T2JqZWN0LmtleXModCksZT1pLmxlbmd0aCxyPW5ldyBBcnJheShlKTtlLS07KXJbZV09W2lbZV0sdFtpW2VdXV07cmV0dXJuIHJ9dmFyIEF0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdCgpfWNhdGNoKHQpe3JldHVybn19LGp0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3RyeXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpKSxyPTA7cjxpO3IrKyllW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdC5hcHBseSh0aGlzLGUpfWNhdGNoKHQpeyR0LmNyaXRpY2FsKFwiSW1wbGVtZW50YXRpb24gZXJyb3IuIFBsZWFzZSB0dXJuIG9uIGRlYnVnIG1vZGUgYW5kIG9wZW4gYSB0aWNrZXQgb24gaHR0cHM6Ly9hcHAucG9zdGhvZy5jb20vaG9tZSNwYW5lbD1zdXBwb3J0JTNBc3VwcG9ydCUzQS5cIiksJHQuY3JpdGljYWwodCl9fX0sRHQ9ZnVuY3Rpb24odCl7dmFyIGk9e307cmV0dXJuIEN0KHQsKGZ1bmN0aW9uKHQsZSl7KE8odCkmJnQubGVuZ3RoPjB8fGoodCkpJiYoaVtlXT10KX0pKSxpfTtmdW5jdGlvbiBMdCh0LGkpe3JldHVybiBlPXQscj10PT5PKHQpJiYhTShpKT90LnNsaWNlKDAsaSk6dCxzPW5ldyBTZXQsZnVuY3Rpb24gdChpLGUpe3JldHVybiBpIT09T2JqZWN0KGkpP3I/cihpLGUpOmk6cy5oYXMoaSk/dm9pZCAwOihzLmFkZChpKSxQKGkpPyhuPVtdLFJ0KGksKGk9PntuLnB1c2godChpKSl9KSkpOihuPXt9LEN0KGksKChpLGUpPT57cy5oYXMoaSl8fChuW2VdPXQoaSxlKSl9KSkpLG4pO3ZhciBufShlKTt2YXIgZSxyLHN9dmFyIE50PVtcImhlcm9rdWFwcC5jb21cIixcInZlcmNlbC5hcHBcIixcIm5ldGxpZnkuYXBwXCJdO2Z1bmN0aW9uIFV0KHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuaG9zdG5hbWU7aWYoIU8oaSkpcmV0dXJuITE7dmFyIGU9aS5zcGxpdChcIi5cIikuc2xpY2UoLTIpLmpvaW4oXCIuXCIpO2Zvcih2YXIgciBvZiBOdClpZihlPT09cilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB6dCh0LGkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKGkodFtlXSkpcmV0dXJuIHRbZV19ZnVuY3Rpb24gSHQodCxpLGUscil7dmFye2NhcHR1cmU6cz0hMSxwYXNzaXZlOm49ITB9PW51bGwhPXI/cjp7fTtudWxsPT10fHx0LmFkZEV2ZW50TGlzdGVuZXIoaSxlLHtjYXB0dXJlOnMscGFzc2l2ZTpufSl9dmFyIEJ0PVwiJHBlb3BsZV9kaXN0aW5jdF9pZFwiLHF0PVwiX19hbGlhc1wiLFd0PVwiX190aW1lcnNcIixHdD1cIiRhdXRvY2FwdHVyZV9kaXNhYmxlZF9zZXJ2ZXJfc2lkZVwiLFZ0PVwiJGhlYXRtYXBzX2VuYWJsZWRfc2VydmVyX3NpZGVcIixKdD1cIiRleGNlcHRpb25fY2FwdHVyZV9lbmFibGVkX3NlcnZlcl9zaWRlXCIsS3Q9XCIkZXJyb3JfdHJhY2tpbmdfc3VwcHJlc3Npb25fcnVsZXNcIixZdD1cIiRlcnJvcl90cmFja2luZ19jYXB0dXJlX2V4dGVuc2lvbl9leGNlcHRpb25zXCIsWHQ9XCIkd2ViX3ZpdGFsc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsUXQ9XCIkZGVhZF9jbGlja3NfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLFp0PVwiJHdlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzXCIsdGk9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfcmVtb3RlX2NvbmZpZ1wiLGlpPVwiJHNlc2lkXCIsZWk9XCIkc2Vzc2lvbl9pc19zYW1wbGVkXCIscmk9XCIkZW5hYmxlZF9mZWF0dXJlX2ZsYWdzXCIsc2k9XCIkZWFybHlfYWNjZXNzX2ZlYXR1cmVzXCIsbmk9XCIkZmVhdHVyZV9mbGFnX2RldGFpbHNcIixvaT1cIiRzdG9yZWRfcGVyc29uX3Byb3BlcnRpZXNcIixhaT1cIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiLGxpPVwiJHN1cnZleXNcIix1aT1cIiRzdXJ2ZXlzX2FjdGl2YXRlZFwiLGhpPVwiJGZsYWdfY2FsbF9yZXBvcnRlZFwiLGRpPVwiJHVzZXJfc3RhdGVcIix2aT1cIiRjbGllbnRfc2Vzc2lvbl9wcm9wc1wiLGNpPVwiJGNhcHR1cmVfcmF0ZV9saW1pdFwiLGZpPVwiJGluaXRpYWxfY2FtcGFpZ25fcGFyYW1zXCIscGk9XCIkaW5pdGlhbF9yZWZlcnJlcl9pbmZvXCIsZ2k9XCIkaW5pdGlhbF9wZXJzb25faW5mb1wiLF9pPVwiJGVwcFwiLG1pPVwiX19QT1NUSE9HX1RPT0xCQVJfX1wiLHlpPVwiJHBvc3Rob2dfY29va2llbGVzc1wiLGJpPVtCdCxxdCxcIl9fY21wbnNcIixXdCxcIiRzZXNzaW9uX3JlY29yZGluZ19lbmFibGVkX3NlcnZlcl9zaWRlXCIsVnQsaWkscmksS3QsZGksc2ksbmksYWksb2ksbGksaGksdmksY2ksZmkscGksX2ksZ2ldO2Z1bmN0aW9uIHdpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRWxlbWVudCYmKHQuaWQ9PT1taXx8IShudWxsPT10LmNsb3Nlc3R8fCF0LmNsb3Nlc3QoXCIudG9vbGJhci1nbG9iYWwtZmFkZS1jb250YWluZXJcIikpKX1mdW5jdGlvbiBTaSh0KXtyZXR1cm4hIXQmJjE9PT10Lm5vZGVUeXBlfWZ1bmN0aW9uIHhpKHQsaSl7cmV0dXJuISF0JiYhIXQudGFnTmFtZSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1pLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gRWkodCl7cmV0dXJuISF0JiYzPT09dC5ub2RlVHlwZX1mdW5jdGlvbiAkaSh0KXtyZXR1cm4hIXQmJjExPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBraSh0KXtyZXR1cm4gdD9iKHQpLnNwbGl0KC9cXHMrLyk6W119ZnVuY3Rpb24gUGkoaSl7dmFyIGU9bnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbi5ocmVmO3JldHVybiEhKGUmJmkmJmkuc29tZSgodD0+ZS5tYXRjaCh0KSkpKX1mdW5jdGlvbiBUaSh0KXt2YXIgaT1cIlwiO3N3aXRjaCh0eXBlb2YgdC5jbGFzc05hbWUpe2Nhc2VcInN0cmluZ1wiOmk9dC5jbGFzc05hbWU7YnJlYWs7Y2FzZVwib2JqZWN0XCI6aT0odC5jbGFzc05hbWUmJlwiYmFzZVZhbFwiaW4gdC5jbGFzc05hbWU/dC5jbGFzc05hbWUuYmFzZVZhbDpudWxsKXx8dC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIjticmVhaztkZWZhdWx0Omk9XCJcIn1yZXR1cm4ga2koaSl9ZnVuY3Rpb24gSWkodCl7cmV0dXJuIEEodCk/bnVsbDpiKHQpLnNwbGl0KC8oXFxzKykvKS5maWx0ZXIoKHQ9PlZpKHQpKSkuam9pbihcIlwiKS5yZXBsYWNlKC9bXFxyXFxuXS9nLFwiIFwiKS5yZXBsYWNlKC9bIF0rL2csXCIgXCIpLnN1YnN0cmluZygwLDI1NSl9ZnVuY3Rpb24gUmkodCl7dmFyIGk9XCJcIjtyZXR1cm4gTmkodCkmJiFVaSh0KSYmdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiZDdCh0LmNoaWxkTm9kZXMsKGZ1bmN0aW9uKHQpe3ZhciBlO0VpKHQpJiZ0LnRleHRDb250ZW50JiYoaSs9bnVsbCE9PShlPUlpKHQudGV4dENvbnRlbnQpKSYmdm9pZCAwIT09ZT9lOlwiXCIpfSkpLGIoaSl9ZnVuY3Rpb24gQ2kodCl7cmV0dXJuIEModC50YXJnZXQpP3Quc3JjRWxlbWVudHx8bnVsbDpudWxsIT0oaT10LnRhcmdldCkmJmkuc2hhZG93Um9vdD90LmNvbXBvc2VkUGF0aCgpWzBdfHxudWxsOnQudGFyZ2V0fHxudWxsO3ZhciBpfXZhciBPaT1bXCJhXCIsXCJidXR0b25cIixcImZvcm1cIixcImlucHV0XCIsXCJzZWxlY3RcIixcInRleHRhcmVhXCIsXCJsYWJlbFwiXTtmdW5jdGlvbiBGaSh0LGkpe2lmKEMoaSkpcmV0dXJuITA7dmFyIGUscj1mdW5jdGlvbih0KXtpZihpLnNvbWUoKGk9PnQubWF0Y2hlcyhpKSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBzIG9mIHQpaWYoZT1yKHMpKXJldHVybiBlLnY7cmV0dXJuITF9ZnVuY3Rpb24gTWkodCl7dmFyIGk9dC5wYXJlbnROb2RlO3JldHVybiEoIWl8fCFTaShpKSkmJml9dmFyIEFpPVtcIi5waC1uby1yYWdlY2xpY2tcIixcIi5waC1uby1jYXB0dXJlXCJdO3ZhciBqaT10PT4hdHx8eGkodCxcImh0bWxcIil8fCFTaSh0KSxEaT0oaSxlKT0+e2lmKCF0fHxqaShpKSlyZXR1cm57cGFyZW50SXNVc2VmdWxFbGVtZW50OiExLHRhcmdldEVsZW1lbnRMaXN0OltdfTtmb3IodmFyIHI9ITEscz1baV0sbj1pO24ucGFyZW50Tm9kZSYmIXhpKG4sXCJib2R5XCIpOylpZigkaShuLnBhcmVudE5vZGUpKXMucHVzaChuLnBhcmVudE5vZGUuaG9zdCksbj1uLnBhcmVudE5vZGUuaG9zdDtlbHNle3ZhciBvPU1pKG4pO2lmKCFvKWJyZWFrO2lmKGV8fE9pLmluZGV4T2Yoby50YWdOYW1lLnRvTG93ZXJDYXNlKCkpPi0xKXI9ITA7ZWxzZXt2YXIgYT10LmdldENvbXB1dGVkU3R5bGUobyk7YSYmXCJwb2ludGVyXCI9PT1hLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJihyPSEwKX1zLnB1c2gobyksbj1vfXJldHVybntwYXJlbnRJc1VzZWZ1bEVsZW1lbnQ6cix0YXJnZXRFbGVtZW50TGlzdDpzfX07ZnVuY3Rpb24gTGkoaSxlLHIscyxuKXt2YXIgbyxhLGwsdTtpZih2b2lkIDA9PT1yJiYocj12b2lkIDApLCF0fHxqaShpKSlyZXR1cm4hMTtpZihudWxsIT0obz1yKSYmby51cmxfYWxsb3dsaXN0JiYhUGkoci51cmxfYWxsb3dsaXN0KSlyZXR1cm4hMTtpZihudWxsIT0oYT1yKSYmYS51cmxfaWdub3JlbGlzdCYmUGkoci51cmxfaWdub3JlbGlzdCkpcmV0dXJuITE7aWYobnVsbCE9KGw9cikmJmwuZG9tX2V2ZW50X2FsbG93bGlzdCl7dmFyIGg9ci5kb21fZXZlbnRfYWxsb3dsaXN0O2lmKGgmJiFoLnNvbWUoKHQ9PmUudHlwZT09PXQpKSlyZXR1cm4hMX12YXJ7cGFyZW50SXNVc2VmdWxFbGVtZW50OmQsdGFyZ2V0RWxlbWVudExpc3Q6dn09RGkoaSxzKTtpZighZnVuY3Rpb24odCxpKXt2YXIgZT1udWxsPT1pP3ZvaWQgMDppLmVsZW1lbnRfYWxsb3dsaXN0O2lmKEMoZSkpcmV0dXJuITA7dmFyIHIscz1mdW5jdGlvbih0KXtpZihlLnNvbWUoKGk9PnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09aSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBuIG9mIHQpaWYocj1zKG4pKXJldHVybiByLnY7cmV0dXJuITF9KHYscikpcmV0dXJuITE7aWYoIUZpKHYsbnVsbD09KHU9cik/dm9pZCAwOnUuY3NzX3NlbGVjdG9yX2FsbG93bGlzdCkpcmV0dXJuITE7dmFyIGM9dC5nZXRDb21wdXRlZFN0eWxlKGkpO2lmKGMmJlwicG9pbnRlclwiPT09Yy5nZXRQcm9wZXJ0eVZhbHVlKFwiY3Vyc29yXCIpJiZcImNsaWNrXCI9PT1lLnR5cGUpcmV0dXJuITA7dmFyIGY9aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGYpe2Nhc2VcImh0bWxcIjpyZXR1cm4hMTtjYXNlXCJmb3JtXCI6cmV0dXJuKG58fFtcInN1Ym1pdFwiXSkuaW5kZXhPZihlLnR5cGUpPj0wO2Nhc2VcImlucHV0XCI6Y2FzZVwic2VsZWN0XCI6Y2FzZVwidGV4dGFyZWFcIjpyZXR1cm4obnx8W1wiY2hhbmdlXCIsXCJjbGlja1wiXSkuaW5kZXhPZihlLnR5cGUpPj0wO2RlZmF1bHQ6cmV0dXJuIGQ/KG58fFtcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTA6KG58fFtcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTAmJihPaS5pbmRleE9mKGYpPi0xfHxcInRydWVcIj09PWkuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX19ZnVuY3Rpb24gTmkodCl7Zm9yKHZhciBpPXQ7aS5wYXJlbnROb2RlJiYheGkoaSxcImJvZHlcIik7aT1pLnBhcmVudE5vZGUpe3ZhciBlPVRpKGkpO2lmKHkoZSxcInBoLXNlbnNpdGl2ZVwiKXx8eShlLFwicGgtbm8tY2FwdHVyZVwiKSlyZXR1cm4hMX1pZih5KFRpKHQpLFwicGgtaW5jbHVkZVwiKSlyZXR1cm4hMDt2YXIgcj10LnR5cGV8fFwiXCI7aWYoTyhyKSlzd2l0Y2goci50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoaWRkZW5cIjpjYXNlXCJwYXNzd29yZFwiOnJldHVybiExfXZhciBzPXQubmFtZXx8dC5pZHx8XCJcIjtpZihPKHMpKXtpZigvXmNjfGNhcmRudW18Y2NudW18Y3JlZGl0Y2FyZHxjc2N8Y3ZjfGN2dnxleHB8cGFzc3xwd2R8cm91dGluZ3xzZWNjb2RlfHNlY3VyaXR5Y29kZXxzZWN1cml0eW51bXxzb2NpYWxzZWN8c29jc2VjfHNzbi9pLnRlc3Qocy5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZyxcIlwiKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gVWkodCl7cmV0dXJuISEoeGkodCxcImlucHV0XCIpJiYhW1wiYnV0dG9uXCIsXCJjaGVja2JveFwiLFwic3VibWl0XCIsXCJyZXNldFwiXS5pbmNsdWRlcyh0LnR5cGUpfHx4aSh0LFwic2VsZWN0XCIpfHx4aSh0LFwidGV4dGFyZWFcIil8fFwidHJ1ZVwiPT09dC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfXZhciB6aT1cIig0WzAtOV17MTJ9KD86WzAtOV17M30pPyl8KDVbMS01XVswLTldezE0fSl8KDYoPzowMTF8NVswLTldezJ9KVswLTldezEyfSl8KDNbNDddWzAtOV17MTN9KXwoMyg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9KXwoKD86MjEzMXwxODAwfDM1WzAtOV17M30pWzAtOV17MTF9KVwiLEhpPW5ldyBSZWdFeHAoXCJeKD86XCIremkrXCIpJFwiKSxCaT1uZXcgUmVnRXhwKHppKSxxaT1cIlxcXFxkezN9LT9cXFxcZHsyfS0/XFxcXGR7NH1cIixXaT1uZXcgUmVnRXhwKFwiXihcIitxaStcIikkXCIpLEdpPW5ldyBSZWdFeHAoXCIoXCIrcWkrXCIpXCIpO2Z1bmN0aW9uIFZpKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITApLEEodCkpcmV0dXJuITE7aWYoTyh0KSl7aWYodD1iKHQpLChpP0hpOkJpKS50ZXN0KCh0fHxcIlwiKS5yZXBsYWNlKC9bLSBdL2csXCJcIikpKXJldHVybiExO2lmKChpP1dpOkdpKS50ZXN0KHQpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIEppKHQpe3ZhciBpPVJpKHQpO3JldHVybiBWaShpPShpK1wiIFwiK0tpKHQpKS50cmltKCkpP2k6XCJcIn1mdW5jdGlvbiBLaSh0KXt2YXIgaT1cIlwiO3JldHVybiB0JiZ0LmNoaWxkTm9kZXMmJnQuY2hpbGROb2Rlcy5sZW5ndGgmJkN0KHQuY2hpbGROb2RlcywoZnVuY3Rpb24odCl7dmFyIGU7aWYodCYmXCJzcGFuXCI9PT0obnVsbD09KGU9dC50YWdOYW1lKT92b2lkIDA6ZS50b0xvd2VyQ2FzZSgpKSl0cnl7dmFyIHI9UmkodCk7aT0oaStcIiBcIityKS50cmltKCksdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiYoaT0oaStcIiBcIitLaSh0KSkudHJpbSgpKX1jYXRjaCh0KXskdC5lcnJvcihcIltBdXRvQ2FwdHVyZV1cIix0KX19KSksaX1mdW5jdGlvbiBZaSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5tYXAoKHQ9Pnt2YXIgaSxlLHI9XCJcIjtpZih0LnRhZ19uYW1lJiYocis9dC50YWdfbmFtZSksdC5hdHRyX2NsYXNzKWZvcih2YXIgcyBvZih0LmF0dHJfY2xhc3Muc29ydCgpLHQuYXR0cl9jbGFzcykpcis9XCIuXCIrcy5yZXBsYWNlKC9cIi9nLFwiXCIpO3ZhciBuPWcoe30sdC50ZXh0P3t0ZXh0OnQudGV4dH06e30se1wibnRoLWNoaWxkXCI6bnVsbCE9PShpPXQubnRoX2NoaWxkKSYmdm9pZCAwIT09aT9pOjAsXCJudGgtb2YtdHlwZVwiOm51bGwhPT0oZT10Lm50aF9vZl90eXBlKSYmdm9pZCAwIT09ZT9lOjB9LHQuaHJlZj97aHJlZjp0LmhyZWZ9Ont9LHQuYXR0cl9pZD97YXR0cl9pZDp0LmF0dHJfaWR9Ont9LHQuYXR0cmlidXRlcyksbz17fTtyZXR1cm4gTXQobikuc29ydCgoKHQsaSk9Pnt2YXJbZV09dCxbcl09aTtyZXR1cm4gZS5sb2NhbGVDb21wYXJlKHIpfSkpLmZvckVhY2goKHQ9Pnt2YXJbaSxlXT10O3JldHVybiBvW1hpKGkudG9TdHJpbmcoKSldPVhpKGUudG9TdHJpbmcoKSl9KSkscis9XCI6XCIscis9TXQobykubWFwKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gaSsnPVwiJytlKydcIid9KSkuam9pbihcIlwiKX0pKTtyZXR1cm4gaS5qb2luKFwiO1wiKX0oZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKCh0PT57dmFyIGksZSxyPXt0ZXh0Om51bGw9PShpPXQuJGVsX3RleHQpP3ZvaWQgMDppLnNsaWNlKDAsNDAwKSx0YWdfbmFtZTp0LnRhZ19uYW1lLGhyZWY6bnVsbD09KGU9dC5hdHRyX19ocmVmKT92b2lkIDA6ZS5zbGljZSgwLDIwNDgpLGF0dHJfY2xhc3M6UWkodCksYXR0cl9pZDp0LmF0dHJfX2lkLG50aF9jaGlsZDp0Lm50aF9jaGlsZCxudGhfb2ZfdHlwZTp0Lm50aF9vZl90eXBlLGF0dHJpYnV0ZXM6e319O3JldHVybiBNdCh0KS5maWx0ZXIoKHQ9Pnt2YXJbaV09dDtyZXR1cm4gMD09PWkuaW5kZXhPZihcImF0dHJfX1wiKX0pKS5mb3JFYWNoKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gci5hdHRyaWJ1dGVzW2ldPWV9KSkscn0pKX0odCkpfWZ1bmN0aW9uIFhpKHQpe3JldHVybiB0LnJlcGxhY2UoL1wifFxcXFxcIi9nLCdcXFxcXCInKX1mdW5jdGlvbiBRaSh0KXt2YXIgaT10LmF0dHJfX2NsYXNzO3JldHVybiBpP1AoaSk/aTpraShpKTp2b2lkIDB9Y2xhc3MgWml7Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrcz1bXX1pc1JhZ2VDbGljayh0LGksZSl7dmFyIHI9dGhpcy5jbGlja3NbdGhpcy5jbGlja3MubGVuZ3RoLTFdO2lmKHImJk1hdGguYWJzKHQtci54KStNYXRoLmFicyhpLXIueSk8MzAmJmUtci50aW1lc3RhbXA8MWUzKXtpZih0aGlzLmNsaWNrcy5wdXNoKHt4OnQseTppLHRpbWVzdGFtcDplfSksMz09PXRoaXMuY2xpY2tzLmxlbmd0aClyZXR1cm4hMH1lbHNlIHRoaXMuY2xpY2tzPVt7eDp0LHk6aSx0aW1lc3RhbXA6ZX1dO3JldHVybiExfX12YXIgdGU9XCIkY29weV9hdXRvY2FwdHVyZVwiLGllPWZ1bmN0aW9uKHQpe3JldHVybiB0LkdaaXBKUz1cImd6aXAtanNcIix0LkJhc2U2ND1cImJhc2U2NFwiLHR9KHt9KSxlZT1bXCJmYXRhbFwiLFwiZXJyb3JcIixcIndhcm5pbmdcIixcImxvZ1wiLFwiaW5mb1wiLFwiZGVidWdcIl0scmU9dD0+e3ZhciBpPW51bGw9PW8/dm9pZCAwOm8uY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIEMoaSk/bnVsbDooaS5ocmVmPXQsaSl9LHNlPWZ1bmN0aW9uKHQsaSl7dmFyIGUscjt2b2lkIDA9PT1pJiYoaT1cIiZcIik7dmFyIHM9W107cmV0dXJuIEN0KHQsKGZ1bmN0aW9uKHQsaSl7Qyh0KXx8QyhpKXx8XCJ1bmRlZmluZWRcIj09PWl8fChlPWVuY29kZVVSSUNvbXBvbmVudCgodD0+dCBpbnN0YW5jZW9mIEZpbGUpKHQpP3QubmFtZTp0LnRvU3RyaW5nKCkpLHI9ZW5jb2RlVVJJQ29tcG9uZW50KGkpLHNbcy5sZW5ndGhdPXIrXCI9XCIrZSl9KSkscy5qb2luKGkpfSxuZT1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZSxyPSgodC5zcGxpdChcIiNcIilbMF18fFwiXCIpLnNwbGl0KC9cXD8oLiopLylbMV18fFwiXCIpLnJlcGxhY2UoL15cXD8rL2csXCJcIikuc3BsaXQoXCImXCIpLHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG49cltzXS5zcGxpdChcIj1cIik7aWYoblswXT09PWkpe2U9bjticmVha319aWYoIVAoZSl8fGUubGVuZ3RoPDIpcmV0dXJuXCJcIjt2YXIgbz1lWzFdO3RyeXtvPWRlY29kZVVSSUNvbXBvbmVudChvKX1jYXRjaCh0KXskdC5lcnJvcihcIlNraXBwaW5nIGRlY29kaW5nIGZvciBtYWxmb3JtZWQgcXVlcnkgcGFyYW06IFwiK28pfXJldHVybiBvLnJlcGxhY2UoL1xcKy9nLFwiIFwiKX0sb2U9ZnVuY3Rpb24odCxpLGUpe2lmKCF0fHwhaXx8IWkubGVuZ3RoKXJldHVybiB0O2Zvcih2YXIgcj10LnNwbGl0KFwiI1wiKSxzPXJbMF18fFwiXCIsbj1yWzFdLG89cy5zcGxpdChcIj9cIiksYT1vWzFdLGw9b1swXSx1PShhfHxcIlwiKS5zcGxpdChcIiZcIiksaD1bXSxkPTA7ZDx1Lmxlbmd0aDtkKyspe3ZhciB2PXVbZF0uc3BsaXQoXCI9XCIpO1AodikmJihpLmluY2x1ZGVzKHZbMF0pP2gucHVzaCh2WzBdK1wiPVwiK2UpOmgucHVzaCh1W2RdKSl9dmFyIGM9bDtyZXR1cm4gbnVsbCE9YSYmKGMrPVwiP1wiK2guam9pbihcIiZcIikpLG51bGwhPW4mJihjKz1cIiNcIituKSxjfSxhZT1mdW5jdGlvbih0LGkpe3ZhciBlPXQubWF0Y2gobmV3IFJlZ0V4cChpK1wiPShbXiZdKilcIikpO3JldHVybiBlP2VbMV06bnVsbH0sbGU9a3QoXCJbQXV0b0NhcHR1cmVdXCIpO2Z1bmN0aW9uIHVlKHQsaSl7cmV0dXJuIGkubGVuZ3RoPnQ/aS5zbGljZSgwLHQpK1wiLi4uXCI6aX1mdW5jdGlvbiBoZSh0KXtpZih0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpcmV0dXJuIHQucHJldmlvdXNFbGVtZW50U2libGluZzt2YXIgaT10O2Rve2k9aS5wcmV2aW91c1NpYmxpbmd9d2hpbGUoaSYmIVNpKGkpKTtyZXR1cm4gaX1mdW5jdGlvbiBkZSh0LGksZSxyKXt2YXIgcz10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxuPXt0YWdfbmFtZTpzfTtPaS5pbmRleE9mKHMpPi0xJiYhZSYmKFwiYVwiPT09cy50b0xvd2VyQ2FzZSgpfHxcImJ1dHRvblwiPT09cy50b0xvd2VyQ2FzZSgpP24uJGVsX3RleHQ9dWUoMTAyNCxKaSh0KSk6bi4kZWxfdGV4dD11ZSgxMDI0LFJpKHQpKSk7dmFyIG89VGkodCk7by5sZW5ndGg+MCYmKG4uY2xhc3Nlcz1vLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuXCJcIiE9PXR9KSkpLEN0KHQuYXR0cmlidXRlcywoZnVuY3Rpb24oZSl7dmFyIHM7aWYoKCFVaSh0KXx8LTEhPT1bXCJuYW1lXCIsXCJpZFwiLFwiY2xhc3NcIixcImFyaWEtbGFiZWxcIl0uaW5kZXhPZihlLm5hbWUpKSYmKChudWxsPT1yfHwhci5pbmNsdWRlcyhlLm5hbWUpKSYmIWkmJlZpKGUudmFsdWUpJiYocz1lLm5hbWUsIU8ocyl8fFwiX25nY29udGVudFwiIT09cy5zdWJzdHJpbmcoMCwxMCkmJlwiX25naG9zdFwiIT09cy5zdWJzdHJpbmcoMCw3KSkpKXt2YXIgbz1lLnZhbHVlO1wiY2xhc3NcIj09PWUubmFtZSYmKG89a2kobykuam9pbihcIiBcIikpLG5bXCJhdHRyX19cIitlLm5hbWVdPXVlKDEwMjQsbyl9fSkpO2Zvcih2YXIgYT0xLGw9MSx1PXQ7dT1oZSh1KTspYSsrLHUudGFnTmFtZT09PXQudGFnTmFtZSYmbCsrO3JldHVybiBuLm50aF9jaGlsZD1hLG4ubnRoX29mX3R5cGU9bCxufWZ1bmN0aW9uIHZlKGksZSl7Zm9yKHZhciByLHMse2U6bixtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6byxtYXNrQWxsVGV4dDphLGVsZW1lbnRBdHRyaWJ1dGVJZ25vcmVMaXN0OmwsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnV9PWUsaD1baV0sZD1pO2QucGFyZW50Tm9kZSYmIXhpKGQsXCJib2R5XCIpOykkaShkLnBhcmVudE5vZGUpPyhoLnB1c2goZC5wYXJlbnROb2RlLmhvc3QpLGQ9ZC5wYXJlbnROb2RlLmhvc3QpOihoLnB1c2goZC5wYXJlbnROb2RlKSxkPWQucGFyZW50Tm9kZSk7dmFyIHYsYz1bXSxmPXt9LHA9ITEsZz0hMTtpZihDdChoLCh0PT57dmFyIGk9TmkodCk7XCJhXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHA9dC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLHA9aSYmcCYmVmkocCkmJnApLHkoVGkodCksXCJwaC1uby1jYXB0dXJlXCIpJiYoZz0hMCksYy5wdXNoKGRlKHQsbyxhLGwpKTt2YXIgZT1mdW5jdGlvbih0KXtpZighTmkodCkpcmV0dXJue307dmFyIGk9e307cmV0dXJuIEN0KHQuYXR0cmlidXRlcywoZnVuY3Rpb24odCl7aWYodC5uYW1lJiYwPT09dC5uYW1lLmluZGV4T2YoXCJkYXRhLXBoLWNhcHR1cmUtYXR0cmlidXRlXCIpKXt2YXIgZT10Lm5hbWUucmVwbGFjZShcImRhdGEtcGgtY2FwdHVyZS1hdHRyaWJ1dGUtXCIsXCJcIikscj10LnZhbHVlO2UmJnImJlZpKHIpJiYoaVtlXT1yKX19KSksaX0odCk7T3QoZixlKX0pKSxnKXJldHVybntwcm9wczp7fSxleHBsaWNpdE5vQ2FwdHVyZTpnfTtpZihhfHwoXCJhXCI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpP2NbMF0uJGVsX3RleHQ9SmkoaSk6Y1swXS4kZWxfdGV4dD1SaShpKSkscCl7dmFyIF8sbTtjWzBdLmF0dHJfX2hyZWY9cDt2YXIgYj1udWxsPT0oXz1yZShwKSk/dm9pZCAwOl8uaG9zdCx3PW51bGw9PXR8fG51bGw9PShtPXQubG9jYXRpb24pP3ZvaWQgMDptLmhvc3Q7YiYmdyYmYiE9PXcmJih2PXApfXJldHVybntwcm9wczpPdCh7JGV2ZW50X3R5cGU6bi50eXBlLCRjZV92ZXJzaW9uOjF9LHU/e306eyRlbGVtZW50czpjfSx7JGVsZW1lbnRzX2NoYWluOllpKGMpfSxudWxsIT0ocj1jWzBdKSYmci4kZWxfdGV4dD97JGVsX3RleHQ6bnVsbD09KHM9Y1swXSk/dm9pZCAwOnMuJGVsX3RleHR9Ont9LHYmJlwiY2xpY2tcIj09PW4udHlwZT97JGV4dGVybmFsX2NsaWNrX3VybDp2fTp7fSxmKX19Y2xhc3MgY2V7Y29uc3RydWN0b3IodCl7dGhpcy5DPSExLHRoaXMuTz1udWxsLHRoaXMucmFnZWNsaWNrcz1uZXcgWmksdGhpcy5GPSExLHRoaXMuaW5zdGFuY2U9dCx0aGlzLk09bnVsbH1nZXQgQSgpe3ZhciB0LGksZT1JKHRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZTp7fTtyZXR1cm4gZS51cmxfYWxsb3dsaXN0PW51bGw9PSh0PWUudXJsX2FsbG93bGlzdCk/dm9pZCAwOnQubWFwKCh0PT5uZXcgUmVnRXhwKHQpKSksZS51cmxfaWdub3JlbGlzdD1udWxsPT0oaT1lLnVybF9pZ25vcmVsaXN0KT92b2lkIDA6aS5tYXAoKHQ9Pm5ldyBSZWdFeHAodCkpKSxlfWooKXtpZih0aGlzLmlzQnJvd3NlclN1cHBvcnRlZCgpKXtpZih0JiZvKXt2YXIgaT1pPT57aT1pfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk7dHJ5e3RoaXMuRChpKX1jYXRjaCh0KXtsZS5lcnJvcihcIkZhaWxlZCB0byBjYXB0dXJlIGV2ZW50XCIsdCl9fTtpZihIdChvLFwic3VibWl0XCIsaSx7Y2FwdHVyZTohMH0pLEh0KG8sXCJjaGFuZ2VcIixpLHtjYXB0dXJlOiEwfSksSHQobyxcImNsaWNrXCIsaSx7Y2FwdHVyZTohMH0pLHRoaXMuQS5jYXB0dXJlX2NvcGllZF90ZXh0KXt2YXIgZT1pPT57aT1pfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCksdGhpcy5EKGksdGUpfTtIdChvLFwiY29weVwiLGUse2NhcHR1cmU6ITB9KSxIdChvLFwiY3V0XCIsZSx7Y2FwdHVyZTohMH0pfX19ZWxzZSBsZS5pbmZvKFwiRGlzYWJsaW5nIEF1dG9tYXRpYyBFdmVudCBDb2xsZWN0aW9uIGJlY2F1c2UgdGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWRcIil9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuQyYmKHRoaXMuaigpLHRoaXMuQz0hMCl9b25SZW1vdGVDb25maWcodCl7dC5lbGVtZW50c0NoYWluQXNTdHJpbmcmJih0aGlzLkY9dC5lbGVtZW50c0NoYWluQXNTdHJpbmcpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tHdF06ISF0LmF1dG9jYXB0dXJlX29wdF9vdXR9KSx0aGlzLk89ISF0LmF1dG9jYXB0dXJlX29wdF9vdXQsdGhpcy5zdGFydElmRW5hYmxlZCgpfXNldEVsZW1lbnRTZWxlY3RvcnModCl7dGhpcy5NPXR9Z2V0RWxlbWVudFNlbGVjdG9ycyh0KXt2YXIgaSxlPVtdO3JldHVybiBudWxsPT0oaT10aGlzLk0pfHxpLmZvckVhY2goKGk9Pnt2YXIgcj1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwoaSk7bnVsbD09cnx8ci5mb3JFYWNoKChyPT57dD09PXImJmUucHVzaChpKX0pKX0pKSxlfWdldCBpc0VuYWJsZWQoKXt2YXIgdCxpLGU9bnVsbD09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQucHJvcHNbR3RdLHI9dGhpcy5PO2lmKE0ocikmJiFEKGUpJiYhdGhpcy5pbnN0YW5jZS5MKCkpcmV0dXJuITE7dmFyIHM9bnVsbCE9PShpPXRoaXMuTykmJnZvaWQgMCE9PWk/aTohIWU7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZSYmIXN9RChpLGUpe2lmKHZvaWQgMD09PWUmJihlPVwiJGF1dG9jYXB0dXJlXCIpLHRoaXMuaXNFbmFibGVkKXt2YXIgcixzPUNpKGkpO2lmKEVpKHMpJiYocz1zLnBhcmVudE5vZGV8fG51bGwpLFwiJGF1dG9jYXB0dXJlXCI9PT1lJiZcImNsaWNrXCI9PT1pLnR5cGUmJmkgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KXRoaXMuaW5zdGFuY2UuY29uZmlnLnJhZ2VjbGljayYmbnVsbCE9KHI9dGhpcy5yYWdlY2xpY2tzKSYmci5pc1JhZ2VDbGljayhpLmNsaWVudFgsaS5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmZnVuY3Rpb24oaSxlKXtpZighdHx8amkoaSkpcmV0dXJuITE7dmFyIHIscztpZighMT09PShyPUQoZSk/ISFlJiZBaTpudWxsIT09KHM9bnVsbD09ZT92b2lkIDA6ZS5jc3Nfc2VsZWN0b3JfaWdub3JlbGlzdCkmJnZvaWQgMCE9PXM/czpBaSkpcmV0dXJuITE7dmFye3RhcmdldEVsZW1lbnRMaXN0Om59PURpKGksITEpO3JldHVybiFGaShuLHIpfShzLHRoaXMuaW5zdGFuY2UuY29uZmlnLnJhZ2VjbGljaykmJnRoaXMuRChpLFwiJHJhZ2VjbGlja1wiKTt2YXIgbj1lPT09dGU7aWYocyYmTGkocyxpLHRoaXMuQSxuLG4/W1wiY29weVwiLFwiY3V0XCJdOnZvaWQgMCkpe3Zhcntwcm9wczpvLGV4cGxpY2l0Tm9DYXB0dXJlOmF9PXZlKHMse2U6aSxtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfZWxlbWVudF9hdHRyaWJ1dGVzLG1hc2tBbGxUZXh0OnRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfYWxsX3RleHQsZWxlbWVudEF0dHJpYnV0ZUlnbm9yZUxpc3Q6dGhpcy5BLmVsZW1lbnRfYXR0cmlidXRlX2lnbm9yZWxpc3QsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnRoaXMuRn0pO2lmKGEpcmV0dXJuITE7dmFyIGw9dGhpcy5nZXRFbGVtZW50U2VsZWN0b3JzKHMpO2lmKGwmJmwubGVuZ3RoPjAmJihvLiRlbGVtZW50X3NlbGVjdG9ycz1sKSxlPT09dGUpe3ZhciB1LGg9SWkobnVsbD09dHx8bnVsbD09KHU9dC5nZXRTZWxlY3Rpb24oKSk/dm9pZCAwOnUudG9TdHJpbmcoKSksZD1pLnR5cGV8fFwiY2xpcGJvYXJkXCI7aWYoIWgpcmV0dXJuITE7by4kc2VsZWN0ZWRfY29udGVudD1oLG8uJGNvcHlfdHlwZT1kfXJldHVybiB0aGlzLmluc3RhbmNlLmNhcHR1cmUoZSxvKSwhMH19fWlzQnJvd3NlclN1cHBvcnRlZCgpe3JldHVybiBUKG51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvckFsbCl9fU1hdGgudHJ1bmN8fChNYXRoLnRydW5jPWZ1bmN0aW9uKHQpe3JldHVybiB0PDA/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCl9KSxOdW1iZXIuaXNJbnRlZ2VyfHwoTnVtYmVyLmlzSW50ZWdlcj1mdW5jdGlvbih0KXtyZXR1cm4gaih0KSYmaXNGaW5pdGUodCkmJk1hdGguZmxvb3IodCk9PT10fSk7dmFyIGZlPVwiMDEyMzQ1Njc4OWFiY2RlZlwiO2NsYXNzIHBle2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMuYnl0ZXM9dCwxNiE9PXQubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJub3QgMTI4LWJpdCBsZW5ndGhcIil9c3RhdGljIGZyb21GaWVsZHNWNyh0LGksZSxyKXtpZighTnVtYmVyLmlzSW50ZWdlcih0KXx8IU51bWJlci5pc0ludGVnZXIoaSl8fCFOdW1iZXIuaXNJbnRlZ2VyKGUpfHwhTnVtYmVyLmlzSW50ZWdlcihyKXx8dDwwfHxpPDB8fGU8MHx8cjwwfHx0PjB4ZmZmZmZmZmZmZmZmfHxpPjQwOTV8fGU+MTA3Mzc0MTgyM3x8cj40Mjk0OTY3Mjk1KXRocm93IG5ldyBSYW5nZUVycm9yKFwiaW52YWxpZCBmaWVsZCB2YWx1ZVwiKTt2YXIgcz1uZXcgVWludDhBcnJheSgxNik7cmV0dXJuIHNbMF09dC9NYXRoLnBvdygyLDQwKSxzWzFdPXQvTWF0aC5wb3coMiwzMiksc1syXT10L01hdGgucG93KDIsMjQpLHNbM109dC9NYXRoLnBvdygyLDE2KSxzWzRdPXQvTWF0aC5wb3coMiw4KSxzWzVdPXQsc1s2XT0xMTJ8aT4+Pjgsc1s3XT1pLHNbOF09MTI4fGU+Pj4yNCxzWzldPWU+Pj4xNixzWzEwXT1lPj4+OCxzWzExXT1lLHNbMTJdPXI+Pj4yNCxzWzEzXT1yPj4+MTYsc1sxNF09cj4+Pjgsc1sxNV09cixuZXcgcGUocyl9dG9TdHJpbmcoKXtmb3IodmFyIHQ9XCJcIixpPTA7aTx0aGlzLmJ5dGVzLmxlbmd0aDtpKyspdD10K2ZlLmNoYXJBdCh0aGlzLmJ5dGVzW2ldPj4+NCkrZmUuY2hhckF0KDE1JnRoaXMuYnl0ZXNbaV0pLDMhPT1pJiY1IT09aSYmNyE9PWkmJjkhPT1pfHwodCs9XCItXCIpO2lmKDM2IT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVVUlEdjcgd2FzIGdlbmVyYXRlZFwiKTtyZXR1cm4gdH1jbG9uZSgpe3JldHVybiBuZXcgcGUodGhpcy5ieXRlcy5zbGljZSgwKSl9ZXF1YWxzKHQpe3JldHVybiAwPT09dGhpcy5jb21wYXJlVG8odCl9Y29tcGFyZVRvKHQpe2Zvcih2YXIgaT0wO2k8MTY7aSsrKXt2YXIgZT10aGlzLmJ5dGVzW2ldLXQuYnl0ZXNbaV07aWYoMCE9PWUpcmV0dXJuIE1hdGguc2lnbihlKX1yZXR1cm4gMH19Y2xhc3MgZ2V7Y29uc3RydWN0b3IoKXt0aGlzLk49MCx0aGlzLlU9MCx0aGlzLkg9bmV3IHllfWdlbmVyYXRlKCl7dmFyIHQ9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZihDKHQpKXt0aGlzLk49MDt2YXIgaT10aGlzLmdlbmVyYXRlT3JBYm9ydCgpO2lmKEMoaSkpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGdlbmVyYXRlIFVVSUQgYWZ0ZXIgdGltZXN0YW1wIHJlc2V0XCIpO3JldHVybiBpfXJldHVybiB0fWdlbmVyYXRlT3JBYm9ydCgpe3ZhciB0PURhdGUubm93KCk7aWYodD50aGlzLk4pdGhpcy5OPXQsdGhpcy5CKCk7ZWxzZXtpZighKHQrMWU0PnRoaXMuTikpcmV0dXJuO3RoaXMuVSsrLHRoaXMuVT40Mzk4MDQ2NTExMTAzJiYodGhpcy5OKyssdGhpcy5CKCkpfXJldHVybiBwZS5mcm9tRmllbGRzVjcodGhpcy5OLE1hdGgudHJ1bmModGhpcy5VL01hdGgucG93KDIsMzApKSx0aGlzLlUmTWF0aC5wb3coMiwzMCktMSx0aGlzLkgubmV4dFVpbnQzMigpKX1CKCl7dGhpcy5VPTEwMjQqdGhpcy5ILm5leHRVaW50MzIoKSsoMTAyMyZ0aGlzLkgubmV4dFVpbnQzMigpKX19dmFyIF9lLG1lPXQ9PntpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVVVJRFY3X0RFTllfV0VBS19STkcmJlVVSURWN19ERU5ZX1dFQUtfUk5HKXRocm93IG5ldyBFcnJvcihcIm5vIGNyeXB0b2dyYXBoaWNhbGx5IHN0cm9uZyBSTkcgYXZhaWxhYmxlXCIpO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV09NjU1MzYqTWF0aC50cnVuYyg2NTUzNipNYXRoLnJhbmRvbSgpKStNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpO3JldHVybiB0fTt0JiYhQyh0LmNyeXB0bykmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJihtZT10PT5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpKTtjbGFzcyB5ZXtjb25zdHJ1Y3Rvcigpe3RoaXMucT1uZXcgVWludDMyQXJyYXkoOCksdGhpcy5XPTEvMH1uZXh0VWludDMyKCl7cmV0dXJuIHRoaXMuVz49dGhpcy5xLmxlbmd0aCYmKG1lKHRoaXMucSksdGhpcy5XPTApLHRoaXMucVt0aGlzLlcrK119fXZhciBiZT0oKT0+d2UoKS50b1N0cmluZygpLHdlPSgpPT4oX2V8fChfZT1uZXcgZ2UpKS5nZW5lcmF0ZSgpLFNlPVwiXCI7dmFyIHhlPS9bYS16MC05XVthLXowLTktXStcXC5bYS16XXsyLH0kL2k7ZnVuY3Rpb24gRWUodCxpKXtpZihpKXt2YXIgZT1mdW5jdGlvbih0LGkpe2lmKHZvaWQgMD09PWkmJihpPW8pLFNlKXJldHVybiBTZTtpZighaSlyZXR1cm5cIlwiO2lmKFtcImxvY2FsaG9zdFwiLFwiMTI3LjAuMC4xXCJdLmluY2x1ZGVzKHQpKXJldHVyblwiXCI7Zm9yKHZhciBlPXQuc3BsaXQoXCIuXCIpLHI9TWF0aC5taW4oZS5sZW5ndGgsOCkscz1cImRtbl9jaGtfXCIrYmUoKTshU2UmJnItLTspe3ZhciBuPWUuc2xpY2Uocikuam9pbihcIi5cIiksYT1zK1wiPTE7ZG9tYWluPS5cIituK1wiO3BhdGg9L1wiO2kuY29va2llPWErXCI7bWF4LWFnZT0zXCIsaS5jb29raWUuaW5jbHVkZXMocykmJihpLmNvb2tpZT1hK1wiO21heC1hZ2U9MFwiLFNlPW4pfXJldHVybiBTZX0odCk7aWYoIWUpe3ZhciByPSh0PT57dmFyIGk9dC5tYXRjaCh4ZSk7cmV0dXJuIGk/aVswXTpcIlwifSkodCk7ciE9PWUmJiR0LmluZm8oXCJXYXJuaW5nOiBjb29raWUgc3ViZG9tYWluIGRpc2NvdmVyeSBtaXNtYXRjaFwiLHIsZSksZT1yfXJldHVybiBlP1wiOyBkb21haW49LlwiK2U6XCJcIn1yZXR1cm5cIlwifXZhciAkZT17RzooKT0+ISFvLFY6ZnVuY3Rpb24odCl7JHQuZXJyb3IoXCJjb29raWVTdG9yZSBlcnJvcjogXCIrdCl9LEo6ZnVuY3Rpb24odCl7aWYobyl7dHJ5e2Zvcih2YXIgaT10K1wiPVwiLGU9by5jb29raWUuc3BsaXQoXCI7XCIpLmZpbHRlcigodD0+dC5sZW5ndGgpKSxyPTA7cjxlLmxlbmd0aDtyKyspe2Zvcih2YXIgcz1lW3JdO1wiIFwiPT1zLmNoYXJBdCgwKTspcz1zLnN1YnN0cmluZygxLHMubGVuZ3RoKTtpZigwPT09cy5pbmRleE9mKGkpKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5zdWJzdHJpbmcoaS5sZW5ndGgscy5sZW5ndGgpKX19Y2F0Y2godCl7fXJldHVybiBudWxsfX0sSzpmdW5jdGlvbih0KXt2YXIgaTt0cnl7aT1KU09OLnBhcnNlKCRlLkoodCkpfHx7fX1jYXRjaCh0KXt9cmV0dXJuIGl9LFk6ZnVuY3Rpb24odCxpLGUscixzKXtpZihvKXRyeXt2YXIgbj1cIlwiLGE9XCJcIixsPUVlKG8ubG9jYXRpb24uaG9zdG5hbWUscik7aWYoZSl7dmFyIHU9bmV3IERhdGU7dS5zZXRUaW1lKHUuZ2V0VGltZSgpKzI0KmUqNjAqNjAqMWUzKSxuPVwiOyBleHBpcmVzPVwiK3UudG9VVENTdHJpbmcoKX1zJiYoYT1cIjsgc2VjdXJlXCIpO3ZhciBoPXQrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKStuK1wiOyBTYW1lU2l0ZT1MYXg7IHBhdGg9L1wiK2wrYTtyZXR1cm4gaC5sZW5ndGg+MzY4Ni40JiYkdC53YXJuKFwiY29va2llU3RvcmUgd2FybmluZzogbGFyZ2UgY29va2llLCBsZW49XCIraC5sZW5ndGgpLG8uY29va2llPWgsaH1jYXRjaCh0KXtyZXR1cm59fSxYOmZ1bmN0aW9uKHQsaSl7aWYobnVsbCE9byYmby5jb29raWUpdHJ5eyRlLlkodCxcIlwiLC0xLGkpfWNhdGNoKHQpe3JldHVybn19fSxrZT1udWxsLFBlPXtHOmZ1bmN0aW9uKCl7aWYoIU0oa2UpKXJldHVybiBrZTt2YXIgaT0hMDtpZihDKHQpKWk9ITE7ZWxzZSB0cnl7dmFyIGU9XCJfX21wbHNzdXBwb3J0X19cIjtQZS5ZKGUsXCJ4eXpcIiksJ1wieHl6XCInIT09UGUuSihlKSYmKGk9ITEpLFBlLlgoZSl9Y2F0Y2godCl7aT0hMX1yZXR1cm4gaXx8JHQuZXJyb3IoXCJsb2NhbFN0b3JhZ2UgdW5zdXBwb3J0ZWQ7IGZhbGxpbmcgYmFjayB0byBjb29raWUgc3RvcmVcIiksa2U9aSxpfSxWOmZ1bmN0aW9uKHQpeyR0LmVycm9yKFwibG9jYWxTdG9yYWdlIGVycm9yOiBcIit0KX0sSjpmdW5jdGlvbihpKXt0cnl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlLmdldEl0ZW0oaSl9Y2F0Y2godCl7UGUuVih0KX1yZXR1cm4gbnVsbH0sSzpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoUGUuSih0KSl8fHt9fWNhdGNoKHQpe31yZXR1cm4gbnVsbH0sWTpmdW5jdGlvbihpLGUpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGksSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKHQpe1BlLlYodCl9fSxYOmZ1bmN0aW9uKGkpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKHQpe1BlLlYodCl9fX0sVGU9W1wiZGlzdGluY3RfaWRcIixpaSxlaSxfaSxnaV0sSWU9Zyh7fSxQZSx7SzpmdW5jdGlvbih0KXt0cnl7dmFyIGk9e307dHJ5e2k9JGUuSyh0KXx8e319Y2F0Y2godCl7fXZhciBlPU90KGksSlNPTi5wYXJzZShQZS5KKHQpfHxcInt9XCIpKTtyZXR1cm4gUGUuWSh0LGUpLGV9Y2F0Y2godCl7fXJldHVybiBudWxsfSxZOmZ1bmN0aW9uKHQsaSxlLHIscyxuKXt0cnl7UGUuWSh0LGksdm9pZCAwLHZvaWQgMCxuKTt2YXIgbz17fTtUZS5mb3JFYWNoKCh0PT57aVt0XSYmKG9bdF09aVt0XSl9KSksT2JqZWN0LmtleXMobykubGVuZ3RoJiYkZS5ZKHQsbyxlLHIscyxuKX1jYXRjaCh0KXtQZS5WKHQpfX0sWDpmdW5jdGlvbihpLGUpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGkpLCRlLlgoaSxlKX1jYXRjaCh0KXtQZS5WKHQpfX19KSxSZT17fSxDZT17RzpmdW5jdGlvbigpe3JldHVybiEwfSxWOmZ1bmN0aW9uKHQpeyR0LmVycm9yKFwibWVtb3J5U3RvcmFnZSBlcnJvcjogXCIrdCl9LEo6ZnVuY3Rpb24odCl7cmV0dXJuIFJlW3RdfHxudWxsfSxLOmZ1bmN0aW9uKHQpe3JldHVybiBSZVt0XXx8bnVsbH0sWTpmdW5jdGlvbih0LGkpe1JlW3RdPWl9LFg6ZnVuY3Rpb24odCl7ZGVsZXRlIFJlW3RdfX0sT2U9bnVsbCxGZT17RzpmdW5jdGlvbigpe2lmKCFNKE9lKSlyZXR1cm4gT2U7aWYoT2U9ITAsQyh0KSlPZT0hMTtlbHNlIHRyeXt2YXIgaT1cIl9fc3VwcG9ydF9fXCI7RmUuWShpLFwieHl6XCIpLCdcInh5elwiJyE9PUZlLkooaSkmJihPZT0hMSksRmUuWChpKX1jYXRjaCh0KXtPZT0hMX1yZXR1cm4gT2V9LFY6ZnVuY3Rpb24odCl7JHQuZXJyb3IoXCJzZXNzaW9uU3RvcmFnZSBlcnJvcjogXCIsdCl9LEo6ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBudWxsPT10P3ZvaWQgMDp0LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oaSl9Y2F0Y2godCl7RmUuVih0KX1yZXR1cm4gbnVsbH0sSzpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoRmUuSih0KSl8fG51bGx9Y2F0Y2godCl7fXJldHVybiBudWxsfSxZOmZ1bmN0aW9uKGksZSl7dHJ5e251bGw9PXR8fHQuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShpLEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaCh0KXtGZS5WKHQpfX0sWDpmdW5jdGlvbihpKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKHQpe0ZlLlYodCl9fX0sTWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5QRU5ESU5HPS0xXT1cIlBFTkRJTkdcIix0W3QuREVOSUVEPTBdPVwiREVOSUVEXCIsdFt0LkdSQU5URUQ9MV09XCJHUkFOVEVEXCIsdH0oe30pO2NsYXNzIEFle2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9Z2V0IEEoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2UuY29uZmlnfWdldCBjb25zZW50KCl7cmV0dXJuIHRoaXMuWigpP01lLkRFTklFRDp0aGlzLnR0fWlzT3B0ZWRPdXQoKXtyZXR1cm5cImFsd2F5c1wiPT09dGhpcy5BLmNvb2tpZWxlc3NfbW9kZXx8KHRoaXMuY29uc2VudD09PU1lLkRFTklFRHx8dGhpcy5jb25zZW50PT09TWUuUEVORElORyYmKHRoaXMuQS5vcHRfb3V0X2NhcHR1cmluZ19ieV9kZWZhdWx0fHxcIm9uX3JlamVjdFwiPT09dGhpcy5BLmNvb2tpZWxlc3NfbW9kZSkpfWlzT3B0ZWRJbigpe3JldHVybiF0aGlzLmlzT3B0ZWRPdXQoKX1pc0V4cGxpY2l0bHlPcHRlZE91dCgpe3JldHVybiB0aGlzLmNvbnNlbnQ9PT1NZS5ERU5JRUR9b3B0SW5PdXQodCl7dGhpcy5pdC5ZKHRoaXMuZXQsdD8xOjAsdGhpcy5BLmNvb2tpZV9leHBpcmF0aW9uLHRoaXMuQS5jcm9zc19zdWJkb21haW5fY29va2llLHRoaXMuQS5zZWN1cmVfY29va2llKX1yZXNldCgpe3RoaXMuaXQuWCh0aGlzLmV0LHRoaXMuQS5jcm9zc19zdWJkb21haW5fY29va2llKX1nZXQgZXQoKXt2YXJ7dG9rZW46dCxvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4OmksY29uc2VudF9wZXJzaXN0ZW5jZV9uYW1lOmV9PXRoaXMuX2luc3RhbmNlLmNvbmZpZztyZXR1cm4gZXx8KGk/aSt0OlwiX19waF9vcHRfaW5fb3V0X1wiK3QpfWdldCB0dCgpe3ZhciB0PXRoaXMuaXQuSih0aGlzLmV0KTtyZXR1cm4gcSh0KT9NZS5HUkFOVEVEOnkoVyx0KT9NZS5ERU5JRUQ6TWUuUEVORElOR31nZXQgaXQoKXtpZighdGhpcy5ydCl7dmFyIHQ9dGhpcy5BLm9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU7dGhpcy5ydD1cImxvY2FsU3RvcmFnZVwiPT09dD9QZTokZTt2YXIgaT1cImxvY2FsU3RvcmFnZVwiPT09dD8kZTpQZTtpLkoodGhpcy5ldCkmJih0aGlzLnJ0LkoodGhpcy5ldCl8fHRoaXMub3B0SW5PdXQocShpLkoodGhpcy5ldCkpKSxpLlgodGhpcy5ldCx0aGlzLkEuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSkpfXJldHVybiB0aGlzLnJ0fVooKXtyZXR1cm4hIXRoaXMuQS5yZXNwZWN0X2RudCYmISF6dChbbnVsbD09bj92b2lkIDA6bi5kb05vdFRyYWNrLG51bGw9PW4/dm9pZCAwOm4ubXNEb05vdFRyYWNrLHYuZG9Ob3RUcmFja10sKHQ9PnEodCkpKX19dmFyIGplPWt0KFwiW0RlYWQgQ2xpY2tzXVwiKSxEZT0oKT0+ITAsTGU9dD0+e3ZhciBpLGU9IShudWxsPT0oaT10Lmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8IWkuZ2V0X3Byb3BlcnR5KFF0KSkscj10Lmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzO3JldHVybiBEKHIpP3I6ZX07Y2xhc3MgTmV7Z2V0IGxhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUoKXtyZXR1cm4gdGhpcy5zdH1jb25zdHJ1Y3Rvcih0LGksZSl7dGhpcy5pbnN0YW5jZT10LHRoaXMuaXNFbmFibGVkPWksdGhpcy5vbkNhcHR1cmU9ZSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9b25SZW1vdGVDb25maWcodCl7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1F0XTpudWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVEZWFkQ2xpY2tzfSksdGhpcy5zdGFydElmRW5hYmxlZCgpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQodGhpcykmJnRoaXMubnQoKCgpPT57dGhpcy5vdCgpfSkpfW50KHQpe3ZhciBpLGU7bnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUmJnQoKSxudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuaW5zdGFuY2UsXCJkZWFkLWNsaWNrcy1hdXRvY2FwdHVyZVwiLChpPT57aT9qZS5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLGkpOnQoKX0pKX1vdCgpe3ZhciB0O2lmKG8pe2lmKCF0aGlzLnN0JiZudWxsIT0odD12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnQuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSl7dmFyIGk9SSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzOnt9O2kuX19vbkNhcHR1cmU9dGhpcy5vbkNhcHR1cmUsdGhpcy5zdD12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKHRoaXMuaW5zdGFuY2UsaSksdGhpcy5zdC5zdGFydChvKSxqZS5pbmZvKFwic3RhcnRpbmcuLi5cIil9fWVsc2UgamUuZXJyb3IoXCJgZG9jdW1lbnRgIG5vdCBmb3VuZC4gQ2Fubm90IHN0YXJ0LlwiKX1zdG9wKCl7dGhpcy5zdCYmKHRoaXMuc3Quc3RvcCgpLHRoaXMuc3Q9dm9pZCAwLGplLmluZm8oXCJzdG9wcGluZy4uLlwiKSl9fXZhciBVZT1rdChcIltFeGNlcHRpb25BdXRvY2FwdHVyZV1cIik7Y2xhc3MgemV7Y29uc3RydWN0b3IoaSl7dmFyIGUscixzO3RoaXMubHQ9KCk9Pnt2YXIgaTtpZih0JiZ0aGlzLmlzRW5hYmxlZCYmbnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMpe3ZhciBlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcE9uRXJyb3Iscj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5lcnJvcldyYXBwaW5nRnVuY3Rpb25zLndyYXBVbmhhbmRsZWRSZWplY3Rpb24scz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5lcnJvcldyYXBwaW5nRnVuY3Rpb25zLndyYXBDb25zb2xlRXJyb3I7dHJ5eyF0aGlzLnV0JiZ0aGlzLkEuY2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzJiYodGhpcy51dD1lKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSksIXRoaXMuaHQmJnRoaXMuQS5jYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zJiYodGhpcy5odD1yKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSksIXRoaXMuZHQmJnRoaXMuQS5jYXB0dXJlX2NvbnNvbGVfZXJyb3JzJiYodGhpcy5kdD1zKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSl9Y2F0Y2godCl7VWUuZXJyb3IoXCJmYWlsZWQgdG8gc3RhcnRcIix0KSx0aGlzLnZ0KCl9fX0sdGhpcy5faW5zdGFuY2U9aSx0aGlzLmN0PSEobnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhZS5wcm9wc1tKdF0pLHRoaXMuQT10aGlzLmZ0KCksdGhpcy5ndD1uZXcgVih7cmVmaWxsUmF0ZTpudWxsIT09KHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVycm9yX3RyYWNraW5nLl9fZXhjZXB0aW9uUmF0ZUxpbWl0ZXJSZWZpbGxSYXRlKSYmdm9pZCAwIT09cj9yOjEsYnVja2V0U2l6ZTpudWxsIT09KHM9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVycm9yX3RyYWNraW5nLl9fZXhjZXB0aW9uUmF0ZUxpbWl0ZXJCdWNrZXRTaXplKSYmdm9pZCAwIT09cz9zOjEwLHJlZmlsbEludGVydmFsOjFlNCxQOlVlfSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWZ0KCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZXhjZXB0aW9ucyxpPXtjYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnM6ITEsY2FwdHVyZV91bmhhbmRsZWRfcmVqZWN0aW9uczohMSxjYXB0dXJlX2NvbnNvbGVfZXJyb3JzOiExfTtyZXR1cm4gSSh0KT9pPWcoe30saSx0KTooQyh0KT90aGlzLmN0OnQpJiYoaT1nKHt9LGkse2NhcHR1cmVfdW5oYW5kbGVkX2Vycm9yczohMCxjYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zOiEwfSkpLGl9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiB0aGlzLkEuY2FwdHVyZV9jb25zb2xlX2Vycm9yc3x8dGhpcy5BLmNhcHR1cmVfdW5oYW5kbGVkX2Vycm9yc3x8dGhpcy5BLmNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnN9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmKFVlLmluZm8oXCJlbmFibGVkXCIpLHRoaXMubnQodGhpcy5sdCkpfW50KHQpe3ZhciBpLGU7bnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMmJnQoKSxudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLFwiZXhjZXB0aW9uLWF1dG9jYXB0dXJlXCIsKGk9PntpZihpKXJldHVybiBVZS5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLGkpO3QoKX0pKX12dCgpe3ZhciB0LGksZTtudWxsPT0odD10aGlzLnV0KXx8dC5jYWxsKHRoaXMpLHRoaXMudXQ9dm9pZCAwLG51bGw9PShpPXRoaXMuaHQpfHxpLmNhbGwodGhpcyksdGhpcy5odD12b2lkIDAsbnVsbD09KGU9dGhpcy5kdCl8fGUuY2FsbCh0aGlzKSx0aGlzLmR0PXZvaWQgMH1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT10LmF1dG9jYXB0dXJlRXhjZXB0aW9uczt0aGlzLmN0PSEhaXx8ITEsdGhpcy5BPXRoaXMuZnQoKSx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tKdF06dGhpcy5jdH0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1jYXB0dXJlRXhjZXB0aW9uKHQpe3ZhciBpLGUscj1udWxsIT09KGk9bnVsbD09dHx8bnVsbD09KGU9dC4kZXhjZXB0aW9uX2xpc3QpfHxudWxsPT0oZT1lWzBdKT92b2lkIDA6ZS50eXBlKSYmdm9pZCAwIT09aT9pOlwiRXhjZXB0aW9uXCI7dGhpcy5ndC5jb25zdW1lUmF0ZUxpbWl0KHIpP1VlLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIG9mIGNsaWVudCByYXRlIGxpbWl0aW5nLlwiLHtleGNlcHRpb246cn0pOnRoaXMuX2luc3RhbmNlLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHQpfX1mdW5jdGlvbiBIZSh0LGksZSl7dHJ5e2lmKCEoaSBpbiB0KSlyZXR1cm4oKT0+e307dmFyIHI9dFtpXSxzPWUocik7cmV0dXJuIFQocykmJihzLnByb3RvdHlwZT1zLnByb3RvdHlwZXx8e30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocyx7X19wb3N0aG9nX3dyYXBwZWRfXzp7ZW51bWVyYWJsZTohMSx2YWx1ZTohMH19KSksdFtpXT1zLCgpPT57dFtpXT1yfX1jYXRjaCh0KXtyZXR1cm4oKT0+e319fWNsYXNzIEJle2NvbnN0cnVjdG9yKGkpe3ZhciBlO3RoaXMuX2luc3RhbmNlPWksdGhpcy5fdD0obnVsbD09dHx8bnVsbD09KGU9dC5sb2NhdGlvbik/dm9pZCAwOmUucGF0aG5hbWUpfHxcIlwifWdldCBpc0VuYWJsZWQoKXtyZXR1cm5cImhpc3RvcnlfY2hhbmdlXCI9PT10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wYWdldmlld31zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYoJHQuaW5mbyhcIkhpc3RvcnkgQVBJIG1vbml0b3JpbmcgZW5hYmxlZCwgc3RhcnRpbmcuLi5cIiksdGhpcy5tb25pdG9ySGlzdG9yeUNoYW5nZXMoKSl9c3RvcCgpe3RoaXMueXQmJnRoaXMueXQoKSx0aGlzLnl0PXZvaWQgMCwkdC5pbmZvKFwiSGlzdG9yeSBBUEkgbW9uaXRvcmluZyBzdG9wcGVkXCIpfW1vbml0b3JIaXN0b3J5Q2hhbmdlcygpe3ZhciBpLGU7aWYodCYmdC5oaXN0b3J5KXt2YXIgcj10aGlzO251bGwhPShpPXQuaGlzdG9yeS5wdXNoU3RhdGUpJiZpLl9fcG9zdGhvZ193cmFwcGVkX198fEhlKHQuaGlzdG9yeSxcInB1c2hTdGF0ZVwiLCh0PT5mdW5jdGlvbihpLGUscyl7dC5jYWxsKHRoaXMsaSxlLHMpLHIuYnQoXCJwdXNoU3RhdGVcIil9KSksbnVsbCE9KGU9dC5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkmJmUuX19wb3N0aG9nX3dyYXBwZWRfX3x8SGUodC5oaXN0b3J5LFwicmVwbGFjZVN0YXRlXCIsKHQ9PmZ1bmN0aW9uKGksZSxzKXt0LmNhbGwodGhpcyxpLGUscyksci5idChcInJlcGxhY2VTdGF0ZVwiKX0pKSx0aGlzLnd0KCl9fWJ0KGkpe3RyeXt2YXIgZSxyPW51bGw9PXR8fG51bGw9PShlPXQubG9jYXRpb24pP3ZvaWQgMDplLnBhdGhuYW1lO2lmKCFyKXJldHVybjtyIT09dGhpcy5fdCYmdGhpcy5pc0VuYWJsZWQmJnRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkcGFnZXZpZXdcIix7bmF2aWdhdGlvbl90eXBlOml9KSx0aGlzLl90PXJ9Y2F0Y2godCl7JHQuZXJyb3IoXCJFcnJvciBjYXB0dXJpbmcgXCIraStcIiBwYWdldmlld1wiLHQpfX13dCgpe2lmKCF0aGlzLnl0KXt2YXIgaT0oKT0+e3RoaXMuYnQoXCJwb3BzdGF0ZVwiKX07SHQodCxcInBvcHN0YXRlXCIsaSksdGhpcy55dD0oKT0+e3QmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsaSl9fX19dmFyIHFlPWt0KFwiW1NlZ21lbnRJbnRlZ3JhdGlvbl1cIik7ZnVuY3Rpb24gV2UodCxpKXt2YXIgZT10LmNvbmZpZy5zZWdtZW50O2lmKCFlKXJldHVybiBpKCk7IWZ1bmN0aW9uKHQsaSl7dmFyIGU9dC5jb25maWcuc2VnbWVudDtpZighZSlyZXR1cm4gaSgpO3ZhciByPWU9Pnt2YXIgcj0oKT0+ZS5hbm9ueW1vdXNJZCgpfHxiZSgpO3QuY29uZmlnLmdldF9kZXZpY2VfaWQ9cixlLmlkKCkmJih0LnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDplLmlkKCksJGRldmljZV9pZDpyKCl9KSx0LnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShkaSxcImlkZW50aWZpZWRcIikpLGkoKX0scz1lLnVzZXIoKTtcInRoZW5cImluIHMmJlQocy50aGVuKT9zLnRoZW4oKHQ9PnIodCkpKTpyKHMpfSh0LCgoKT0+e2UucmVnaXN0ZXIoKHQ9PntQcm9taXNlJiZQcm9taXNlLnJlc29sdmV8fHFlLndhcm4oXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBQcm9taXNlIHN1cHBvcnQsIGFuZCBjYW4gbm90IHVzZSB0aGUgc2VnbWVudCBpbnRlZ3JhdGlvblwiKTt2YXIgaT0oaSxlKT0+e2lmKCFlKXJldHVybiBpO2kuZXZlbnQudXNlcklkfHxpLmV2ZW50LmFub255bW91c0lkPT09dC5nZXRfZGlzdGluY3RfaWQoKXx8KHFlLmluZm8oXCJObyB1c2VySWQgc2V0LCByZXNldHRpbmcgUG9zdEhvZ1wiKSx0LnJlc2V0KCkpLGkuZXZlbnQudXNlcklkJiZpLmV2ZW50LnVzZXJJZCE9PXQuZ2V0X2Rpc3RpbmN0X2lkKCkmJihxZS5pbmZvKFwiVXNlcklkIHNldCwgaWRlbnRpZnlpbmcgd2l0aCBQb3N0SG9nXCIpLHQuaWRlbnRpZnkoaS5ldmVudC51c2VySWQpKTt2YXIgcj10LmNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcyhlLGkuZXZlbnQucHJvcGVydGllcyk7cmV0dXJuIGkuZXZlbnQucHJvcGVydGllcz1PYmplY3QuYXNzaWduKHt9LHIsaS5ldmVudC5wcm9wZXJ0aWVzKSxpfTtyZXR1cm57bmFtZTpcIlBvc3RIb2cgSlNcIix0eXBlOlwiZW5yaWNobWVudFwiLHZlcnNpb246XCIxLjAuMFwiLGlzTG9hZGVkOigpPT4hMCxsb2FkOigpPT5Qcm9taXNlLnJlc29sdmUoKSx0cmFjazp0PT5pKHQsdC5ldmVudC5ldmVudCkscGFnZTp0PT5pKHQsXCIkcGFnZXZpZXdcIiksaWRlbnRpZnk6dD0+aSh0LFwiJGlkZW50aWZ5XCIpLHNjcmVlbjp0PT5pKHQsXCIkc2NyZWVuXCIpfX0pKHQpKS50aGVuKCgoKT0+e2koKX0pKX0pKX12YXIgR2U9XCJwb3N0aG9nLWpzXCI7ZnVuY3Rpb24gVmUodCxpKXt2YXJ7b3JnYW5pemF0aW9uOmUscHJvamVjdElkOnIscHJlZml4OnMsc2V2ZXJpdHlBbGxvd0xpc3Q6bj1bXCJlcnJvclwiXSxzZW5kRXhjZXB0aW9uc1RvUG9zdEhvZzpvPSEwfT12b2lkIDA9PT1pP3t9Omk7cmV0dXJuIGk9Pnt2YXIgYSxsLHUsaCxkO2lmKCEoXCIqXCI9PT1ufHxuLmluY2x1ZGVzKGkubGV2ZWwpKXx8IXQuX19sb2FkZWQpcmV0dXJuIGk7aS50YWdzfHwoaS50YWdzPXt9KTt2YXIgdj10LnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiLFwiL3Byb2plY3QvXCIrdC5jb25maWcudG9rZW4rXCIvcGVyc29uL1wiK3QuZ2V0X2Rpc3RpbmN0X2lkKCkpO2kudGFnc1tcIlBvc3RIb2cgUGVyc29uIFVSTFwiXT12LHQuc2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKSYmKGkudGFnc1tcIlBvc3RIb2cgUmVjb3JkaW5nIFVSTFwiXT10LmdldF9zZXNzaW9uX3JlcGxheV91cmwoe3dpdGhUaW1lc3RhbXA6ITB9KSk7dmFyIGM9KG51bGw9PShhPWkuZXhjZXB0aW9uKT92b2lkIDA6YS52YWx1ZXMpfHxbXSxmPWMubWFwKCh0PT5nKHt9LHQse3N0YWNrdHJhY2U6dC5zdGFja3RyYWNlP2coe30sdC5zdGFja3RyYWNlLHt0eXBlOlwicmF3XCIsZnJhbWVzOih0LnN0YWNrdHJhY2UuZnJhbWVzfHxbXSkubWFwKCh0PT5nKHt9LHQse3BsYXRmb3JtOlwid2ViOmphdmFzY3JpcHRcIn0pKSl9KTp2b2lkIDB9KSkpLHA9eyRleGNlcHRpb25fbWVzc2FnZToobnVsbD09KGw9Y1swXSk/dm9pZCAwOmwudmFsdWUpfHxpLm1lc3NhZ2UsJGV4Y2VwdGlvbl90eXBlOm51bGw9PSh1PWNbMF0pP3ZvaWQgMDp1LnR5cGUsJGV4Y2VwdGlvbl9wZXJzb25VUkw6diwkZXhjZXB0aW9uX2xldmVsOmkubGV2ZWwsJGV4Y2VwdGlvbl9saXN0OmYsJHNlbnRyeV9ldmVudF9pZDppLmV2ZW50X2lkLCRzZW50cnlfZXhjZXB0aW9uOmkuZXhjZXB0aW9uLCRzZW50cnlfZXhjZXB0aW9uX21lc3NhZ2U6KG51bGw9PShoPWNbMF0pP3ZvaWQgMDpoLnZhbHVlKXx8aS5tZXNzYWdlLCRzZW50cnlfZXhjZXB0aW9uX3R5cGU6bnVsbD09KGQ9Y1swXSk/dm9pZCAwOmQudHlwZSwkc2VudHJ5X3RhZ3M6aS50YWdzfTtyZXR1cm4gZSYmciYmKHAuJHNlbnRyeV91cmw9KHN8fFwiaHR0cHM6Ly9zZW50cnkuaW8vb3JnYW5pemF0aW9ucy9cIikrZStcIi9pc3N1ZXMvP3Byb2plY3Q9XCIrcitcIiZxdWVyeT1cIitpLmV2ZW50X2lkKSxvJiZ0LmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHApLGl9fWNsYXNzIEple2NvbnN0cnVjdG9yKHQsaSxlLHIscyxuKXt0aGlzLm5hbWU9R2UsdGhpcy5zZXR1cE9uY2U9ZnVuY3Rpb24obyl7byhWZSh0LHtvcmdhbml6YXRpb246aSxwcm9qZWN0SWQ6ZSxwcmVmaXg6cixzZXZlcml0eUFsbG93TGlzdDpzLHNlbmRFeGNlcHRpb25zVG9Qb3N0SG9nOm51bGw9PW58fG59KSl9fX12YXIgS2U9bnVsbCE9dCYmdC5sb2NhdGlvbj9hZSh0LmxvY2F0aW9uLmhhc2gsXCJfX3Bvc3Rob2dcIil8fGFlKGxvY2F0aW9uLmhhc2gsXCJzdGF0ZVwiKTpudWxsLFllPVwiX3Bvc3RIb2dUb29sYmFyUGFyYW1zXCIsWGU9a3QoXCJbVG9vbGJhcl1cIiksUWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5VTklOSVRJQUxJWkVEPTBdPVwiVU5JTklUSUFMSVpFRFwiLHRbdC5MT0FESU5HPTFdPVwiTE9BRElOR1wiLHRbdC5MT0FERUQ9Ml09XCJMT0FERURcIix0fShRZXx8e30pO2NsYXNzIFple2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5zdGFuY2U9dH1TdCh0KXt2LnBoX3Rvb2xiYXJfc3RhdGU9dH14dCgpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9di5waF90b29sYmFyX3N0YXRlKSYmdm9pZCAwIT09dD90OlFlLlVOSU5JVElBTElaRUR9bWF5YmVMb2FkVG9vbGJhcihpLGUscil7aWYodm9pZCAwPT09aSYmKGk9dm9pZCAwKSx2b2lkIDA9PT1lJiYoZT12b2lkIDApLHZvaWQgMD09PXImJihyPXZvaWQgMCksIXR8fCFvKXJldHVybiExO2k9bnVsbCE9aT9pOnQubG9jYXRpb24scj1udWxsIT1yP3I6dC5oaXN0b3J5O3RyeXtpZighZSl7dHJ5e3QubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0ZXN0XCIsXCJ0ZXN0XCIpLHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ0ZXN0XCIpfWNhdGNoKHQpe3JldHVybiExfWU9bnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2V9dmFyIHMsbj1LZXx8YWUoaS5oYXNoLFwiX19wb3N0aG9nXCIpfHxhZShpLmhhc2gsXCJzdGF0ZVwiKSxhPW4/QXQoKCgpPT5KU09OLnBhcnNlKGF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KG4pKSkpKXx8QXQoKCgpPT5KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChuKSkpKTpudWxsO3JldHVybiBhJiZcInBoX2F1dGhvcml6ZVwiPT09YS5hY3Rpb24/KChzPWEpLnNvdXJjZT1cInVybFwiLHMmJk9iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiYoYS5kZXNpcmVkSGFzaD9pLmhhc2g9YS5kZXNpcmVkSGFzaDpyP3IucmVwbGFjZVN0YXRlKHIuc3RhdGUsXCJcIixpLnBhdGhuYW1lK2kuc2VhcmNoKTppLmhhc2g9XCJcIikpOigocz1KU09OLnBhcnNlKGUuZ2V0SXRlbShZZSl8fFwie31cIikpLnNvdXJjZT1cImxvY2Fsc3RvcmFnZVwiLGRlbGV0ZSBzLnVzZXJJbnRlbnQpLCEoIXMudG9rZW58fHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuIT09cy50b2tlbikmJih0aGlzLmxvYWRUb29sYmFyKHMpLCEwKX1jYXRjaCh0KXtyZXR1cm4hMX19RXQodCl7dmFyIGk9di5waF9sb2FkX3Rvb2xiYXJ8fHYucGhfbG9hZF9lZGl0b3I7IUEoaSkmJlQoaSk/aSh0LHRoaXMuaW5zdGFuY2UpOlhlLndhcm4oXCJObyB0b29sYmFyIGxvYWQgZnVuY3Rpb24gZm91bmRcIil9bG9hZFRvb2xiYXIoaSl7dmFyIGU9IShudWxsPT1vfHwhby5nZXRFbGVtZW50QnlJZChtaSkpO2lmKCF0fHxlKXJldHVybiExO3ZhciByPVwiY3VzdG9tXCI9PT10aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIucmVnaW9uJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljcyxzPWcoe3Rva2VuOnRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VufSxpLHthcGlVUkw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIil9LHI/e2luc3RydW1lbnQ6ITF9Ont9KTtpZih0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFllLEpTT04uc3RyaW5naWZ5KGcoe30scyx7c291cmNlOnZvaWQgMH0pKSksdGhpcy54dCgpPT09UWUuTE9BREVEKXRoaXMuRXQocyk7ZWxzZSBpZih0aGlzLnh0KCk9PT1RZS5VTklOSVRJQUxJWkVEKXt2YXIgbjt0aGlzLlN0KFFlLkxPQURJTkcpLG51bGw9PShuPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09bi5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxuLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5pbnN0YW5jZSxcInRvb2xiYXJcIiwodD0+e2lmKHQpcmV0dXJuIFhlLmVycm9yKFwiW1Rvb2xiYXJdIEZhaWxlZCB0byBsb2FkXCIsdCksdm9pZCB0aGlzLlN0KFFlLlVOSU5JVElBTElaRUQpO3RoaXMuU3QoUWUuTE9BREVEKSx0aGlzLkV0KHMpfSkpLEh0KHQsXCJ0dXJib2xpbmtzOmxvYWRcIiwoKCk9Pnt0aGlzLlN0KFFlLlVOSU5JVElBTElaRUQpLHRoaXMubG9hZFRvb2xiYXIocyl9KSl9cmV0dXJuITB9JHQodCl7cmV0dXJuIHRoaXMubG9hZFRvb2xiYXIodCl9bWF5YmVMb2FkRWRpdG9yKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dm9pZCAwKSx2b2lkIDA9PT1pJiYoaT12b2lkIDApLHZvaWQgMD09PWUmJihlPXZvaWQgMCksdGhpcy5tYXliZUxvYWRUb29sYmFyKHQsaSxlKX19dmFyIHRyPWt0KFwiW1RyYWNpbmdIZWFkZXJzXVwiKTtjbGFzcyBpcntjb25zdHJ1Y3Rvcih0KXt0aGlzLmt0PXZvaWQgMCx0aGlzLlB0PXZvaWQgMCx0aGlzLmx0PSgpPT57dmFyIHQsaTtDKHRoaXMua3QpJiYobnVsbD09KHQ9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0odD10LnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMpfHx0Ll9wYXRjaFhIUih0aGlzLl9pbnN0YW5jZS5jb25maWcuX19hZGRfdHJhY2luZ19oZWFkZXJzfHxbXSx0aGlzLl9pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSx0aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpO0ModGhpcy5QdCkmJihudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShpPWkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyl8fGkuX3BhdGNoRmV0Y2godGhpcy5faW5zdGFuY2UuY29uZmlnLl9fYWRkX3RyYWNpbmdfaGVhZGVyc3x8W10sdGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpKX0sdGhpcy5faW5zdGFuY2U9dH1udCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS50cmFjaW5nSGVhZGVyc1BhdGNoRm5zJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcInRyYWNpbmctaGVhZGVyc1wiLChpPT57aWYoaSlyZXR1cm4gdHIuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTt0KCl9KSl9c3RhcnRJZkVuYWJsZWRPclN0b3AoKXt2YXIgdCxpO3RoaXMuX2luc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnM/dGhpcy5udCh0aGlzLmx0KToobnVsbD09KHQ9dGhpcy5rdCl8fHQuY2FsbCh0aGlzKSxudWxsPT0oaT10aGlzLlB0KXx8aS5jYWxsKHRoaXMpLHRoaXMua3Q9dm9pZCAwLHRoaXMuUHQ9dm9pZCAwKX19dmFyIGVyPVwiTW9iaWxlXCIscnI9XCJpT1NcIixzcj1cIkFuZHJvaWRcIixucj1cIlRhYmxldFwiLG9yPXNyK1wiIFwiK25yLGFyPVwiaVBhZFwiLGxyPVwiQXBwbGVcIix1cj1scitcIiBXYXRjaFwiLGhyPVwiU2FmYXJpXCIsZHI9XCJCbGFja0JlcnJ5XCIsdnI9XCJTYW1zdW5nXCIsY3I9dnIrXCJCcm93c2VyXCIsZnI9dnIrXCIgSW50ZXJuZXRcIixwcj1cIkNocm9tZVwiLGdyPXByK1wiIE9TXCIsX3I9cHIrXCIgXCIrcnIsbXI9XCJJbnRlcm5ldCBFeHBsb3JlclwiLHlyPW1yK1wiIFwiK2VyLGJyPVwiT3BlcmFcIix3cj1icitcIiBNaW5pXCIsU3I9XCJFZGdlXCIseHI9XCJNaWNyb3NvZnQgXCIrU3IsRXI9XCJGaXJlZm94XCIsJHI9RXIrXCIgXCIrcnIsa3I9XCJOaW50ZW5kb1wiLFByPVwiUGxheVN0YXRpb25cIixUcj1cIlhib3hcIixJcj1zcitcIiBcIitlcixScj1lcitcIiBcIitocixDcj1cIldpbmRvd3NcIixPcj1DcitcIiBQaG9uZVwiLEZyPVwiTm9raWFcIixNcj1cIk91eWFcIixBcj1cIkdlbmVyaWNcIixqcj1BcitcIiBcIitlci50b0xvd2VyQ2FzZSgpLERyPUFyK1wiIFwiK25yLnRvTG93ZXJDYXNlKCksTHI9XCJLb25xdWVyb3JcIixOcj1cIihcXFxcZCsoXFxcXC5cXFxcZCspPylcIixVcj1uZXcgUmVnRXhwKFwiVmVyc2lvbi9cIitOciksenI9bmV3IFJlZ0V4cChUcixcImlcIiksSHI9bmV3IFJlZ0V4cChQcitcIiBcXFxcdytcIixcImlcIiksQnI9bmV3IFJlZ0V4cChrcitcIiBcXFxcdytcIixcImlcIikscXI9bmV3IFJlZ0V4cChkcitcInxQbGF5Qm9va3xCQjEwXCIsXCJpXCIpLFdyPXtcIk5UMy41MVwiOlwiTlQgMy4xMVwiLFwiTlQ0LjBcIjpcIk5UIDQuMFwiLFwiNS4wXCI6XCIyMDAwXCIsNS4xOlwiWFBcIiw1LjI6XCJYUFwiLFwiNi4wXCI6XCJWaXN0YVwiLDYuMTpcIjdcIiw2LjI6XCI4XCIsNi4zOlwiOC4xXCIsNi40OlwiMTBcIixcIjEwLjBcIjpcIjEwXCJ9O3ZhciBHcj0odCxpKT0+aSYmeShpLGxyKXx8ZnVuY3Rpb24odCl7cmV0dXJuIHkodCxocikmJiF5KHQscHIpJiYheSh0LHNyKX0odCksVnI9ZnVuY3Rpb24odCxpKXtyZXR1cm4gaT1pfHxcIlwiLHkodCxcIiBPUFIvXCIpJiZ5KHQsXCJNaW5pXCIpP3dyOnkodCxcIiBPUFIvXCIpP2JyOnFyLnRlc3QodCk/ZHI6eSh0LFwiSUVcIitlcil8fHkodCxcIldQRGVza3RvcFwiKT95cjp5KHQsY3IpP2ZyOnkodCxTcil8fHkodCxcIkVkZy9cIik/eHI6eSh0LFwiRkJJT1NcIik/XCJGYWNlYm9vayBcIitlcjp5KHQsXCJVQ1dFQlwiKXx8eSh0LFwiVUNCcm93c2VyXCIpP1wiVUMgQnJvd3NlclwiOnkodCxcIkNyaU9TXCIpP19yOnkodCxcIkNyTW9cIil8fHkodCxwcik/cHI6eSh0LHNyKSYmeSh0LGhyKT9Jcjp5KHQsXCJGeGlPU1wiKT8kcjp5KHQudG9Mb3dlckNhc2UoKSxMci50b0xvd2VyQ2FzZSgpKT9McjpHcih0LGkpP3kodCxlcik/UnI6aHI6eSh0LEVyKT9Fcjp5KHQsXCJNU0lFXCIpfHx5KHQsXCJUcmlkZW50L1wiKT9tcjp5KHQsXCJHZWNrb1wiKT9FcjpcIlwifSxKcj17W3lyXTpbbmV3IFJlZ0V4cChcInJ2OlwiK05yKV0sW3hyXTpbbmV3IFJlZ0V4cChTcitcIj9cXFxcL1wiK05yKV0sW3ByXTpbbmV3IFJlZ0V4cChcIihcIitwcitcInxDck1vKVxcXFwvXCIrTnIpXSxbX3JdOltuZXcgUmVnRXhwKFwiQ3JpT1NcXFxcL1wiK05yKV0sXCJVQyBCcm93c2VyXCI6W25ldyBSZWdFeHAoXCIoVUNCcm93c2VyfFVDV0VCKVxcXFwvXCIrTnIpXSxbaHJdOltVcl0sW1JyXTpbVXJdLFticl06W25ldyBSZWdFeHAoXCIoT3BlcmF8T1BSKVxcXFwvXCIrTnIpXSxbRXJdOltuZXcgUmVnRXhwKEVyK1wiXFxcXC9cIitOcildLFskcl06W25ldyBSZWdFeHAoXCJGeGlPU1xcXFwvXCIrTnIpXSxbTHJdOltuZXcgUmVnRXhwKFwiS29ucXVlcm9yWzovXT9cIitOcixcImlcIildLFtkcl06W25ldyBSZWdFeHAoZHIrXCIgXCIrTnIpLFVyXSxbSXJdOltuZXcgUmVnRXhwKFwiYW5kcm9pZFxcXFxzXCIrTnIsXCJpXCIpXSxbZnJdOltuZXcgUmVnRXhwKGNyK1wiXFxcXC9cIitOcildLFttcl06W25ldyBSZWdFeHAoXCIocnY6fE1TSUUgKVwiK05yKV0sTW96aWxsYTpbbmV3IFJlZ0V4cChcInJ2OlwiK05yKV19LEtyPWZ1bmN0aW9uKHQsaSl7dmFyIGU9VnIodCxpKSxyPUpyW2VdO2lmKEMocikpcmV0dXJuIG51bGw7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXJbc10sbz10Lm1hdGNoKG4pO2lmKG8pcmV0dXJuIHBhcnNlRmxvYXQob1tvLmxlbmd0aC0yXSl9cmV0dXJuIG51bGx9LFlyPVtbbmV3IFJlZ0V4cChUcitcIjsgXCIrVHIrXCIgKC4qPylbKTtdXCIsXCJpXCIpLHQ9PltUcix0JiZ0WzFdfHxcIlwiXV0sW25ldyBSZWdFeHAoa3IsXCJpXCIpLFtrcixcIlwiXV0sW25ldyBSZWdFeHAoUHIsXCJpXCIpLFtQcixcIlwiXV0sW3FyLFtkcixcIlwiXV0sW25ldyBSZWdFeHAoQ3IsXCJpXCIpLCh0LGkpPT57aWYoL1Bob25lLy50ZXN0KGkpfHwvV1BEZXNrdG9wLy50ZXN0KGkpKXJldHVybltPcixcIlwiXTtpZihuZXcgUmVnRXhwKGVyKS50ZXN0KGkpJiYhL0lFTW9iaWxlXFxiLy50ZXN0KGkpKXJldHVybltDcitcIiBcIitlcixcIlwiXTt2YXIgZT0vV2luZG93cyBOVCAoWzAtOS5dKykvaS5leGVjKGkpO2lmKGUmJmVbMV0pe3ZhciByPWVbMV0scz1XcltyXXx8XCJcIjtyZXR1cm4vYXJtL2kudGVzdChpKSYmKHM9XCJSVFwiKSxbQ3Isc119cmV0dXJuW0NyLFwiXCJdfV0sWy8oKGlQaG9uZXxpUGFkfGlQb2QpLio/T1MgKFxcZCspXyhcXGQrKV8/KFxcZCspP3xpUGhvbmUpLyx0PT57aWYodCYmdFszXSl7dmFyIGk9W3RbM10sdFs0XSx0WzVdfHxcIjBcIl07cmV0dXJuW3JyLGkuam9pbihcIi5cIildfXJldHVybltycixcIlwiXX1dLFsvKHdhdGNoLipcXC8oXFxkK1xcLlxcZCtcXC5cXGQrKXx3YXRjaCBvcywoXFxkK1xcLlxcZCspLCkvaSx0PT57dmFyIGk9XCJcIjtyZXR1cm4gdCYmdC5sZW5ndGg+PTMmJihpPUModFsyXSk/dFszXTp0WzJdKSxbXCJ3YXRjaE9TXCIsaV19XSxbbmV3IFJlZ0V4cChcIihcIitzcitcIiAoXFxcXGQrKVxcXFwuKFxcXFxkKylcXFxcLj8oXFxcXGQrKT98XCIrc3IrXCIpXCIsXCJpXCIpLHQ9PntpZih0JiZ0WzJdKXt2YXIgaT1bdFsyXSx0WzNdLHRbNF18fFwiMFwiXTtyZXR1cm5bc3IsaS5qb2luKFwiLlwiKV19cmV0dXJuW3NyLFwiXCJdfV0sWy9NYWMgT1MgWCAoXFxkKylbXy5dKFxcZCspW18uXT8oXFxkKyk/L2ksdD0+e3ZhciBpPVtcIk1hYyBPUyBYXCIsXCJcIl07aWYodCYmdFsxXSl7dmFyIGU9W3RbMV0sdFsyXSx0WzNdfHxcIjBcIl07aVsxXT1lLmpvaW4oXCIuXCIpfXJldHVybiBpfV0sWy9NYWMvaSxbXCJNYWMgT1MgWFwiLFwiXCJdXSxbL0NyT1MvLFtncixcIlwiXV0sWy9MaW51eHxkZWJpYW4vaSxbXCJMaW51eFwiLFwiXCJdXV0sWHI9ZnVuY3Rpb24odCl7cmV0dXJuIEJyLnRlc3QodCk/a3I6SHIudGVzdCh0KT9Qcjp6ci50ZXN0KHQpP1RyOm5ldyBSZWdFeHAoTXIsXCJpXCIpLnRlc3QodCk/TXI6bmV3IFJlZ0V4cChcIihcIitPcitcInxXUERlc2t0b3ApXCIsXCJpXCIpLnRlc3QodCk/T3I6L2lQYWQvLnRlc3QodCk/YXI6L2lQb2QvLnRlc3QodCk/XCJpUG9kIFRvdWNoXCI6L2lQaG9uZS8udGVzdCh0KT9cImlQaG9uZVwiOi8od2F0Y2gpKD86ID9vc1ssL118XFxkLFxcZFxcLylbXFxkLl0rL2kudGVzdCh0KT91cjpxci50ZXN0KHQpP2RyOi8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaS50ZXN0KHQpP1wiS29ib1wiOm5ldyBSZWdFeHAoRnIsXCJpXCIpLnRlc3QodCk/RnI6LyhrZlthLXpdezJ9d2l8YWVvW2Mtcl17Mn0pKCBidWl8XFwpKS9pLnRlc3QodCl8fC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pLnRlc3QodCk/XCJLaW5kbGUgRmlyZVwiOi8oQW5kcm9pZHxaVEUpL2kudGVzdCh0KT8hbmV3IFJlZ0V4cChlcikudGVzdCh0KXx8Lyg5MTM4QnxUQjc4MkJ8TmV4dXMgWzk3XXxwaXhlbCBjfEhVQVdFSVNIVHxCVFZ8bm9ibGUgbm9va3xzbWFydCB1bHRyYSA2KS9pLnRlc3QodCk/L3BpeGVsW1xcZGF4bCBdezEsNn0vaS50ZXN0KHQpJiYhL3BpeGVsIGMvaS50ZXN0KHQpfHwvKGh1YXdlaW1lZC1hbDAwfHRhaC18QVBBfFNNLUc5MnxpOTgwfHp0ZXxVMzA0QUEpL2kudGVzdCh0KXx8L2xteTQ3di9pLnRlc3QodCkmJiEvUVRBUVozL2kudGVzdCh0KT9zcjpvcjpzcjpuZXcgUmVnRXhwKFwiKHBkYXxcIitlcitcIilcIixcImlcIikudGVzdCh0KT9qcjpuZXcgUmVnRXhwKG5yLFwiaVwiKS50ZXN0KHQpJiYhbmV3IFJlZ0V4cChucitcIiBwY1wiLFwiaVwiKS50ZXN0KHQpP0RyOlwiXCJ9LFFyPVwiaHR0cHM/Oi8vKC4qKVwiLFpyPVtcImdjbGlkXCIsXCJnY2xzcmNcIixcImRjbGlkXCIsXCJnYnJhaWRcIixcIndicmFpZFwiLFwiZmJjbGlkXCIsXCJtc2Nsa2lkXCIsXCJ0d2NsaWRcIixcImxpX2ZhdF9pZFwiLFwiaWdzaGlkXCIsXCJ0dGNsaWRcIixcInJkdF9jaWRcIixcImVwaWtcIixcInFjbGlkXCIsXCJzY2NpZFwiLFwiaXJjbGlkXCIsXCJfa3hcIl0sdHM9RnQoW1widXRtX3NvdXJjZVwiLFwidXRtX21lZGl1bVwiLFwidXRtX2NhbXBhaWduXCIsXCJ1dG1fY29udGVudFwiLFwidXRtX3Rlcm1cIixcImdhZF9zb3VyY2VcIixcIm1jX2NpZFwiXSxaciksaXM9XCI8bWFza2VkPlwiLGVzPVtcImxpX2ZhdF9pZFwiXTtmdW5jdGlvbiBycyh0LGksZSl7aWYoIW8pcmV0dXJue307dmFyIHIscz1pP0Z0KFtdLFpyLGV8fFtdKTpbXSxuPXNzKG9lKG8uVVJMLHMsaXMpLHQpLGE9KHI9e30sQ3QoZXMsKGZ1bmN0aW9uKHQpe3ZhciBpPSRlLkoodCk7clt0XT1pfHxudWxsfSkpLHIpO3JldHVybiBPdChhLG4pfWZ1bmN0aW9uIHNzKHQsaSl7dmFyIGU9dHMuY29uY2F0KGl8fFtdKSxyPXt9O3JldHVybiBDdChlLChmdW5jdGlvbihpKXt2YXIgZT1uZSh0LGkpO3JbaV09ZXx8bnVsbH0pKSxyfWZ1bmN0aW9uIG5zKHQpe3ZhciBpPWZ1bmN0aW9uKHQpe3JldHVybiB0PzA9PT10LnNlYXJjaChRcitcImdvb2dsZS4oW14vP10qKVwiKT9cImdvb2dsZVwiOjA9PT10LnNlYXJjaChRcitcImJpbmcuY29tXCIpP1wiYmluZ1wiOjA9PT10LnNlYXJjaChRcitcInlhaG9vLmNvbVwiKT9cInlhaG9vXCI6MD09PXQuc2VhcmNoKFFyK1wiZHVja2R1Y2tnby5jb21cIik/XCJkdWNrZHVja2dvXCI6bnVsbDpudWxsfSh0KSxlPVwieWFob29cIiE9aT9cInFcIjpcInBcIixyPXt9O2lmKCFNKGkpKXtyLiRzZWFyY2hfZW5naW5lPWk7dmFyIHM9bz9uZShvLnJlZmVycmVyLGUpOlwiXCI7cy5sZW5ndGgmJihyLnBoX2tleXdvcmQ9cyl9cmV0dXJuIHJ9ZnVuY3Rpb24gb3MoKXtyZXR1cm4gbmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfWZ1bmN0aW9uIGFzKCl7cmV0dXJuKG51bGw9PW8/dm9pZCAwOm8ucmVmZXJyZXIpfHxcIiRkaXJlY3RcIn1mdW5jdGlvbiBscyh0LGkpe3ZhciBlPXQ/RnQoW10sWnIsaXx8W10pOltdLHI9bnVsbD09YT92b2lkIDA6YS5ocmVmLnN1YnN0cmluZygwLDFlMyk7cmV0dXJue3I6YXMoKS5zdWJzdHJpbmcoMCwxZTMpLHU6cj9vZShyLGUsaXMpOnZvaWQgMH19ZnVuY3Rpb24gdXModCl7dmFyIGkse3I6ZSx1OnJ9PXQscz17JHJlZmVycmVyOmUsJHJlZmVycmluZ19kb21haW46bnVsbD09ZT92b2lkIDA6XCIkZGlyZWN0XCI9PWU/XCIkZGlyZWN0XCI6bnVsbD09KGk9cmUoZSkpP3ZvaWQgMDppLmhvc3R9O2lmKHIpe3MuJGN1cnJlbnRfdXJsPXI7dmFyIG49cmUocik7cy4kaG9zdD1udWxsPT1uP3ZvaWQgMDpuLmhvc3Qscy4kcGF0aG5hbWU9bnVsbD09bj92b2lkIDA6bi5wYXRobmFtZTt2YXIgbz1zcyhyKTtPdChzLG8pfWlmKGUpe3ZhciBhPW5zKGUpO090KHMsYSl9cmV0dXJuIHN9ZnVuY3Rpb24gaHMoKXt0cnl7cmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZX1jYXRjaCh0KXtyZXR1cm59fWZ1bmN0aW9uIGRzKCl7dHJ5e3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX1jYXRjaCh0KXtyZXR1cm59fWZ1bmN0aW9uIHZzKGksZSl7aWYoIWQpcmV0dXJue307dmFyIHIscyxuLG89aT9GdChbXSxacixlfHxbXSk6W10sW2wsdV09ZnVuY3Rpb24odCl7Zm9yKHZhciBpPTA7aTxZci5sZW5ndGg7aSsrKXt2YXJbZSxyXT1ZcltpXSxzPWUuZXhlYyh0KSxuPXMmJihUKHIpP3Iocyx0KTpyKTtpZihuKXJldHVybiBufXJldHVybltcIlwiLFwiXCJdfShkKTtyZXR1cm4gT3QoRHQoeyRvczpsLCRvc192ZXJzaW9uOnUsJGJyb3dzZXI6VnIoZCxuYXZpZ2F0b3IudmVuZG9yKSwkZGV2aWNlOlhyKGQpLCRkZXZpY2VfdHlwZToocz1kLG49WHIocyksbj09PWFyfHxuPT09b3J8fFwiS29ib1wiPT09bnx8XCJLaW5kbGUgRmlyZVwiPT09bnx8bj09PURyP25yOm49PT1rcnx8bj09PVRyfHxuPT09UHJ8fG49PT1Ncj9cIkNvbnNvbGVcIjpuPT09dXI/XCJXZWFyYWJsZVwiOm4/ZXI6XCJEZXNrdG9wXCIpLCR0aW1lem9uZTpocygpLCR0aW1lem9uZV9vZmZzZXQ6ZHMoKX0pLHskY3VycmVudF91cmw6b2UobnVsbD09YT92b2lkIDA6YS5ocmVmLG8saXMpLCRob3N0Om51bGw9PWE/dm9pZCAwOmEuaG9zdCwkcGF0aG5hbWU6bnVsbD09YT92b2lkIDA6YS5wYXRobmFtZSwkcmF3X3VzZXJfYWdlbnQ6ZC5sZW5ndGg+MWUzP2Quc3Vic3RyaW5nKDAsOTk3KStcIi4uLlwiOmQsJGJyb3dzZXJfdmVyc2lvbjpLcihkLG5hdmlnYXRvci52ZW5kb3IpLCRicm93c2VyX2xhbmd1YWdlOm9zKCksJGJyb3dzZXJfbGFuZ3VhZ2VfcHJlZml4OihyPW9zKCksXCJzdHJpbmdcIj09dHlwZW9mIHI/ci5zcGxpdChcIi1cIilbMF06dm9pZCAwKSwkc2NyZWVuX2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi5oZWlnaHQsJHNjcmVlbl93aWR0aDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi53aWR0aCwkdmlld3BvcnRfaGVpZ2h0Om51bGw9PXQ/dm9pZCAwOnQuaW5uZXJIZWlnaHQsJHZpZXdwb3J0X3dpZHRoOm51bGw9PXQ/dm9pZCAwOnQuaW5uZXJXaWR0aCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOmMuTElCX1ZFUlNJT04sJGluc2VydF9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApLCR0aW1lOkRhdGUubm93KCkvMWUzfSl9dmFyIGNzPWt0KFwiW1dlYiBWaXRhbHNdXCIpLGZzPTllNTtjbGFzcyBwc3tjb25zdHJ1Y3Rvcih0KXt2YXIgaTt0aGlzLlR0PSExLHRoaXMuQz0hMSx0aGlzLnE9e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9LHRoaXMuSXQ9KCk9PntjbGVhclRpbWVvdXQodGhpcy5SdCksMCE9PXRoaXMucS5tZXRyaWNzLmxlbmd0aCYmKHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkd2ViX3ZpdGFsc1wiLHRoaXMucS5tZXRyaWNzLnJlZHVjZSgoKHQsaSk9Pmcoe30sdCx7W1wiJHdlYl92aXRhbHNfXCIraS5uYW1lK1wiX2V2ZW50XCJdOmcoe30saSksW1wiJHdlYl92aXRhbHNfXCIraS5uYW1lK1wiX3ZhbHVlXCJdOmkudmFsdWV9KSkse30pKSx0aGlzLnE9e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9KX0sdGhpcy5DdD10PT57dmFyIGksZT1udWxsPT0oaT10aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmkuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApO2lmKEMoZSkpY3MuZXJyb3IoXCJDb3VsZCBub3QgcmVhZCBzZXNzaW9uIElELiBEcm9wcGluZyBtZXRyaWNzIVwiKTtlbHNle3RoaXMucT10aGlzLnF8fHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfTt2YXIgcj10aGlzLk90KCk7aWYoIUMocikpaWYoQShudWxsPT10P3ZvaWQgMDp0Lm5hbWUpfHxBKG51bGw9PXQ/dm9pZCAwOnQudmFsdWUpKWNzLmVycm9yKFwiSW52YWxpZCBtZXRyaWMgcmVjZWl2ZWRcIix0KTtlbHNlIGlmKHRoaXMuRnQmJnQudmFsdWU+PXRoaXMuRnQpY3MuZXJyb3IoXCJJZ25vcmluZyBtZXRyaWMgd2l0aCB2YWx1ZSA+PSBcIit0aGlzLkZ0LHQpO2Vsc2UgdGhpcy5xLnVybCE9PXImJih0aGlzLkl0KCksdGhpcy5SdD1zZXRUaW1lb3V0KHRoaXMuSXQsdGhpcy5mbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcykpLEModGhpcy5xLnVybCkmJih0aGlzLnEudXJsPXIpLHRoaXMucS5maXJzdE1ldHJpY1RpbWVzdGFtcD1DKHRoaXMucS5maXJzdE1ldHJpY1RpbWVzdGFtcCk/RGF0ZS5ub3coKTp0aGlzLnEuZmlyc3RNZXRyaWNUaW1lc3RhbXAsdC5hdHRyaWJ1dGlvbiYmdC5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQmJih0LmF0dHJpYnV0aW9uLmludGVyYWN0aW9uVGFyZ2V0RWxlbWVudD12b2lkIDApLHRoaXMucS5tZXRyaWNzLnB1c2goZyh7fSx0LHskY3VycmVudF91cmw6ciwkc2Vzc2lvbl9pZDplLnNlc3Npb25JZCwkd2luZG93X2lkOmUud2luZG93SWQsdGltZXN0YW1wOkRhdGUubm93KCl9KSksdGhpcy5xLm1ldHJpY3MubGVuZ3RoPT09dGhpcy5hbGxvd2VkTWV0cmljcy5sZW5ndGgmJnRoaXMuSXQoKX19LHRoaXMubHQ9KCk9Pnt2YXIgdCxpLGUscixzPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fO0Mocyl8fEMocy5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKXx8KHtvbkxDUDp0LG9uQ0xTOmksb25GQ1A6ZSxvbklOUDpyfT1zLnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MpLHQmJmkmJmUmJnI/KHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkxDUFwiKT4tMSYmdCh0aGlzLkN0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkNMU1wiKT4tMSYmaSh0aGlzLkN0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkZDUFwiKT4tMSYmZSh0aGlzLkN0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIklOUFwiKT4tMSYmcih0aGlzLkN0LmJpbmQodGhpcykpLHRoaXMuQz0hMCk6Y3MuZXJyb3IoXCJ3ZWIgdml0YWxzIGNhbGxiYWNrcyBub3QgbG9hZGVkIC0gbm90IHN0YXJ0aW5nXCIpfSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuVHQ9IShudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fCFpLnByb3BzW1h0XSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldCBhbGxvd2VkTWV0cmljcygpe3ZhciB0LGksZT1JKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT9udWxsPT0odD10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dm9pZCAwOnQud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3JldHVybiBDKGUpPyhudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbWnRdKXx8W1wiQ0xTXCIsXCJGQ1BcIixcIklOUFwiLFwiTENQXCJdOmV9Z2V0IGZsdXNoVG9DYXB0dXJlVGltZW91dE1zKCl7cmV0dXJuKEkodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLndlYl92aXRhbHNfZGVsYXllZF9mbHVzaF9tczp2b2lkIDApfHw1ZTN9Z2V0IEZ0KCl7dmFyIHQ9SSh0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSkmJmoodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZSk/dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZTpmcztyZXR1cm4gMDx0JiZ0PD02ZTQ/ZnM6dH1nZXQgaXNFbmFibGVkKCl7dmFyIHQ9bnVsbD09YT92b2lkIDA6YS5wcm90b2NvbDtpZihcImh0dHA6XCIhPT10JiZcImh0dHBzOlwiIT09dClyZXR1cm4gY3MuaW5mbyhcIldlYiBWaXRhbHMgYXJlIGRpc2FibGVkIG9uIG5vbi1odHRwL2h0dHBzIHByb3RvY29sc1wiKSwhMTt2YXIgaT1JKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzOkQodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlOnZvaWQgMDtyZXR1cm4gRChpKT9pOnRoaXMuVHR9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuQyYmKGNzLmluZm8oXCJlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLm50KHRoaXMubHQpKX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT1JKHQuY2FwdHVyZVBlcmZvcm1hbmNlKSYmISF0LmNhcHR1cmVQZXJmb3JtYW5jZS53ZWJfdml0YWxzLGU9SSh0LmNhcHR1cmVQZXJmb3JtYW5jZSk/dC5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3RoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlJiYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tYdF06aX0pLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbWnRdOmV9KSksdGhpcy5UdD1pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1udCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcIndlYi12aXRhbHNcIiwoaT0+e2k/Y3MuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTp0KCl9KSl9T3QoKXt2YXIgaT10P3QubG9jYXRpb24uaHJlZjp2b2lkIDA7aWYoaSl7dmFyIGU9dGhpcy5faW5zdGFuY2UuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMscz1lP0Z0KFtdLFpyLHJ8fFtdKTpbXTtyZXR1cm4gb2UoaSxzLGlzKX1jcy5lcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY3VycmVudCBVUkxcIil9fXZhciBncz1rdChcIltIZWF0bWFwc11cIik7ZnVuY3Rpb24gX3ModCl7cmV0dXJuIEkodCkmJlwiY2xpZW50WFwiaW4gdCYmXCJjbGllbnRZXCJpbiB0JiZqKHQuY2xpZW50WCkmJmoodC5jbGllbnRZKX1jbGFzcyBtc3tjb25zdHJ1Y3Rvcih0KXt2YXIgaTt0aGlzLnJhZ2VjbGlja3M9bmV3IFppLHRoaXMuVHQ9ITEsdGhpcy5DPSExLHRoaXMuTXQ9bnVsbCx0aGlzLmluc3RhbmNlPXQsdGhpcy5UdD0hKG51bGw9PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhaS5wcm9wc1tWdF0pfWdldCBmbHVzaEludGVydmFsTWlsbGlzZWNvbmRzKCl7dmFyIHQ9NWUzO3JldHVybiBJKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMpJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzLmZsdXNoX2ludGVydmFsX21pbGxpc2Vjb25kcyYmKHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcy5mbHVzaF9pbnRlcnZhbF9taWxsaXNlY29uZHMpLHR9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiBDKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMpP0ModGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX2hlYXRtYXBzKT90aGlzLlR0OnRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9oZWF0bWFwczohMSE9PXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHN9c3RhcnRJZkVuYWJsZWQoKXtpZih0aGlzLmlzRW5hYmxlZCl7aWYodGhpcy5DKXJldHVybjtncy5pbmZvKFwic3RhcnRpbmcuLi5cIiksdGhpcy5BdCgpLHRoaXMuTXQ9c2V0SW50ZXJ2YWwodGhpcy5qdC5iaW5kKHRoaXMpLHRoaXMuZmx1c2hJbnRlcnZhbE1pbGxpc2Vjb25kcyl9ZWxzZXt2YXIgdCxpO2NsZWFySW50ZXJ2YWwobnVsbCE9PSh0PXRoaXMuTXQpJiZ2b2lkIDAhPT10P3Q6dm9pZCAwKSxudWxsPT0oaT10aGlzLkR0KXx8aS5zdG9wKCksdGhpcy5nZXRBbmRDbGVhckJ1ZmZlcigpfX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT0hIXQuaGVhdG1hcHM7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1Z0XTppfSksdGhpcy5UdD1pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1nZXRBbmRDbGVhckJ1ZmZlcigpe3ZhciB0PXRoaXMucTtyZXR1cm4gdGhpcy5xPXZvaWQgMCx0fUx0KHQpe3RoaXMuTnQodC5vcmlnaW5hbEV2ZW50LFwiZGVhZGNsaWNrXCIpfUF0KCl7dCYmbyYmKEh0KHQsXCJiZWZvcmV1bmxvYWRcIix0aGlzLmp0LmJpbmQodGhpcykpLEh0KG8sXCJjbGlja1wiLChpPT50aGlzLk50KGl8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSkpLHtjYXB0dXJlOiEwfSksSHQobyxcIm1vdXNlbW92ZVwiLChpPT50aGlzLlV0KGl8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSkpLHtjYXB0dXJlOiEwfSksdGhpcy5EdD1uZXcgTmUodGhpcy5pbnN0YW5jZSxEZSx0aGlzLkx0LmJpbmQodGhpcykpLHRoaXMuRHQuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLkM9ITApfXp0KGksZSl7dmFyIHI9dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbFkoKSxzPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxYKCksbj10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsRWxlbWVudCgpLG89ZnVuY3Rpb24oaSxlLHIpe2Zvcih2YXIgcz1pO3MmJlNpKHMpJiYheGkocyxcImJvZHlcIik7KXtpZihzPT09cilyZXR1cm4hMTtpZih5KGUsbnVsbD09dD92b2lkIDA6dC5nZXRDb21wdXRlZFN0eWxlKHMpLnBvc2l0aW9uKSlyZXR1cm4hMDtzPU1pKHMpfXJldHVybiExfShDaShpKSxbXCJmaXhlZFwiLFwic3RpY2t5XCJdLG4pO3JldHVybnt4OmkuY2xpZW50WCsobz8wOnMpLHk6aS5jbGllbnRZKyhvPzA6ciksdGFyZ2V0X2ZpeGVkOm8sdHlwZTplfX1OdCh0LGkpe3ZhciBlO2lmKHZvaWQgMD09PWkmJihpPVwiY2xpY2tcIiksIXdpKHQudGFyZ2V0KSYmX3ModCkpe3ZhciByPXRoaXMuenQodCxpKTtudWxsIT0oZT10aGlzLnJhZ2VjbGlja3MpJiZlLmlzUmFnZUNsaWNrKHQuY2xpZW50WCx0LmNsaWVudFksKG5ldyBEYXRlKS5nZXRUaW1lKCkpJiZ0aGlzLkh0KGcoe30scix7dHlwZTpcInJhZ2VjbGlja1wifSkpLHRoaXMuSHQocil9fVV0KHQpeyF3aSh0LnRhcmdldCkmJl9zKHQpJiYoY2xlYXJUaW1lb3V0KHRoaXMuQnQpLHRoaXMuQnQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLkh0KHRoaXMuenQodCxcIm1vdXNlbW92ZVwiKSl9KSw1MDApKX1IdChpKXtpZih0KXt2YXIgZT10LmxvY2F0aW9uLmhyZWYscj10aGlzLmluc3RhbmNlLmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxzPXRoaXMuaW5zdGFuY2UuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsbj1yP0Z0KFtdLFpyLHN8fFtdKTpbXSxvPW9lKGUsbixpcyk7dGhpcy5xPXRoaXMucXx8e30sdGhpcy5xW29dfHwodGhpcy5xW29dPVtdKSx0aGlzLnFbb10ucHVzaChpKX19anQoKXt0aGlzLnEmJiFSKHRoaXMucSkmJnRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiQkaGVhdG1hcFwiLHskaGVhdG1hcF9kYXRhOnRoaXMuZ2V0QW5kQ2xlYXJCdWZmZXIoKX0pfX1jbGFzcyB5c3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10fWRvUGFnZVZpZXcoaSxlKXt2YXIgcixzPXRoaXMucXQoaSxlKTtyZXR1cm4gdGhpcy5XdD17cGF0aG5hbWU6bnVsbCE9PShyPW51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb24ucGF0aG5hbWUpJiZ2b2lkIDAhPT1yP3I6XCJcIixwYWdlVmlld0lkOmUsdGltZXN0YW1wOml9LHRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIucmVzZXRDb250ZXh0KCksc31kb1BhZ2VMZWF2ZSh0KXt2YXIgaTtyZXR1cm4gdGhpcy5xdCh0LG51bGw9PShpPXRoaXMuV3QpP3ZvaWQgMDppLnBhZ2VWaWV3SWQpfWRvRXZlbnQoKXt2YXIgdDtyZXR1cm57JHBhZ2V2aWV3X2lkOm51bGw9PSh0PXRoaXMuV3QpP3ZvaWQgMDp0LnBhZ2VWaWV3SWR9fXF0KHQsaSl7dmFyIGU9dGhpcy5XdDtpZighZSlyZXR1cm57JHBhZ2V2aWV3X2lkOml9O3ZhciByPXskcGFnZXZpZXdfaWQ6aSwkcHJldl9wYWdldmlld19pZDplLnBhZ2VWaWV3SWR9LHM9dGhpcy5faW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5nZXRDb250ZXh0KCk7aWYocyYmIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Njcm9sbF9wcm9wZXJ0aWVzKXt2YXJ7bWF4U2Nyb2xsSGVpZ2h0Om4sbGFzdFNjcm9sbFk6byxtYXhTY3JvbGxZOmEsbWF4Q29udGVudEhlaWdodDpsLGxhc3RDb250ZW50WTp1LG1heENvbnRlbnRZOmh9PXM7aWYoIShDKG4pfHxDKG8pfHxDKGEpfHxDKGwpfHxDKHUpfHxDKGgpKSl7bj1NYXRoLmNlaWwobiksbz1NYXRoLmNlaWwobyksYT1NYXRoLmNlaWwoYSksbD1NYXRoLmNlaWwobCksdT1NYXRoLmNlaWwodSksaD1NYXRoLmNlaWwoaCk7dmFyIGQ9bjw9MT8xOkcoby9uLDAsMSwkdCksdj1uPD0xPzE6RyhhL24sMCwxLCR0KSxjPWw8PTE/MTpHKHUvbCwwLDEsJHQpLGY9bDw9MT8xOkcoaC9sLDAsMSwkdCk7cj1PdChyLHskcHJldl9wYWdldmlld19sYXN0X3Njcm9sbDpvLCRwcmV2X3BhZ2V2aWV3X2xhc3Rfc2Nyb2xsX3BlcmNlbnRhZ2U6ZCwkcHJldl9wYWdldmlld19tYXhfc2Nyb2xsOmEsJHByZXZfcGFnZXZpZXdfbWF4X3Njcm9sbF9wZXJjZW50YWdlOnYsJHByZXZfcGFnZXZpZXdfbGFzdF9jb250ZW50OnUsJHByZXZfcGFnZXZpZXdfbGFzdF9jb250ZW50X3BlcmNlbnRhZ2U6YywkcHJldl9wYWdldmlld19tYXhfY29udGVudDpoLCRwcmV2X3BhZ2V2aWV3X21heF9jb250ZW50X3BlcmNlbnRhZ2U6Zn0pfX1yZXR1cm4gZS5wYXRobmFtZSYmKHIuJHByZXZfcGFnZXZpZXdfcGF0aG5hbWU9ZS5wYXRobmFtZSksZS50aW1lc3RhbXAmJihyLiRwcmV2X3BhZ2V2aWV3X2R1cmF0aW9uPSh0LmdldFRpbWUoKS1lLnRpbWVzdGFtcC5nZXRUaW1lKCkpLzFlMykscn19dmFyIGJzPVVpbnQ4QXJyYXksd3M9VWludDE2QXJyYXksU3M9VWludDMyQXJyYXkseHM9bmV3IGJzKFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsMCwwLDBdKSxFcz1uZXcgYnMoWzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTMsMCwwXSksJHM9bmV3IGJzKFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSksa3M9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9bmV3IHdzKDMxKSxyPTA7cjwzMTsrK3IpZVtyXT1pKz0xPDx0W3ItMV07dmFyIHM9bmV3IFNzKGVbMzBdKTtmb3Iocj0xO3I8MzA7KytyKWZvcih2YXIgbj1lW3JdO248ZVtyKzFdOysrbilzW25dPW4tZVtyXTw8NXxyO3JldHVybltlLHNdfSxQcz1rcyh4cywyKSxUcz1Qc1swXSxJcz1Qc1sxXTtUc1syOF09MjU4LElzWzI1OF09Mjg7Zm9yKHZhciBScz1rcyhFcywwKVsxXSxDcz1uZXcgd3MoMzI3NjgpLE9zPTA7T3M8MzI3Njg7KytPcyl7dmFyIEZzPSg0MzY5MCZPcyk+Pj4xfCgyMTg0NSZPcyk8PDE7RnM9KDYxNjgwJihGcz0oNTI0MjgmRnMpPj4+MnwoMTMxMDcmRnMpPDwyKSk+Pj40fCgzODU1JkZzKTw8NCxDc1tPc109KCg2NTI4MCZGcyk+Pj44fCgyNTUmRnMpPDw4KT4+PjF9dmFyIE1zPWZ1bmN0aW9uKHQsaSxlKXtmb3IodmFyIHI9dC5sZW5ndGgscz0wLG49bmV3IHdzKGkpO3M8cjsrK3MpKytuW3Rbc10tMV07dmFyIG8sYT1uZXcgd3MoaSk7Zm9yKHM9MDtzPGk7KytzKWFbc109YVtzLTFdK25bcy0xXTw8MTtpZihlKXtvPW5ldyB3cygxPDxpKTt2YXIgbD0xNS1pO2ZvcihzPTA7czxyOysrcylpZih0W3NdKWZvcih2YXIgdT1zPDw0fHRbc10saD1pLXRbc10sZD1hW3Rbc10tMV0rKzw8aCx2PWR8KDE8PGgpLTE7ZDw9djsrK2Qpb1tDc1tkXT4+PmxdPXV9ZWxzZSBmb3Iobz1uZXcgd3Mocikscz0wO3M8cjsrK3Mpb1tzXT1Dc1thW3Rbc10tMV0rK10+Pj4xNS10W3NdO3JldHVybiBvfSxBcz1uZXcgYnMoMjg4KTtmb3IoT3M9MDtPczwxNDQ7KytPcylBc1tPc109ODtmb3IoT3M9MTQ0O09zPDI1NjsrK09zKUFzW09zXT05O2ZvcihPcz0yNTY7T3M8MjgwOysrT3MpQXNbT3NdPTc7Zm9yKE9zPTI4MDtPczwyODg7KytPcylBc1tPc109ODt2YXIganM9bmV3IGJzKDMyKTtmb3IoT3M9MDtPczwzMjsrK09zKWpzW09zXT01O3ZhciBEcz1NcyhBcyw5LDApLExzPU1zKGpzLDUsMCksTnM9ZnVuY3Rpb24odCl7cmV0dXJuKHQvOD4+MCkrKDcmdCYmMSl9LFVzPWZ1bmN0aW9uKHQsaSxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTt2YXIgcj1uZXcodCBpbnN0YW5jZW9mIHdzP3dzOnQgaW5zdGFuY2VvZiBTcz9TczpicykoZS1pKTtyZXR1cm4gci5zZXQodC5zdWJhcnJheShpLGUpKSxyfSx6cz1mdW5jdGlvbih0LGksZSl7ZTw8PTcmaTt2YXIgcj1pLzg+PjA7dFtyXXw9ZSx0W3IrMV18PWU+Pj44fSxIcz1mdW5jdGlvbih0LGksZSl7ZTw8PTcmaTt2YXIgcj1pLzg+PjA7dFtyXXw9ZSx0W3IrMV18PWU+Pj44LHRbcisyXXw9ZT4+PjE2fSxCcz1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZT1bXSxyPTA7cjx0Lmxlbmd0aDsrK3IpdFtyXSYmZS5wdXNoKHtzOnIsZjp0W3JdfSk7dmFyIHM9ZS5sZW5ndGgsbj1lLnNsaWNlKCk7aWYoIXMpcmV0dXJuW25ldyBicygwKSwwXTtpZigxPT1zKXt2YXIgbz1uZXcgYnMoZVswXS5zKzEpO3JldHVybiBvW2VbMF0uc109MSxbbywxXX1lLnNvcnQoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQuZi1pLmZ9KSksZS5wdXNoKHtzOi0xLGY6MjUwMDF9KTt2YXIgYT1lWzBdLGw9ZVsxXSx1PTAsaD0xLGQ9Mjtmb3IoZVswXT17czotMSxmOmEuZitsLmYsbDphLHI6bH07aCE9cy0xOylhPWVbZVt1XS5mPGVbZF0uZj91Kys6ZCsrXSxsPWVbdSE9aCYmZVt1XS5mPGVbZF0uZj91Kys6ZCsrXSxlW2grK109e3M6LTEsZjphLmYrbC5mLGw6YSxyOmx9O3ZhciB2PW5bMF0ucztmb3Iocj0xO3I8czsrK3IpbltyXS5zPnYmJih2PW5bcl0ucyk7dmFyIGM9bmV3IHdzKHYrMSksZj1xcyhlW2gtMV0sYywwKTtpZihmPmkpe3I9MDt2YXIgcD0wLGc9Zi1pLF89MTw8Zztmb3Iobi5zb3J0KChmdW5jdGlvbih0LGkpe3JldHVybiBjW2kuc10tY1t0LnNdfHx0LmYtaS5mfSkpO3I8czsrK3Ipe3ZhciBtPW5bcl0ucztpZighKGNbbV0+aSkpYnJlYWs7cCs9Xy0oMTw8Zi1jW21dKSxjW21dPWl9Zm9yKHA+Pj49ZztwPjA7KXt2YXIgeT1uW3JdLnM7Y1t5XTxpP3AtPTE8PGktY1t5XSsrLTE6KytyfWZvcig7cj49MCYmcDstLXIpe3ZhciBiPW5bcl0ucztjW2JdPT1pJiYoLS1jW2JdLCsrcCl9Zj1pfXJldHVybltuZXcgYnMoYyksZl19LHFzPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4tMT09dC5zP01hdGgubWF4KHFzKHQubCxpLGUrMSkscXModC5yLGksZSsxKSk6aVt0LnNdPWV9LFdzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10Lmxlbmd0aDtpJiYhdFstLWldOyk7Zm9yKHZhciBlPW5ldyB3cygrK2kpLHI9MCxzPXRbMF0sbj0xLG89ZnVuY3Rpb24odCl7ZVtyKytdPXR9LGE9MTthPD1pOysrYSlpZih0W2FdPT1zJiZhIT1pKSsrbjtlbHNle2lmKCFzJiZuPjIpe2Zvcig7bj4xMzg7bi09MTM4KW8oMzI3NTQpO24+MiYmKG8obj4xMD9uLTExPDw1fDI4NjkwOm4tMzw8NXwxMjMwNSksbj0wKX1lbHNlIGlmKG4+Myl7Zm9yKG8ocyksLS1uO24+NjtuLT02KW8oODMwNCk7bj4yJiYobyhuLTM8PDV8ODIwOCksbj0wKX1mb3IoO24tLTspbyhzKTtuPTEscz10W2FdfXJldHVybltlLnN1YmFycmF5KDAsciksaV19LEdzPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPTAscj0wO3I8aS5sZW5ndGg7KytyKWUrPXRbcl0qaVtyXTtyZXR1cm4gZX0sVnM9ZnVuY3Rpb24odCxpLGUpe3ZhciByPWUubGVuZ3RoLHM9TnMoaSsyKTt0W3NdPTI1NSZyLHRbcysxXT1yPj4+OCx0W3MrMl09MjU1XnRbc10sdFtzKzNdPTI1NV50W3MrMV07Zm9yKHZhciBuPTA7bjxyOysrbil0W3Mrbis0XT1lW25dO3JldHVybiA4KihzKzQrcil9LEpzPWZ1bmN0aW9uKHQsaSxlLHIscyxuLG8sYSxsLHUsaCl7enMoaSxoKyssZSksKytzWzI1Nl07Zm9yKHZhciBkPUJzKHMsMTUpLHY9ZFswXSxjPWRbMV0sZj1CcyhuLDE1KSxwPWZbMF0sZz1mWzFdLF89V3ModiksbT1fWzBdLHk9X1sxXSxiPVdzKHApLHc9YlswXSxTPWJbMV0seD1uZXcgd3MoMTkpLEU9MDtFPG0ubGVuZ3RoOysrRSl4WzMxJm1bRV1dKys7Zm9yKEU9MDtFPHcubGVuZ3RoOysrRSl4WzMxJndbRV1dKys7Zm9yKHZhciBrPUJzKHgsNyksUD1rWzBdLFQ9a1sxXSxJPTE5O0k+NCYmIVBbJHNbSS0xXV07LS1JKTt2YXIgUixDLE8sRixNPXUrNTw8MyxBPUdzKHMsQXMpK0dzKG4sanMpK28saj1HcyhzLHYpK0dzKG4scCkrbysxNCszKkkrR3MoeCxQKSsoMip4WzE2XSszKnhbMTddKzcqeFsxOF0pO2lmKE08PUEmJk08PWopcmV0dXJuIFZzKGksaCx0LnN1YmFycmF5KGwsbCt1KSk7aWYoenMoaSxoLDErKGo8QSkpLGgrPTIsajxBKXtSPU1zKHYsYywwKSxDPXYsTz1NcyhwLGcsMCksRj1wO3ZhciBEPU1zKFAsVCwwKTt6cyhpLGgseS0yNTcpLHpzKGksaCs1LFMtMSksenMoaSxoKzEwLEktNCksaCs9MTQ7Zm9yKEU9MDtFPEk7KytFKXpzKGksaCszKkUsUFskc1tFXV0pO2grPTMqSTtmb3IodmFyIEw9W20sd10sTj0wO048MjsrK04pe3ZhciBVPUxbTl07Zm9yKEU9MDtFPFUubGVuZ3RoOysrRSl7dmFyIHo9MzEmVVtFXTt6cyhpLGgsRFt6XSksaCs9UFt6XSx6PjE1JiYoenMoaSxoLFVbRV0+Pj41JjEyNyksaCs9VVtFXT4+PjEyKX19fWVsc2UgUj1EcyxDPUFzLE89THMsRj1qcztmb3IoRT0wO0U8YTsrK0UpaWYocltFXT4yNTUpe3o9cltFXT4+PjE4JjMxO0hzKGksaCxSW3orMjU3XSksaCs9Q1t6KzI1N10sej43JiYoenMoaSxoLHJbRV0+Pj4yMyYzMSksaCs9eHNbel0pO3ZhciBIPTMxJnJbRV07SHMoaSxoLE9bSF0pLGgrPUZbSF0sSD4zJiYoSHMoaSxoLHJbRV0+Pj41JjgxOTEpLGgrPUVzW0hdKX1lbHNlIEhzKGksaCxSW3JbRV1dKSxoKz1DW3JbRV1dO3JldHVybiBIcyhpLGgsUlsyNTZdKSxoK0NbMjU2XX0sS3M9bmV3IFNzKFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLFlzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBTcygyNTYpLGk9MDtpPDI1NjsrK2kpe2Zvcih2YXIgZT1pLHI9OTstLXI7KWU9KDEmZSYmMzk4ODI5MjM4NCleZT4+PjE7dFtpXT1lfXJldHVybiB0fSgpLFhzPWZ1bmN0aW9uKHQsaSxlLHIscyl7cmV0dXJuIGZ1bmN0aW9uKHQsaSxlLHIscyxuKXt2YXIgbz10Lmxlbmd0aCxhPW5ldyBicyhyK28rNSooMStNYXRoLmZsb29yKG8vN2UzKSkrcyksbD1hLnN1YmFycmF5KHIsYS5sZW5ndGgtcyksdT0wO2lmKCFpfHxvPDgpZm9yKHZhciBoPTA7aDw9bztoKz02NTUzNSl7dmFyIGQ9aCs2NTUzNTtkPG8/dT1WcyhsLHUsdC5zdWJhcnJheShoLGQpKToobFtoXT1uLHU9VnMobCx1LHQuc3ViYXJyYXkoaCxvKSkpfWVsc2V7Zm9yKHZhciB2PUtzW2ktMV0sYz12Pj4+MTMsZj04MTkxJnYscD0oMTw8ZSktMSxnPW5ldyB3cygzMjc2OCksXz1uZXcgd3MocCsxKSxtPU1hdGguY2VpbChlLzMpLHk9MiptLGI9ZnVuY3Rpb24oaSl7cmV0dXJuKHRbaV1edFtpKzFdPDxtXnRbaSsyXTw8eSkmcH0sdz1uZXcgU3MoMjVlMyksUz1uZXcgd3MoMjg4KSx4PW5ldyB3cygzMiksRT0wLGs9MCxQPShoPTAsMCksVD0wLEk9MDtoPG87KytoKXt2YXIgUj1iKGgpLEM9MzI3NjcmaCxPPV9bUl07aWYoZ1tDXT1PLF9bUl09QyxUPD1oKXt2YXIgRj1vLWg7aWYoKEU+N2UzfHxQPjI0NTc2KSYmRj40MjMpe3U9SnModCxsLDAsdyxTLHgsayxQLEksaC1JLHUpLFA9RT1rPTAsST1oO2Zvcih2YXIgTT0wO008Mjg2OysrTSlTW01dPTA7Zm9yKE09MDtNPDMwOysrTSl4W01dPTB9dmFyIEE9MixqPTAsRD1mLEw9Qy1PJjMyNzY3O2lmKEY+MiYmUj09YihoLUwpKWZvcih2YXIgTj1NYXRoLm1pbihjLEYpLTEsVT1NYXRoLm1pbigzMjc2NyxoKSx6PU1hdGgubWluKDI1OCxGKTtMPD1VJiYtLUQmJkMhPU87KXtpZih0W2grQV09PXRbaCtBLUxdKXtmb3IodmFyIEg9MDtIPHomJnRbaCtIXT09dFtoK0gtTF07KytIKTtpZihIPkEpe2lmKEE9SCxqPUwsSD5OKWJyZWFrO3ZhciBCPU1hdGgubWluKEwsSC0yKSxxPTA7Zm9yKE09MDtNPEI7KytNKXt2YXIgVz1oLUwrTSszMjc2OCYzMjc2NyxHPVctZ1tXXSszMjc2OCYzMjc2NztHPnEmJihxPUcsTz1XKX19fUwrPShDPU8pLShPPWdbQ10pKzMyNzY4JjMyNzY3fWlmKGope3dbUCsrXT0yNjg0MzU0NTZ8SXNbQV08PDE4fFJzW2pdO3ZhciBWPTMxJklzW0FdLEo9MzEmUnNbal07ays9eHNbVl0rRXNbSl0sKytTWzI1NytWXSwrK3hbSl0sVD1oK0EsKytFfWVsc2Ugd1tQKytdPXRbaF0sKytTW3RbaF1dfX11PUpzKHQsbCxuLHcsUyx4LGssUCxJLGgtSSx1KX1yZXR1cm4gVXMoYSwwLHIrTnModSkrcyl9KHQsbnVsbD09aS5sZXZlbD82OmkubGV2ZWwsbnVsbD09aS5tZW0/TWF0aC5jZWlsKDEuNSpNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKHQubGVuZ3RoKSkpKToxMitpLm1lbSxlLHIsITApfSxRcz1mdW5jdGlvbih0LGksZSl7Zm9yKDtlOysraSl0W2ldPWUsZT4+Pj04fTtmdW5jdGlvbiBacyh0LGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgZT1mdW5jdGlvbigpe3ZhciB0PTQyOTQ5NjcyOTU7cmV0dXJue3A6ZnVuY3Rpb24oaSl7Zm9yKHZhciBlPXQscj0wO3I8aS5sZW5ndGg7KytyKWU9WXNbMjU1JmVeaVtyXV1eZT4+Pjg7dD1lfSxkOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTVedH19fSgpLHI9dC5sZW5ndGg7ZS5wKHQpO3ZhciBzLG49WHModCxpLDEwKygocz1pKS5maWxlbmFtZSYmcy5maWxlbmFtZS5sZW5ndGgrMXx8MCksOCksbz1uLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24odCxpKXt2YXIgZT1pLmZpbGVuYW1lO2lmKHRbMF09MzEsdFsxXT0xMzksdFsyXT04LHRbOF09aS5sZXZlbDwyPzQ6OT09aS5sZXZlbD8yOjAsdFs5XT0zLDAhPWkubXRpbWUmJlFzKHQsNCxNYXRoLmZsb29yKG5ldyBEYXRlKGkubXRpbWV8fERhdGUubm93KCkpLzFlMykpLGUpe3RbM109ODtmb3IodmFyIHI9MDtyPD1lLmxlbmd0aDsrK3IpdFtyKzEwXT1lLmNoYXJDb2RlQXQocil9fShuLGkpLFFzKG4sby04LGUuZCgpKSxRcyhuLG8tNCxyKSxufXZhciB0bj1mdW5jdGlvbih0KXt2YXIgaSxlLHIscyxuPVwiXCI7Zm9yKGk9ZT0wLHI9KHQ9KHQrXCJcIikucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXG5cIikpLmxlbmd0aCxzPTA7czxyO3MrKyl7dmFyIG89dC5jaGFyQ29kZUF0KHMpLGE9bnVsbDtvPDEyOD9lKys6YT1vPjEyNyYmbzwyMDQ4P1N0cmluZy5mcm9tQ2hhckNvZGUobz4+NnwxOTIsNjMmb3wxMjgpOlN0cmluZy5mcm9tQ2hhckNvZGUobz4+MTJ8MjI0LG8+PjYmNjN8MTI4LDYzJm98MTI4KSxNKGEpfHwoZT5pJiYobis9dC5zdWJzdHJpbmcoaSxlKSksbis9YSxpPWU9cysxKX1yZXR1cm4gZT5pJiYobis9dC5zdWJzdHJpbmcoaSx0Lmxlbmd0aCkpLG59LGVuPSEhdXx8ISFsLHJuPVwidGV4dC9wbGFpblwiLHNuPSh0LGkpPT57dmFyW2Uscl09dC5zcGxpdChcIj9cIikscz1nKHt9LGkpO251bGw9PXJ8fHIuc3BsaXQoXCImXCIpLmZvckVhY2goKHQ9Pnt2YXJbaV09dC5zcGxpdChcIj1cIik7ZGVsZXRlIHNbaV19KSk7dmFyIG49c2Uocyk7cmV0dXJuIGUrXCI/XCIrKG49bj8ocj9yK1wiJlwiOlwiXCIpK246cil9LG5uPSh0LGkpPT5KU09OLnN0cmluZ2lmeSh0LCgodCxpKT0+XCJiaWdpbnRcIj09dHlwZW9mIGk/aS50b1N0cmluZygpOmkpLGkpLG9uPXQ9Pnt2YXJ7ZGF0YTppLGNvbXByZXNzaW9uOmV9PXQ7aWYoaSl7aWYoZT09PWllLkdaaXBKUyl7dmFyIHI9WnMoZnVuY3Rpb24odCxpKXt2YXIgZT10Lmxlbmd0aDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVGV4dEVuY29kZXIpcmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKHQpO2Zvcih2YXIgcj1uZXcgYnModC5sZW5ndGgrKHQubGVuZ3RoPj4+MSkpLHM9MCxuPWZ1bmN0aW9uKHQpe3JbcysrXT10fSxvPTA7bzxlOysrbyl7aWYocys1PnIubGVuZ3RoKXt2YXIgYT1uZXcgYnMocys4KyhlLW88PDEpKTthLnNldChyKSxyPWF9dmFyIGw9dC5jaGFyQ29kZUF0KG8pO2w8MTI4fHxpP24obCk6bDwyMDQ4PyhuKDE5MnxsPj4+NiksbigxMjh8NjMmbCkpOmw+NTUyOTUmJmw8NTczNDQ/KG4oMjQwfChsPTY1NTM2KygxMDQ3NTUyJmwpfDEwMjMmdC5jaGFyQ29kZUF0KCsrbykpPj4+MTgpLG4oMTI4fGw+Pj4xMiY2MyksbigxMjh8bD4+PjYmNjMpLG4oMTI4fDYzJmwpKToobigyMjR8bD4+PjEyKSxuKDEyOHxsPj4+NiY2MyksbigxMjh8NjMmbCkpfXJldHVybiBVcyhyLDAscyl9KG5uKGkpKSx7bXRpbWU6MH0pLHM9bmV3IEJsb2IoW3JdLHt0eXBlOnJufSk7cmV0dXJue2NvbnRlbnRUeXBlOnJuLGJvZHk6cyxlc3RpbWF0ZWRTaXplOnMuc2l6ZX19aWYoZT09PWllLkJhc2U2NCl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGksZSxyLHMsbixvPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixhPTAsbD0wLHU9XCJcIixoPVtdO2lmKCF0KXJldHVybiB0O3Q9dG4odCk7ZG97aT0obj10LmNoYXJDb2RlQXQoYSsrKTw8MTZ8dC5jaGFyQ29kZUF0KGErKyk8PDh8dC5jaGFyQ29kZUF0KGErKykpPj4xOCY2MyxlPW4+PjEyJjYzLHI9bj4+NiY2MyxzPTYzJm4saFtsKytdPW8uY2hhckF0KGkpK28uY2hhckF0KGUpK28uY2hhckF0KHIpK28uY2hhckF0KHMpfXdoaWxlKGE8dC5sZW5ndGgpO3N3aXRjaCh1PWguam9pbihcIlwiKSx0Lmxlbmd0aCUzKXtjYXNlIDE6dT11LnNsaWNlKDAsLTIpK1wiPT1cIjticmVhaztjYXNlIDI6dT11LnNsaWNlKDAsLTEpK1wiPVwifXJldHVybiB1fShubihpKSksbz0odD0+XCJkYXRhPVwiK2VuY29kZVVSSUNvbXBvbmVudChcInN0cmluZ1wiPT10eXBlb2YgdD90Om5uKHQpKSkobik7cmV0dXJue2NvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsYm9keTpvLGVzdGltYXRlZFNpemU6bmV3IEJsb2IoW29dKS5zaXplfX12YXIgYT1ubihpKTtyZXR1cm57Y29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi9qc29uXCIsYm9keTphLGVzdGltYXRlZFNpemU6bmV3IEJsb2IoW2FdKS5zaXplfX19LGFuPVtdO2wmJmFuLnB1c2goe3RyYW5zcG9ydDpcImZldGNoXCIsbWV0aG9kOnQ9Pnt2YXIgaSxlLHtjb250ZW50VHlwZTpyLGJvZHk6cyxlc3RpbWF0ZWRTaXplOm59PW51bGwhPT0oaT1vbih0KSkmJnZvaWQgMCE9PWk/aTp7fSxvPW5ldyBIZWFkZXJzO0N0KHQuaGVhZGVycywoZnVuY3Rpb24odCxpKXtvLmFwcGVuZChpLHQpfSkpLHImJm8uYXBwZW5kKFwiQ29udGVudC1UeXBlXCIscik7dmFyIGE9dC51cmwsdT1udWxsO2lmKGgpe3ZhciBkPW5ldyBoO3U9e3NpZ25hbDpkLnNpZ25hbCx0aW1lb3V0OnNldFRpbWVvdXQoKCgpPT5kLmFib3J0KCkpLHQudGltZW91dCl9fWwoYSxnKHttZXRob2Q6KG51bGw9PXQ/dm9pZCAwOnQubWV0aG9kKXx8XCJHRVRcIixoZWFkZXJzOm8sa2VlcGFsaXZlOlwiUE9TVFwiPT09dC5tZXRob2QmJihufHwwKTw1MjQyOC44LGJvZHk6cyxzaWduYWw6bnVsbD09KGU9dSk/dm9pZCAwOmUuc2lnbmFsfSx0LmZldGNoT3B0aW9ucykpLnRoZW4oKGk9PmkudGV4dCgpLnRoZW4oKGU9Pnt2YXIgcj17c3RhdHVzQ29kZTppLnN0YXR1cyx0ZXh0OmV9O2lmKDIwMD09PWkuc3RhdHVzKXRyeXtyLmpzb249SlNPTi5wYXJzZShlKX1jYXRjaCh0KXskdC5lcnJvcih0KX1udWxsPT10LmNhbGxiYWNrfHx0LmNhbGxiYWNrKHIpfSkpKSkuY2F0Y2goKGk9PnskdC5lcnJvcihpKSxudWxsPT10LmNhbGxiYWNrfHx0LmNhbGxiYWNrKHtzdGF0dXNDb2RlOjAsdGV4dDppfSl9KSkuZmluYWxseSgoKCk9PnU/Y2xlYXJUaW1lb3V0KHUudGltZW91dCk6bnVsbCkpfX0pLHUmJmFuLnB1c2goe3RyYW5zcG9ydDpcIlhIUlwiLG1ldGhvZDp0PT57dmFyIGksZT1uZXcgdTtlLm9wZW4odC5tZXRob2R8fFwiR0VUXCIsdC51cmwsITApO3Zhcntjb250ZW50VHlwZTpyLGJvZHk6c309bnVsbCE9PShpPW9uKHQpKSYmdm9pZCAwIT09aT9pOnt9O0N0KHQuaGVhZGVycywoZnVuY3Rpb24odCxpKXtlLnNldFJlcXVlc3RIZWFkZXIoaSx0KX0pKSxyJiZlLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSx0LnRpbWVvdXQmJihlLnRpbWVvdXQ9dC50aW1lb3V0KSx0LmRpc2FibGVYSFJDcmVkZW50aWFsc3x8KGUud2l0aENyZWRlbnRpYWxzPSEwKSxlLm9ucmVhZHlzdGF0ZWNoYW5nZT0oKT0+e2lmKDQ9PT1lLnJlYWR5U3RhdGUpe3ZhciBpPXtzdGF0dXNDb2RlOmUuc3RhdHVzLHRleHQ6ZS5yZXNwb25zZVRleHR9O2lmKDIwMD09PWUuc3RhdHVzKXRyeXtpLmpzb249SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCl9Y2F0Y2godCl7fW51bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2soaSl9fSxlLnNlbmQocyl9fSksbnVsbCE9biYmbi5zZW5kQmVhY29uJiZhbi5wdXNoKHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCIsbWV0aG9kOnQ9Pnt2YXIgaT1zbih0LnVybCx7YmVhY29uOlwiMVwifSk7dHJ5e3ZhciBlLHtjb250ZW50VHlwZTpyLGJvZHk6c309bnVsbCE9PShlPW9uKHQpKSYmdm9pZCAwIT09ZT9lOnt9LG89XCJzdHJpbmdcIj09dHlwZW9mIHM/bmV3IEJsb2IoW3NdLHt0eXBlOnJ9KTpzO24uc2VuZEJlYWNvbihpLG8pfWNhdGNoKHQpe319fSk7dmFyIGxuPWZ1bmN0aW9uKHQsaSl7aWYoIWZ1bmN0aW9uKHQpe3RyeXtuZXcgUmVnRXhwKHQpfWNhdGNoKHQpe3JldHVybiExfXJldHVybiEwfShpKSlyZXR1cm4hMTt0cnl7cmV0dXJuIG5ldyBSZWdFeHAoaSkudGVzdCh0KX1jYXRjaCh0KXtyZXR1cm4hMX19O2Z1bmN0aW9uIHVuKHQsaSxlKXtyZXR1cm4gbm4oe2Rpc3RpbmN0X2lkOnQsdXNlclByb3BlcnRpZXNUb1NldDppLHVzZXJQcm9wZXJ0aWVzVG9TZXRPbmNlOmV9KX12YXIgaG49e2V4YWN0Oih0LGkpPT5pLnNvbWUoKGk9PnQuc29tZSgodD0+aT09PXQpKSkpLGlzX25vdDoodCxpKT0+aS5ldmVyeSgoaT0+dC5ldmVyeSgodD0+aSE9PXQpKSkpLHJlZ2V4Oih0LGkpPT5pLnNvbWUoKGk9PnQuc29tZSgodD0+bG4oaSx0KSkpKSksbm90X3JlZ2V4Oih0LGkpPT5pLmV2ZXJ5KChpPT50LmV2ZXJ5KCh0PT4hbG4oaSx0KSkpKSksaWNvbnRhaW5zOih0LGkpPT5pLm1hcChkbikuc29tZSgoaT0+dC5tYXAoZG4pLnNvbWUoKHQ9PmkuaW5jbHVkZXModCkpKSkpLG5vdF9pY29udGFpbnM6KHQsaSk9PmkubWFwKGRuKS5ldmVyeSgoaT0+dC5tYXAoZG4pLmV2ZXJ5KCh0PT4haS5pbmNsdWRlcyh0KSkpKSl9LGRuPXQ9PnQudG9Mb3dlckNhc2UoKSx2bj1rdChcIltFcnJvciB0cmFja2luZ11cIik7Y2xhc3MgY257Y29uc3RydWN0b3IodCl7dmFyIGksZTt0aGlzLkd0PVtdLHRoaXMuVnQ9bmV3IHZ0KFtuZXcgY3QsbmV3IHh0LG5ldyBwdCxuZXcgZnQsbmV3IHd0LG5ldyBidCxuZXcgX3QsbmV3IFN0XSxbbnQsbHRdKSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuR3Q9bnVsbCE9PShpPW51bGw9PShlPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoS3QpKSYmdm9pZCAwIT09aT9pOltdfW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLGUscixzPW51bGwhPT0oaT1udWxsPT0oZT10LmVycm9yVHJhY2tpbmcpP3ZvaWQgMDplLnN1cHByZXNzaW9uUnVsZXMpJiZ2b2lkIDAhPT1pP2k6W10sbj1udWxsPT0ocj10LmVycm9yVHJhY2tpbmcpP3ZvaWQgMDpyLmNhcHR1cmVFeHRlbnNpb25FeGNlcHRpb25zO3RoaXMuR3Q9cyx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tLdF06dGhpcy5HdCxbWXRdOm59KX1nZXQgSnQoKXt2YXIgdCxpPSEhdGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFl0KSxlPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5lcnJvcl90cmFja2luZy5jYXB0dXJlRXh0ZW5zaW9uRXhjZXB0aW9ucztyZXR1cm4gbnVsbCE9PSh0PW51bGwhPWU/ZTppKSYmdm9pZCAwIT09dCYmdH1idWlsZFByb3BlcnRpZXModCxpKXtyZXR1cm4gdGhpcy5WdC5idWlsZEZyb21Vbmtub3duKHQse3N5bnRoZXRpY0V4Y2VwdGlvbjpudWxsPT1pP3ZvaWQgMDppLnN5bnRoZXRpY0V4Y2VwdGlvbixtZWNoYW5pc206e2hhbmRsZWQ6bnVsbD09aT92b2lkIDA6aS5oYW5kbGVkfX0pfXNlbmRFeGNlcHRpb25FdmVudCh0KXtpZih0aGlzLkt0KHQpKXZuLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIGEgc3VwcHJlc3Npb24gcnVsZSBtYXRjaGVkXCIpO2Vsc2V7aWYodGhpcy5KdHx8IXRoaXMuWXQodCkpcmV0dXJuIHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkZXhjZXB0aW9uXCIsdCx7X25vVHJ1bmNhdGU6ITAsX2JhdGNoS2V5OlwiZXhjZXB0aW9uRXZlbnRcIn0pO3ZuLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIGl0IHdhcyB0aHJvd24gYnkgYW4gZXh0ZW5zaW9uXCIpfX1LdCh0KXt2YXIgaT10LiRleGNlcHRpb25fbGlzdDtpZighaXx8IVAoaSl8fDA9PT1pLmxlbmd0aClyZXR1cm4hMTt2YXIgZT1pLnJlZHVjZSgoKHQsaSk9Pnt2YXJ7dHlwZTplLHZhbHVlOnJ9PWk7cmV0dXJuIE8oZSkmJmUubGVuZ3RoPjAmJnQuJGV4Y2VwdGlvbl90eXBlcy5wdXNoKGUpLE8ocikmJnIubGVuZ3RoPjAmJnQuJGV4Y2VwdGlvbl92YWx1ZXMucHVzaChyKSx0fSkseyRleGNlcHRpb25fdHlwZXM6W10sJGV4Y2VwdGlvbl92YWx1ZXM6W119KTtyZXR1cm4gdGhpcy5HdC5zb21lKCh0PT57dmFyIGk9dC52YWx1ZXMubWFwKCh0PT57dmFyIGkscj1oblt0Lm9wZXJhdG9yXSxzPVAodC52YWx1ZSk/dC52YWx1ZTpbdC52YWx1ZV0sbj1udWxsIT09KGk9ZVt0LmtleV0pJiZ2b2lkIDAhPT1pP2k6W107cmV0dXJuIHMubGVuZ3RoPjAmJnIocyxuKX0pKTtyZXR1cm5cIk9SXCI9PT10LnR5cGU/aS5zb21lKEJvb2xlYW4pOmkuZXZlcnkoQm9vbGVhbil9KSl9WXQodCl7dmFyIGk9dC4kZXhjZXB0aW9uX2xpc3Q7cmV0dXJuISghaXx8IVAoaSkpJiZpLmZsYXRNYXAoKHQ9Pnt2YXIgaSxlO3JldHVybiBudWxsIT09KGk9bnVsbD09KGU9dC5zdGFja3RyYWNlKT92b2lkIDA6ZS5mcmFtZXMpJiZ2b2lkIDAhPT1pP2k6W119KSkuc29tZSgodD0+dC5maWxlbmFtZSYmdC5maWxlbmFtZS5zdGFydHNXaXRoKFwiY2hyb21lLWV4dGVuc2lvbjovL1wiKSkpfX12YXIgZm49a3QoXCJbRmVhdHVyZUZsYWdzXVwiKSxwbj1cIiRhY3RpdmVfZmVhdHVyZV9mbGFnc1wiLGduPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ3NcIixfbj1cIiRmZWF0dXJlX2ZsYWdfcGF5bG9hZHNcIixtbj1cIiRvdmVycmlkZV9mZWF0dXJlX2ZsYWdfcGF5bG9hZHNcIix5bj1cIiRmZWF0dXJlX2ZsYWdfcmVxdWVzdF9pZFwiLGJuPXQ9Pnt2YXIgaT17fTtmb3IodmFyW2Uscl1vZiBNdCh0fHx7fSkpciYmKGlbZV09cik7cmV0dXJuIGl9LHduPXQ9Pnt2YXIgaT10LmZsYWdzO3JldHVybiBpPyh0LmZlYXR1cmVGbGFncz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoaSkubWFwKCh0PT57dmFyIGU7cmV0dXJuW3QsbnVsbCE9PShlPWlbdF0udmFyaWFudCkmJnZvaWQgMCE9PWU/ZTppW3RdLmVuYWJsZWRdfSkpKSx0LmZlYXR1cmVGbGFnUGF5bG9hZHM9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKGkpLmZpbHRlcigodD0+aVt0XS5lbmFibGVkKSkuZmlsdGVyKCh0PT57dmFyIGU7cmV0dXJuIG51bGw9PShlPWlbdF0ubWV0YWRhdGEpP3ZvaWQgMDplLnBheWxvYWR9KSkubWFwKCh0PT57dmFyIGU7cmV0dXJuW3QsbnVsbD09KGU9aVt0XS5tZXRhZGF0YSk/dm9pZCAwOmUucGF5bG9hZF19KSkpKTpmbi53YXJuKFwiVXNpbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludC4gUGxlYXNlIHVwZ3JhZGUgeW91ciBQb3N0SG9nIHNlcnZlciB0byB0aGUgbGF0ZXN0IHZlcnNpb25cIiksdH0sU249ZnVuY3Rpb24odCl7cmV0dXJuIHQuRmVhdHVyZUZsYWdzPVwiZmVhdHVyZV9mbGFnc1wiLHQuUmVjb3JkaW5ncz1cInJlY29yZGluZ3NcIix0fSh7fSk7Y2xhc3MgeG57Y29uc3RydWN0b3IodCl7dGhpcy5YdD0hMSx0aGlzLlF0PSExLHRoaXMuWnQ9ITEsdGhpcy50aT0hMSx0aGlzLmlpPSExLHRoaXMuZWk9ITEsdGhpcy5yaT0hMSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPVtdfXNpKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuY29uZmlnLmV2YWx1YXRpb25fZW52aXJvbm1lbnRzO3JldHVybiBudWxsIT10JiZ0Lmxlbmd0aD90LmZpbHRlcigodD0+e3ZhciBpPXQmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0LnRyaW0oKS5sZW5ndGg+MDtyZXR1cm4gaXx8Zm4uZXJyb3IoXCJJbnZhbGlkIGV2YWx1YXRpb24gZW52aXJvbm1lbnQgZm91bmQ6XCIsdCxcIkV4cGVjdGVkIG5vbi1lbXB0eSBzdHJpbmdcIiksaX0pKTpbXX1uaSgpe3JldHVybiB0aGlzLnNpKCkubGVuZ3RoPjB9ZmxhZ3MoKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWcpdGhpcy5laT0hMDtlbHNle3ZhciB0PSF0aGlzLm9pJiYodGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc3x8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc19vbl9maXJzdF9sb2FkKTt0aGlzLmFpKHtkaXNhYmxlRmxhZ3M6dH0pfX1nZXQgaGFzTG9hZGVkRmxhZ3MoKXtyZXR1cm4gdGhpcy5RdH1nZXRGbGFncygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmdldEZsYWdWYXJpYW50cygpKX1nZXRGbGFnc1dpdGhEZXRhaWxzKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG5pKSxpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShnbiksZT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkobW4pO2lmKCFlJiYhaSlyZXR1cm4gdHx8e307dmFyIHI9T3Qoe30sdHx8e30pLHM9Wy4uLm5ldyBTZXQoWy4uLk9iamVjdC5rZXlzKGV8fHt9KSwuLi5PYmplY3Qua2V5cyhpfHx7fSldKV07Zm9yKHZhciBuIG9mIHMpe3ZhciBvLGEsbD1yW25dLHU9bnVsbD09aT92b2lkIDA6aVtuXSxoPUModSk/bnVsbCE9PShvPW51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCkmJnZvaWQgMCE9PW8mJm86ISF1LGQ9Qyh1KT9sLnZhcmlhbnQ6XCJzdHJpbmdcIj09dHlwZW9mIHU/dTp2b2lkIDAsdj1udWxsPT1lP3ZvaWQgMDplW25dLGM9Zyh7fSxsLHtlbmFibGVkOmgsdmFyaWFudDpoP251bGwhPWQ/ZDpudWxsPT1sP3ZvaWQgMDpsLnZhcmlhbnQ6dm9pZCAwfSk7aWYoaCE9PShudWxsPT1sP3ZvaWQgMDpsLmVuYWJsZWQpJiYoYy5vcmlnaW5hbF9lbmFibGVkPW51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCksZCE9PShudWxsPT1sP3ZvaWQgMDpsLnZhcmlhbnQpJiYoYy5vcmlnaW5hbF92YXJpYW50PW51bGw9PWw/dm9pZCAwOmwudmFyaWFudCksdiljLm1ldGFkYXRhPWcoe30sbnVsbD09bD92b2lkIDA6bC5tZXRhZGF0YSx7cGF5bG9hZDp2LG9yaWdpbmFsX3BheWxvYWQ6bnVsbD09bHx8bnVsbD09KGE9bC5tZXRhZGF0YSk/dm9pZCAwOmEucGF5bG9hZH0pO3Jbbl09Y31yZXR1cm4gdGhpcy5YdHx8KGZuLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWcgZGV0YWlscyFcIix7ZmxhZ0RldGFpbHM6dCxvdmVycmlkZGVuUGF5bG9hZHM6ZSxmaW5hbERldGFpbHM6cn0pLHRoaXMuWHQ9ITApLHJ9Z2V0RmxhZ1ZhcmlhbnRzKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHJpKSxpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShnbik7aWYoIWkpcmV0dXJuIHR8fHt9O2Zvcih2YXIgZT1PdCh7fSx0KSxyPU9iamVjdC5rZXlzKGkpLHM9MDtzPHIubGVuZ3RoO3MrKyllW3Jbc11dPWlbcltzXV07cmV0dXJuIHRoaXMuWHR8fChmbi53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFncyFcIix7ZW5hYmxlZEZsYWdzOnQsb3ZlcnJpZGRlbkZsYWdzOmksZmluYWxGbGFnczplfSksdGhpcy5YdD0hMCksZX1nZXRGbGFnUGF5bG9hZHMoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoX24pLGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG1uKTtpZighaSlyZXR1cm4gdHx8e307Zm9yKHZhciBlPU90KHt9LHR8fHt9KSxyPU9iamVjdC5rZXlzKGkpLHM9MDtzPHIubGVuZ3RoO3MrKyllW3Jbc11dPWlbcltzXV07cmV0dXJuIHRoaXMuWHR8fChmbi53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFnIHBheWxvYWRzIVwiLHtmbGFnUGF5bG9hZHM6dCxvdmVycmlkZGVuUGF5bG9hZHM6aSxmaW5hbFBheWxvYWRzOmV9KSx0aGlzLlh0PSEwKSxlfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMudGl8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMub2l8fCh0aGlzLm9pPXNldFRpbWVvdXQoKCgpPT57dGhpcy5haSgpfSksNSkpfWxpKCl7Y2xlYXJUaW1lb3V0KHRoaXMub2kpLHRoaXMub2k9dm9pZCAwfWVuc3VyZUZsYWdzTG9hZGVkKCl7dGhpcy5RdHx8dGhpcy5adHx8dGhpcy5vaXx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRBbm9ueW1vdXNEaXN0aW5jdElkKHQpe3RoaXMuJGFub25fZGlzdGluY3RfaWQ9dH1zZXRSZWxvYWRpbmdQYXVzZWQodCl7dGhpcy50aT10fWFpKHQpe3ZhciBpO2lmKHRoaXMubGkoKSwhdGhpcy5faW5zdGFuY2UuTCgpKWlmKHRoaXMuWnQpdGhpcy5paT0hMDtlbHNle3ZhciBlPXt0b2tlbjp0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4sZGlzdGluY3RfaWQ6dGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksZ3JvdXBzOnRoaXMuX2luc3RhbmNlLmdldEdyb3VwcygpLCRhbm9uX2Rpc3RpbmN0X2lkOnRoaXMuJGFub25fZGlzdGluY3RfaWQscGVyc29uX3Byb3BlcnRpZXM6Zyh7fSwobnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDppLmdldF9pbml0aWFsX3Byb3BzKCkpfHx7fSx0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkob2kpfHx7fSksZ3JvdXBfcHJvcGVydGllczp0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoYWkpfTsobnVsbCE9dCYmdC5kaXNhYmxlRmxhZ3N8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3MpJiYoZS5kaXNhYmxlX2ZsYWdzPSEwKSx0aGlzLm5pKCkmJihlLmV2YWx1YXRpb25fZW52aXJvbm1lbnRzPXRoaXMuc2koKSk7dmFyIHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19yZW1vdGVfY29uZmlnLHM9cj9cIi9mbGFncy8/dj0yXCI6XCIvZmxhZ3MvP3Y9MiZjb25maWc9dHJ1ZVwiLG49dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX29ubHlfZXZhbHVhdGVfc3VydmV5X2ZlYXR1cmVfZmxhZ3M/XCImb25seV9ldmFsdWF0ZV9zdXJ2ZXlfZmVhdHVyZV9mbGFncz10cnVlXCI6XCJcIixvPXRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixzK24pO3ImJihlLnRpbWV6b25lPWhzKCkpLHRoaXMuWnQ9ITAsdGhpcy5faW5zdGFuY2UudWkoe21ldGhvZDpcIlBPU1RcIix1cmw6byxkYXRhOmUsY29tcHJlc3Npb246dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOmllLkJhc2U2NCx0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOnQ9Pnt2YXIgaSxyLHM9ITA7KDIwMD09PXQuc3RhdHVzQ29kZSYmKHRoaXMuaWl8fCh0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkPXZvaWQgMCkscz0hMSksdGhpcy5adD0hMSx0aGlzLmVpKXx8KHRoaXMuZWk9ITAsdGhpcy5faW5zdGFuY2UuaGkobnVsbCE9PShyPXQuanNvbikmJnZvaWQgMCE9PXI/cjp7fSkpO2lmKCFlLmRpc2FibGVfZmxhZ3N8fHRoaXMuaWkpaWYodGhpcy5yaT0hcyx0Lmpzb24mJm51bGwhPShpPXQuanNvbi5xdW90YUxpbWl0ZWQpJiZpLmluY2x1ZGVzKFNuLkZlYXR1cmVGbGFncykpZm4ud2FybihcIllvdSBoYXZlIGhpdCB5b3VyIGZlYXR1cmUgZmxhZ3MgcXVvdGEgbGltaXQsIGFuZCB3aWxsIG5vdCBiZSBhYmxlIHRvIGxvYWQgZmVhdHVyZSBmbGFncyB1bnRpbCB0aGUgcXVvdGEgaXMgcmVzZXQuICBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9wb3N0aG9nLmNvbS9kb2NzL2JpbGxpbmcvbGltaXRzLWFsZXJ0cyB0byBsZWFybiBtb3JlLlwiKTtlbHNle3ZhciBuO2lmKCFlLmRpc2FibGVfZmxhZ3MpdGhpcy5yZWNlaXZlZEZlYXR1cmVGbGFncyhudWxsIT09KG49dC5qc29uKSYmdm9pZCAwIT09bj9uOnt9LHMpO3RoaXMuaWkmJih0aGlzLmlpPSExLHRoaXMuYWkoKSl9fX0pfX1nZXRGZWF0dXJlRmxhZyh0LGkpe2lmKHZvaWQgMD09PWkmJihpPXt9KSx0aGlzLlF0fHx0aGlzLmdldEZsYWdzKCkmJnRoaXMuZ2V0RmxhZ3MoKS5sZW5ndGg+MCl7dmFyIGU9dGhpcy5nZXRGbGFnVmFyaWFudHMoKVt0XSxyPVwiXCIrZSxzPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSh5bil8fHZvaWQgMCxuPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShoaSl8fHt9O2lmKChpLnNlbmRfZXZlbnR8fCEoXCJzZW5kX2V2ZW50XCJpbiBpKSkmJighKHQgaW4gbil8fCFuW3RdLmluY2x1ZGVzKHIpKSl7dmFyIG8sYSxsLHUsaCxkLHYsYyxmO1Aoblt0XSk/blt0XS5wdXNoKHIpOm5bdF09W3JdLG51bGw9PShvPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8by5yZWdpc3Rlcih7W2hpXTpufSk7dmFyIHA9dGhpcy5nZXRGZWF0dXJlRmxhZ0RldGFpbHModCksZz17JGZlYXR1cmVfZmxhZzp0LCRmZWF0dXJlX2ZsYWdfcmVzcG9uc2U6ZSwkZmVhdHVyZV9mbGFnX3BheWxvYWQ6dGhpcy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCl8fG51bGwsJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkOnMsJGZlYXR1cmVfZmxhZ19ib290c3RyYXBwZWRfcmVzcG9uc2U6KG51bGw9PShhPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5ib290c3RyYXApfHxudWxsPT0oYT1hLmZlYXR1cmVGbGFncyk/dm9pZCAwOmFbdF0pfHxudWxsLCRmZWF0dXJlX2ZsYWdfYm9vdHN0cmFwcGVkX3BheWxvYWQ6KG51bGw9PShsPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5ib290c3RyYXApfHxudWxsPT0obD1sLmZlYXR1cmVGbGFnUGF5bG9hZHMpP3ZvaWQgMDpsW3RdKXx8bnVsbCwkdXNlZF9ib290c3RyYXBfdmFsdWU6IXRoaXMucml9O0MobnVsbD09cHx8bnVsbD09KHU9cC5tZXRhZGF0YSk/dm9pZCAwOnUudmVyc2lvbil8fChnLiRmZWF0dXJlX2ZsYWdfdmVyc2lvbj1wLm1ldGFkYXRhLnZlcnNpb24pO3ZhciBfLG09bnVsbCE9PShoPW51bGw9PXB8fG51bGw9PShkPXAucmVhc29uKT92b2lkIDA6ZC5kZXNjcmlwdGlvbikmJnZvaWQgMCE9PWg/aDpudWxsPT1wfHxudWxsPT0odj1wLnJlYXNvbik/dm9pZCAwOnYuY29kZTtpZihtJiYoZy4kZmVhdHVyZV9mbGFnX3JlYXNvbj1tKSxudWxsIT1wJiZudWxsIT0oYz1wLm1ldGFkYXRhKSYmYy5pZCYmKGcuJGZlYXR1cmVfZmxhZ19pZD1wLm1ldGFkYXRhLmlkKSxDKG51bGw9PXA/dm9pZCAwOnAub3JpZ2luYWxfdmFyaWFudCkmJkMobnVsbD09cD92b2lkIDA6cC5vcmlnaW5hbF9lbmFibGVkKXx8KGcuJGZlYXR1cmVfZmxhZ19vcmlnaW5hbF9yZXNwb25zZT1DKHAub3JpZ2luYWxfdmFyaWFudCk/cC5vcmlnaW5hbF9lbmFibGVkOnAub3JpZ2luYWxfdmFyaWFudCksbnVsbCE9cCYmbnVsbCE9KGY9cC5tZXRhZGF0YSkmJmYub3JpZ2luYWxfcGF5bG9hZClnLiRmZWF0dXJlX2ZsYWdfb3JpZ2luYWxfcGF5bG9hZD1udWxsPT1wfHxudWxsPT0oXz1wLm1ldGFkYXRhKT92b2lkIDA6Xy5vcmlnaW5hbF9wYXlsb2FkO3RoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkZmVhdHVyZV9mbGFnX2NhbGxlZFwiLGcpfXJldHVybiBlfWZuLndhcm4oJ2dldEZlYXR1cmVGbGFnIGZvciBrZXkgXCInK3QrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1nZXRGZWF0dXJlRmxhZ0RldGFpbHModCl7cmV0dXJuIHRoaXMuZ2V0RmxhZ3NXaXRoRGV0YWlscygpW3RdfWdldEZlYXR1cmVGbGFnUGF5bG9hZCh0KXtyZXR1cm4gdGhpcy5nZXRGbGFnUGF5bG9hZHMoKVt0XX1nZXRSZW1vdGVDb25maWdQYXlsb2FkKHQsaSl7dmFyIGU9dGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuLHI9e2Rpc3RpbmN0X2lkOnRoaXMuX2luc3RhbmNlLmdldF9kaXN0aW5jdF9pZCgpLHRva2VuOmV9O3RoaXMubmkoKSYmKHIuZXZhbHVhdGlvbl9lbnZpcm9ubWVudHM9dGhpcy5zaSgpKSx0aGlzLl9pbnN0YW5jZS51aSh7bWV0aG9kOlwiUE9TVFwiLHVybDp0aGlzLl9pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvZmxhZ3MvP3Y9MiZjb25maWc9dHJ1ZVwiKSxkYXRhOnIsY29tcHJlc3Npb246dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOmllLkJhc2U2NCx0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgcixzPW51bGw9PShyPWUuanNvbik/dm9pZCAwOnIuZmVhdHVyZUZsYWdQYXlsb2FkcztpKChudWxsPT1zP3ZvaWQgMDpzW3RdKXx8dm9pZCAwKX19KX1pc0ZlYXR1cmVFbmFibGVkKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9e30pLHRoaXMuUXR8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXt2YXIgZT10aGlzLmdldEZlYXR1cmVGbGFnKHQsaSk7cmV0dXJuIEMoZSk/dm9pZCAwOiEhZX1mbi53YXJuKCdpc0ZlYXR1cmVFbmFibGVkIGZvciBrZXkgXCInK3QrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKHQpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLnB1c2godCl9cmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcih0KXt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycz10aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5maWx0ZXIoKGk9PmkhPT10KSl9cmVjZWl2ZWRGZWF0dXJlRmxhZ3ModCxpKXtpZih0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl7dGhpcy5RdD0hMDt2YXIgZT10aGlzLmdldEZsYWdWYXJpYW50cygpLHI9dGhpcy5nZXRGbGFnUGF5bG9hZHMoKSxzPXRoaXMuZ2V0RmxhZ3NXaXRoRGV0YWlscygpOyFmdW5jdGlvbih0LGksZSxyLHMpe3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT1yJiYocj17fSksdm9pZCAwPT09cyYmKHM9e30pO3ZhciBuPXduKHQpLG89bi5mbGFncyxhPW4uZmVhdHVyZUZsYWdzLGw9bi5mZWF0dXJlRmxhZ1BheWxvYWRzO2lmKGEpe3ZhciB1PXQucmVxdWVzdElkO2lmKFAoYSkpe2ZuLndhcm4oXCJ2MSBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBsYXRlc3QgdmVyc2lvbi5cIik7dmFyIGg9e307aWYoYSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyloW2FbZF1dPSEwO2kmJmkucmVnaXN0ZXIoe1twbl06YSxbcmldOmh9KX1lbHNle3ZhciB2PWEsYz1sLGY9bzt0LmVycm9yc1doaWxlQ29tcHV0aW5nRmxhZ3MmJih2PWcoe30sZSx2KSxjPWcoe30scixjKSxmPWcoe30scyxmKSksaSYmaS5yZWdpc3RlcihnKHtbcG5dOk9iamVjdC5rZXlzKGJuKHYpKSxbcmldOnZ8fHt9LFtfbl06Y3x8e30sW25pXTpmfHx7fX0sdT97W3luXTp1fTp7fSkpfX19KHQsdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UsZSxyLHMpLHRoaXMuZGkoaSl9fW92ZXJyaWRlKHQsaSl7dm9pZCAwPT09aSYmKGk9ITEpLGZuLndhcm4oXCJvdmVycmlkZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG92ZXJyaWRlRmVhdHVyZUZsYWdzIGluc3RlYWQuXCIpLHRoaXMub3ZlcnJpZGVGZWF0dXJlRmxhZ3Moe2ZsYWdzOnQsc3VwcHJlc3NXYXJuaW5nOml9KX1vdmVycmlkZUZlYXR1cmVGbGFncyh0KXtpZighdGhpcy5faW5zdGFuY2UuX19sb2FkZWR8fCF0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSlyZXR1cm4gZm4udW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmZlYXR1cmVGbGFncy5vdmVycmlkZUZlYXR1cmVGbGFnc1wiKTtpZighMT09PXQpcmV0dXJuIHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoZ24pLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIobW4pLHZvaWQgdGhpcy5kaSgpO2lmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoXCJmbGFnc1wiaW4gdHx8XCJwYXlsb2Fkc1wiaW4gdCkpe3ZhciBpLGU9dDtpZih0aGlzLlh0PUJvb2xlYW4obnVsbCE9PShpPWUuc3VwcHJlc3NXYXJuaW5nKSYmdm9pZCAwIT09aSYmaSksXCJmbGFnc1wiaW4gZSlpZighMT09PWUuZmxhZ3MpdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3Rlcihnbik7ZWxzZSBpZihlLmZsYWdzKWlmKFAoZS5mbGFncykpe2Zvcih2YXIgcj17fSxzPTA7czxlLmZsYWdzLmxlbmd0aDtzKyspcltlLmZsYWdzW3NdXT0hMDt0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2duXTpyfSl9ZWxzZSB0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2duXTplLmZsYWdzfSk7cmV0dXJuXCJwYXlsb2Fkc1wiaW4gZSYmKCExPT09ZS5wYXlsb2Fkcz90aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKG1uKTplLnBheWxvYWRzJiZ0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W21uXTplLnBheWxvYWRzfSkpLHZvaWQgdGhpcy5kaSgpfXRoaXMuZGkoKX1vbkZlYXR1cmVGbGFncyh0KXtpZih0aGlzLmFkZEZlYXR1cmVGbGFnc0hhbmRsZXIodCksdGhpcy5RdCl7dmFye2ZsYWdzOmksZmxhZ1ZhcmlhbnRzOmV9PXRoaXMudmkoKTt0KGksZSl9cmV0dXJuKCk9PnRoaXMucmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcih0KX11cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKXt2YXIgcixzPSh0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoc2kpfHxbXSkuZmluZCgoaT0+aS5mbGFnS2V5PT09dCkpLG49e1tcIiRmZWF0dXJlX2Vucm9sbG1lbnQvXCIrdF06aX0sbz17JGZlYXR1cmVfZmxhZzp0LCRmZWF0dXJlX2Vucm9sbG1lbnQ6aSwkc2V0Om59O3MmJihvLiRlYXJseV9hY2Nlc3NfZmVhdHVyZV9uYW1lPXMubmFtZSksZSYmKG8uJGZlYXR1cmVfZW5yb2xsbWVudF9zdGFnZT1lKSx0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixvKSx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhuLCExKTt2YXIgYT1nKHt9LHRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkse1t0XTppfSk7bnVsbD09KHI9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnJlZ2lzdGVyKHtbcG5dOk9iamVjdC5rZXlzKGJuKGEpKSxbcmldOmF9KSx0aGlzLmRpKCl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyh0LGksZSl7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciByPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShzaSkscz1lP1wiJlwiK2UubWFwKCh0PT5cInN0YWdlPVwiK3QpKS5qb2luKFwiJlwiKTpcIlwiO2lmKHImJiFpKXJldHVybiB0KHIpO3RoaXMuX2luc3RhbmNlLnVpKHt1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS9lYXJseV9hY2Nlc3NfZmVhdHVyZXMvP3Rva2VuPVwiK3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbitzKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazppPT57dmFyIGUscjtpZihpLmpzb24pe3ZhciBzPWkuanNvbi5lYXJseUFjY2Vzc0ZlYXR1cmVzO3JldHVybiBudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGUudW5yZWdpc3RlcihzaSksbnVsbD09KHI9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnJlZ2lzdGVyKHtbc2ldOnN9KSx0KHMpfX19KX12aSgpe3ZhciB0PXRoaXMuZ2V0RmxhZ3MoKSxpPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCk7cmV0dXJue2ZsYWdzOnQuZmlsdGVyKCh0PT5pW3RdKSksZmxhZ1ZhcmlhbnRzOk9iamVjdC5rZXlzKGkpLmZpbHRlcigodD0+aVt0XSkpLnJlZHVjZSgoKHQsZSk9Pih0W2VdPWlbZV0sdCkpLHt9KX19ZGkodCl7dmFye2ZsYWdzOmksZmxhZ1ZhcmlhbnRzOmV9PXRoaXMudmkoKTt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5mb3JFYWNoKChyPT5yKGksZSx7ZXJyb3JzTG9hZGluZzp0fSkpKX1zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG9pKXx8e307dGhpcy5faW5zdGFuY2UucmVnaXN0ZXIoe1tvaV06Zyh7fSxlLHQpfSksaSYmdGhpcy5faW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLl9pbnN0YW5jZS51bnJlZ2lzdGVyKG9pKX1zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0LGkpe3ZvaWQgMD09PWkmJihpPSEwKTt2YXIgZT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoYWkpfHx7fTswIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57ZVtpXT1nKHt9LGVbaV0sdFtpXSksZGVsZXRlIHRbaV19KSksdGhpcy5faW5zdGFuY2UucmVnaXN0ZXIoe1thaV06Zyh7fSxlLHQpfSksaSYmdGhpcy5faW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KXtpZih0KXt2YXIgaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoYWkpfHx7fTt0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcih7W2FpXTpnKHt9LGkse1t0XTp7fX0pfSl9ZWxzZSB0aGlzLl9pbnN0YW5jZS51bnJlZ2lzdGVyKGFpKX1yZXNldCgpe3RoaXMuUXQ9ITEsdGhpcy5adD0hMSx0aGlzLnRpPSExLHRoaXMuaWk9ITEsdGhpcy5laT0hMSx0aGlzLnJpPSExLHRoaXMuJGFub25fZGlzdGluY3RfaWQ9dm9pZCAwLHRoaXMubGkoKSx0aGlzLlh0PSExfX12YXIgRW49W1wiY29va2llXCIsXCJsb2NhbHN0b3JhZ2VcIixcImxvY2Fsc3RvcmFnZStjb29raWVcIixcInNlc3Npb25zdG9yYWdlXCIsXCJtZW1vcnlcIl07Y2xhc3MgJG57Y29uc3RydWN0b3IodCxpKXt0aGlzLkE9dCx0aGlzLnByb3BzPXt9LHRoaXMuY2k9ITEsdGhpcy5maT0odD0+e3ZhciBpPVwiXCI7cmV0dXJuIHQudG9rZW4mJihpPXQudG9rZW4ucmVwbGFjZSgvXFwrL2csXCJQTFwiKS5yZXBsYWNlKC9cXC8vZyxcIlNMXCIpLnJlcGxhY2UoLz0vZyxcIkVRXCIpKSx0LnBlcnNpc3RlbmNlX25hbWU/XCJwaF9cIit0LnBlcnNpc3RlbmNlX25hbWU6XCJwaF9cIitpK1wiX3Bvc3Rob2dcIn0pKHQpLHRoaXMuaXQ9dGhpcy5waSh0KSx0aGlzLmxvYWQoKSx0LmRlYnVnJiYkdC5pbmZvKFwiUGVyc2lzdGVuY2UgbG9hZGVkXCIsdC5wZXJzaXN0ZW5jZSxnKHt9LHRoaXMucHJvcHMpKSx0aGlzLnVwZGF0ZV9jb25maWcodCx0LGkpLHRoaXMuc2F2ZSgpfWlzRGlzYWJsZWQoKXtyZXR1cm4hIXRoaXMuZ2l9cGkodCl7LTE9PT1Fbi5pbmRleE9mKHQucGVyc2lzdGVuY2UudG9Mb3dlckNhc2UoKSkmJigkdC5jcml0aWNhbChcIlVua25vd24gcGVyc2lzdGVuY2UgdHlwZSBcIit0LnBlcnNpc3RlbmNlK1wiOyBmYWxsaW5nIGJhY2sgdG8gbG9jYWxTdG9yYWdlK2Nvb2tpZVwiKSx0LnBlcnNpc3RlbmNlPVwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiKTt2YXIgaT10LnBlcnNpc3RlbmNlLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJsb2NhbHN0b3JhZ2VcIj09PWkmJlBlLkcoKT9QZTpcImxvY2Fsc3RvcmFnZStjb29raWVcIj09PWkmJkllLkcoKT9JZTpcInNlc3Npb25zdG9yYWdlXCI9PT1pJiZGZS5HKCk/RmU6XCJtZW1vcnlcIj09PWk/Q2U6XCJjb29raWVcIj09PWk/JGU6SWUuRygpP0llOiRlfXByb3BlcnRpZXMoKXt2YXIgdD17fTtyZXR1cm4gQ3QodGhpcy5wcm9wcywoZnVuY3Rpb24oaSxlKXtpZihlPT09cmkmJkkoaSkpZm9yKHZhciByPU9iamVjdC5rZXlzKGkpLG49MDtuPHIubGVuZ3RoO24rKyl0W1wiJGZlYXR1cmUvXCIrcltuXV09aVtyW25dXTtlbHNlIGE9ZSxsPSExLChNKG89YmkpP2w6cyYmby5pbmRleE9mPT09cz8tMSE9by5pbmRleE9mKGEpOihDdChvLChmdW5jdGlvbih0KXtpZihsfHwobD10PT09YSkpcmV0dXJuIEl0fSkpLGwpKXx8KHRbZV09aSk7dmFyIG8sYSxsfSkpLHR9bG9hZCgpe2lmKCF0aGlzLmdpKXt2YXIgdD10aGlzLml0LksodGhpcy5maSk7dCYmKHRoaXMucHJvcHM9T3Qoe30sdCkpfX1zYXZlKCl7dGhpcy5naXx8dGhpcy5pdC5ZKHRoaXMuZmksdGhpcy5wcm9wcyx0aGlzLm1pLHRoaXMueWksdGhpcy5iaSx0aGlzLkEuZGVidWcpfXJlbW92ZSgpe3RoaXMuaXQuWCh0aGlzLmZpLCExKSx0aGlzLml0LlgodGhpcy5maSwhMCl9Y2xlYXIoKXt0aGlzLnJlbW92ZSgpLHRoaXMucHJvcHM9e319cmVnaXN0ZXJfb25jZSh0LGksZSl7aWYoSSh0KSl7QyhpKSYmKGk9XCJOb25lXCIpLHRoaXMubWk9QyhlKT90aGlzLndpOmU7dmFyIHI9ITE7aWYoQ3QodCwoKHQsZSk9Pnt0aGlzLnByb3BzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnByb3BzW2VdIT09aXx8KHRoaXMucHJvcHNbZV09dCxyPSEwKX0pKSxyKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX1yZWdpc3Rlcih0LGkpe2lmKEkodCkpe3RoaXMubWk9QyhpKT90aGlzLndpOmk7dmFyIGU9ITE7aWYoQ3QodCwoKGkscik9Pnt0Lmhhc093blByb3BlcnR5KHIpJiZ0aGlzLnByb3BzW3JdIT09aSYmKHRoaXMucHJvcHNbcl09aSxlPSEwKX0pKSxlKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX11bnJlZ2lzdGVyKHQpe3QgaW4gdGhpcy5wcm9wcyYmKGRlbGV0ZSB0aGlzLnByb3BzW3RdLHRoaXMuc2F2ZSgpKX11cGRhdGVfY2FtcGFpZ25fcGFyYW1zKCl7aWYoIXRoaXMuY2kpe3ZhciB0PXJzKHRoaXMuQS5jdXN0b21fY2FtcGFpZ25fcGFyYW1zLHRoaXMuQS5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyx0aGlzLkEuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyk7UihEdCh0KSl8fHRoaXMucmVnaXN0ZXIodCksdGhpcy5jaT0hMH19dXBkYXRlX3NlYXJjaF9rZXl3b3JkKCl7dmFyIHQ7dGhpcy5yZWdpc3RlcigodD1udWxsPT1vP3ZvaWQgMDpvLnJlZmVycmVyKT9ucyh0KTp7fSl9dXBkYXRlX3JlZmVycmVyX2luZm8oKXt2YXIgdDt0aGlzLnJlZ2lzdGVyX29uY2UoeyRyZWZlcnJlcjphcygpLCRyZWZlcnJpbmdfZG9tYWluOm51bGwhPW8mJm8ucmVmZXJyZXImJihudWxsPT0odD1yZShvLnJlZmVycmVyKSk/dm9pZCAwOnQuaG9zdCl8fFwiJGRpcmVjdFwifSx2b2lkIDApfXNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCl7dGhpcy5wcm9wc1tmaV18fHRoaXMucHJvcHNbcGldfHx0aGlzLnJlZ2lzdGVyX29uY2Uoe1tnaV06bHModGhpcy5BLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHRoaXMuQS5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzKX0sdm9pZCAwKX1nZXRfaW5pdGlhbF9wcm9wcygpe3ZhciB0PXt9O0N0KFtwaSxmaV0sKGk9Pnt2YXIgZT10aGlzLnByb3BzW2ldO2UmJkN0KGUsKGZ1bmN0aW9uKGksZSl7dFtcIiRpbml0aWFsX1wiK3coZSldPWl9KSl9KSk7dmFyIGksZSxyPXRoaXMucHJvcHNbZ2ldO2lmKHIpe3ZhciBzPShpPXVzKHIpLGU9e30sQ3QoaSwoZnVuY3Rpb24odCxpKXtlW1wiJGluaXRpYWxfXCIrdyhpKV09dH0pKSxlKTtPdCh0LHMpfXJldHVybiB0fXNhZmVfbWVyZ2UodCl7cmV0dXJuIEN0KHRoaXMucHJvcHMsKGZ1bmN0aW9uKGksZSl7ZSBpbiB0fHwodFtlXT1pKX0pKSx0fXVwZGF0ZV9jb25maWcodCxpLGUpe2lmKHRoaXMud2k9dGhpcy5taT10LmNvb2tpZV9leHBpcmF0aW9uLHRoaXMuc2V0X2Rpc2FibGVkKHQuZGlzYWJsZV9wZXJzaXN0ZW5jZXx8ISFlKSx0aGlzLnNldF9jcm9zc19zdWJkb21haW4odC5jcm9zc19zdWJkb21haW5fY29va2llKSx0aGlzLnNldF9zZWN1cmUodC5zZWN1cmVfY29va2llKSx0LnBlcnNpc3RlbmNlIT09aS5wZXJzaXN0ZW5jZSl7dmFyIHI9dGhpcy5waSh0KSxzPXRoaXMucHJvcHM7dGhpcy5jbGVhcigpLHRoaXMuaXQ9cix0aGlzLnByb3BzPXMsdGhpcy5zYXZlKCl9fXNldF9kaXNhYmxlZCh0KXt0aGlzLmdpPXQsdGhpcy5naT90aGlzLnJlbW92ZSgpOnRoaXMuc2F2ZSgpfXNldF9jcm9zc19zdWJkb21haW4odCl7dCE9PXRoaXMueWkmJih0aGlzLnlpPXQsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X3NlY3VyZSh0KXt0IT09dGhpcy5iaSYmKHRoaXMuYmk9dCx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1zZXRfZXZlbnRfdGltZXIodCxpKXt2YXIgZT10aGlzLnByb3BzW1d0XXx8e307ZVt0XT1pLHRoaXMucHJvcHNbV3RdPWUsdGhpcy5zYXZlKCl9cmVtb3ZlX2V2ZW50X3RpbWVyKHQpe3ZhciBpPSh0aGlzLnByb3BzW1d0XXx8e30pW3RdO3JldHVybiBDKGkpfHwoZGVsZXRlIHRoaXMucHJvcHNbV3RdW3RdLHRoaXMuc2F2ZSgpKSxpfWdldF9wcm9wZXJ0eSh0KXtyZXR1cm4gdGhpcy5wcm9wc1t0XX1zZXRfcHJvcGVydHkodCxpKXt0aGlzLnByb3BzW3RdPWksdGhpcy5zYXZlKCl9fXZhciBrbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5CdXR0b249XCJidXR0b25cIix0LlRhYj1cInRhYlwiLHQuU2VsZWN0b3I9XCJzZWxlY3RvclwiLHR9KHt9KSxQbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Ub3BMZWZ0PVwidG9wX2xlZnRcIix0LlRvcFJpZ2h0PVwidG9wX3JpZ2h0XCIsdC5Ub3BDZW50ZXI9XCJ0b3BfY2VudGVyXCIsdC5NaWRkbGVMZWZ0PVwibWlkZGxlX2xlZnRcIix0Lk1pZGRsZVJpZ2h0PVwibWlkZGxlX3JpZ2h0XCIsdC5NaWRkbGVDZW50ZXI9XCJtaWRkbGVfY2VudGVyXCIsdC5MZWZ0PVwibGVmdFwiLHQuQ2VudGVyPVwiY2VudGVyXCIsdC5SaWdodD1cInJpZ2h0XCIsdC5OZXh0VG9UcmlnZ2VyPVwibmV4dF90b190cmlnZ2VyXCIsdH0oe30pLFRuPWZ1bmN0aW9uKHQpe3JldHVybiB0LlBvcG92ZXI9XCJwb3BvdmVyXCIsdC5BUEk9XCJhcGlcIix0LldpZGdldD1cIndpZGdldFwiLHQuRXh0ZXJuYWxTdXJ2ZXk9XCJleHRlcm5hbF9zdXJ2ZXlcIix0fSh7fSksSW49ZnVuY3Rpb24odCl7cmV0dXJuIHQuT3Blbj1cIm9wZW5cIix0Lk11bHRpcGxlQ2hvaWNlPVwibXVsdGlwbGVfY2hvaWNlXCIsdC5TaW5nbGVDaG9pY2U9XCJzaW5nbGVfY2hvaWNlXCIsdC5SYXRpbmc9XCJyYXRpbmdcIix0Lkxpbms9XCJsaW5rXCIsdH0oe30pLFJuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk5leHRRdWVzdGlvbj1cIm5leHRfcXVlc3Rpb25cIix0LkVuZD1cImVuZFwiLHQuUmVzcG9uc2VCYXNlZD1cInJlc3BvbnNlX2Jhc2VkXCIsdC5TcGVjaWZpY1F1ZXN0aW9uPVwic3BlY2lmaWNfcXVlc3Rpb25cIix0fSh7fSksQ249ZnVuY3Rpb24odCl7cmV0dXJuIHQuT25jZT1cIm9uY2VcIix0LlJlY3VycmluZz1cInJlY3VycmluZ1wiLHQuQWx3YXlzPVwiYWx3YXlzXCIsdH0oe30pLE9uPWZ1bmN0aW9uKHQpe3JldHVybiB0LlNIT1dOPVwic3VydmV5IHNob3duXCIsdC5ESVNNSVNTRUQ9XCJzdXJ2ZXkgZGlzbWlzc2VkXCIsdC5TRU5UPVwic3VydmV5IHNlbnRcIix0fSh7fSksRm49ZnVuY3Rpb24odCl7cmV0dXJuIHQuU1VSVkVZX0lEPVwiJHN1cnZleV9pZFwiLHQuU1VSVkVZX05BTUU9XCIkc3VydmV5X25hbWVcIix0LlNVUlZFWV9SRVNQT05TRT1cIiRzdXJ2ZXlfcmVzcG9uc2VcIix0LlNVUlZFWV9JVEVSQVRJT049XCIkc3VydmV5X2l0ZXJhdGlvblwiLHQuU1VSVkVZX0lURVJBVElPTl9TVEFSVF9EQVRFPVwiJHN1cnZleV9pdGVyYXRpb25fc3RhcnRfZGF0ZVwiLHQuU1VSVkVZX1BBUlRJQUxMWV9DT01QTEVURUQ9XCIkc3VydmV5X3BhcnRpYWxseV9jb21wbGV0ZWRcIix0LlNVUlZFWV9TVUJNSVNTSU9OX0lEPVwiJHN1cnZleV9zdWJtaXNzaW9uX2lkXCIsdC5TVVJWRVlfUVVFU1RJT05TPVwiJHN1cnZleV9xdWVzdGlvbnNcIix0LlNVUlZFWV9DT01QTEVURUQ9XCIkc3VydmV5X2NvbXBsZXRlZFwiLHR9KHt9KSxNbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Qb3BvdmVyPVwicG9wb3ZlclwiLHQuSW5saW5lPVwiaW5saW5lXCIsdH0oe30pO2NsYXNzIEFue2NvbnN0cnVjdG9yKCl7dGhpcy5TaT17fSx0aGlzLlNpPXt9fW9uKHQsaSl7cmV0dXJuIHRoaXMuU2lbdF18fCh0aGlzLlNpW3RdPVtdKSx0aGlzLlNpW3RdLnB1c2goaSksKCk9Pnt0aGlzLlNpW3RdPXRoaXMuU2lbdF0uZmlsdGVyKCh0PT50IT09aSkpfX1lbWl0KHQsaSl7Zm9yKHZhciBlIG9mIHRoaXMuU2lbdF18fFtdKWUoaSk7Zm9yKHZhciByIG9mIHRoaXMuU2lbXCIqXCJdfHxbXSlyKHQsaSl9fWNsYXNzIGpue2NvbnN0cnVjdG9yKHQpe3RoaXMueGk9bmV3IEFuLHRoaXMuRWk9KHQsaSk9PnRoaXMuJGkodCxpKSYmdGhpcy5raSh0LGkpJiZ0aGlzLlBpKHQsaSksdGhpcy4kaT0odCxpKT0+bnVsbD09aXx8IWkuZXZlbnR8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KT09PShudWxsPT1pP3ZvaWQgMDppLmV2ZW50KSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuVGk9bmV3IFNldCx0aGlzLklpPW5ldyBTZXR9aW5pdCgpe3ZhciB0O2lmKCFDKG51bGw9PSh0PXRoaXMuX2luc3RhbmNlKT92b2lkIDA6dC5SaSkpe3ZhciBpO251bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8aS5SaSgoKHQsaSk9Pnt0aGlzLm9uKHQsaSl9KSl9fXJlZ2lzdGVyKHQpe3ZhciBpLGU7aWYoIUMobnVsbD09KGk9dGhpcy5faW5zdGFuY2UpP3ZvaWQgMDppLlJpKSYmKHQuZm9yRWFjaCgodD0+e3ZhciBpLGU7bnVsbD09KGk9dGhpcy5JaSl8fGkuYWRkKHQpLG51bGw9PShlPXQuc3RlcHMpfHxlLmZvckVhY2goKHQ9Pnt2YXIgaTtudWxsPT0oaT10aGlzLlRpKXx8aS5hZGQoKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpfHxcIlwiKX0pKX0pKSxudWxsIT0oZT10aGlzLl9pbnN0YW5jZSkmJmUuYXV0b2NhcHR1cmUpKXt2YXIgcixzPW5ldyBTZXQ7dC5mb3JFYWNoKCh0PT57dmFyIGk7bnVsbD09KGk9dC5zdGVwcyl8fGkuZm9yRWFjaCgodD0+e251bGwhPXQmJnQuc2VsZWN0b3ImJnMuYWRkKG51bGw9PXQ/dm9pZCAwOnQuc2VsZWN0b3IpfSkpfSkpLG51bGw9PShyPXRoaXMuX2luc3RhbmNlKXx8ci5hdXRvY2FwdHVyZS5zZXRFbGVtZW50U2VsZWN0b3JzKHMpfX1vbih0LGkpe3ZhciBlO251bGwhPWkmJjAhPXQubGVuZ3RoJiYodGhpcy5UaS5oYXModCl8fHRoaXMuVGkuaGFzKG51bGw9PWk/dm9pZCAwOmkuZXZlbnQpKSYmdGhpcy5JaSYmKG51bGw9PShlPXRoaXMuSWkpP3ZvaWQgMDplLnNpemUpPjAmJnRoaXMuSWkuZm9yRWFjaCgodD0+e3RoaXMuQ2koaSx0KSYmdGhpcy54aS5lbWl0KFwiYWN0aW9uQ2FwdHVyZWRcIix0Lm5hbWUpfSkpfU9pKHQpe3RoaXMub25BY3Rpb24oXCJhY3Rpb25DYXB0dXJlZFwiLChpPT50KGkpKSl9Q2kodCxpKXtpZihudWxsPT0obnVsbD09aT92b2lkIDA6aS5zdGVwcykpcmV0dXJuITE7Zm9yKHZhciBlIG9mIGkuc3RlcHMpaWYodGhpcy5FaSh0LGUpKXJldHVybiEwO3JldHVybiExfW9uQWN0aW9uKHQsaSl7cmV0dXJuIHRoaXMueGkub24odCxpKX1raSh0LGkpe2lmKG51bGwhPWkmJmkudXJsKXt2YXIgZSxyPW51bGw9PXR8fG51bGw9PShlPXQucHJvcGVydGllcyk/dm9pZCAwOmUuJGN1cnJlbnRfdXJsO2lmKCFyfHxcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4hMTtpZigham4uRmkocixudWxsPT1pP3ZvaWQgMDppLnVybCwobnVsbD09aT92b2lkIDA6aS51cmxfbWF0Y2hpbmcpfHxcImNvbnRhaW5zXCIpKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBGaShpLGUscil7c3dpdGNoKHIpe2Nhc2VcInJlZ2V4XCI6cmV0dXJuISF0JiZsbihpLGUpO2Nhc2VcImV4YWN0XCI6cmV0dXJuIGU9PT1pO2Nhc2VcImNvbnRhaW5zXCI6dmFyIHM9am4uTWkoZSkucmVwbGFjZSgvXy9nLFwiLlwiKS5yZXBsYWNlKC8lL2csXCIuKlwiKTtyZXR1cm4gbG4oaSxzKTtkZWZhdWx0OnJldHVybiExfX1zdGF0aWMgTWkodCl7cmV0dXJuIHQucmVwbGFjZSgvW3xcXFxce30oKVtcXF1eJCsqPy5dL2csXCJcXFxcJCZcIikucmVwbGFjZSgvLS9nLFwiXFxcXHgyZFwiKX1QaSh0LGkpe2lmKChudWxsIT1pJiZpLmhyZWZ8fG51bGwhPWkmJmkudGFnX25hbWV8fG51bGwhPWkmJmkudGV4dCkmJiF0aGlzLkFpKHQpLnNvbWUoKHQ9PiEobnVsbCE9aSYmaS5ocmVmJiYham4uRmkodC5ocmVmfHxcIlwiLG51bGw9PWk/dm9pZCAwOmkuaHJlZiwobnVsbD09aT92b2lkIDA6aS5ocmVmX21hdGNoaW5nKXx8XCJleGFjdFwiKSkmJigobnVsbD09aXx8IWkudGFnX25hbWV8fHQudGFnX25hbWU9PT0obnVsbD09aT92b2lkIDA6aS50YWdfbmFtZSkpJiYhKG51bGwhPWkmJmkudGV4dCYmIWpuLkZpKHQudGV4dHx8XCJcIixudWxsPT1pP3ZvaWQgMDppLnRleHQsKG51bGw9PWk/dm9pZCAwOmkudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikmJiFqbi5GaSh0LiRlbF90ZXh0fHxcIlwiLG51bGw9PWk/dm9pZCAwOmkudGV4dCwobnVsbD09aT92b2lkIDA6aS50ZXh0X21hdGNoaW5nKXx8XCJleGFjdFwiKSkpKSkpcmV0dXJuITE7aWYobnVsbCE9aSYmaS5zZWxlY3Rvcil7dmFyIGUscj1udWxsPT10fHxudWxsPT0oZT10LnByb3BlcnRpZXMpP3ZvaWQgMDplLiRlbGVtZW50X3NlbGVjdG9ycztpZighcilyZXR1cm4hMTtpZighci5pbmNsdWRlcyhudWxsPT1pP3ZvaWQgMDppLnNlbGVjdG9yKSlyZXR1cm4hMX1yZXR1cm4hMH1BaSh0KXtyZXR1cm4gbnVsbD09KG51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kZWxlbWVudHMpP1tdOm51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kZWxlbWVudHN9fXZhciBEbj1rdChcIltTdXJ2ZXlzXVwiKTt2YXIgTG49XCJzZWVuU3VydmV5X1wiLE5uPSh0LGkpPT57dmFyIGU9XCIkc3VydmV5X1wiK2krXCIvXCIrdC5pZDtyZXR1cm4gdC5jdXJyZW50X2l0ZXJhdGlvbiYmdC5jdXJyZW50X2l0ZXJhdGlvbj4wJiYoZT1cIiRzdXJ2ZXlfXCIraStcIi9cIit0LmlkK1wiL1wiK3QuY3VycmVudF9pdGVyYXRpb24pLGV9LFVuPXQ9Pnt2YXIgaT1cIlwiK0xuK3QuaWQ7cmV0dXJuIHQuY3VycmVudF9pdGVyYXRpb24mJnQuY3VycmVudF9pdGVyYXRpb24+MCYmKGk9XCJcIitMbit0LmlkK1wiX1wiK3QuY3VycmVudF9pdGVyYXRpb24pLGl9LHpuPVtUbi5Qb3BvdmVyLFRuLldpZGdldCxUbi5BUEldLEhuPXtpZ25vcmVDb25kaXRpb25zOiExLGlnbm9yZURlbGF5OiExLGRpc3BsYXlUeXBlOk1uLlBvcG92ZXJ9O2NsYXNzIEJue2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXQsdGhpcy5qaT1uZXcgTWFwLHRoaXMuRGk9bmV3IE1hcH1yZWdpc3Rlcih0KXt2YXIgaTtDKG51bGw9PShpPXRoaXMuX2luc3RhbmNlKT92b2lkIDA6aS5SaSl8fCh0aGlzLkxpKHQpLHRoaXMuTmkodCkpfU5pKHQpe3ZhciBpPXQuZmlsdGVyKCh0PT57dmFyIGksZTtyZXR1cm4obnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS5hY3Rpb25zKSYmKG51bGw9PShlPXQuY29uZGl0aW9ucyl8fG51bGw9PShlPWUuYWN0aW9ucyl8fG51bGw9PShlPWUudmFsdWVzKT92b2lkIDA6ZS5sZW5ndGgpPjB9KSk7aWYoMCE9PWkubGVuZ3RoKXtpZihudWxsPT10aGlzLlVpKXt0aGlzLlVpPW5ldyBqbih0aGlzLl9pbnN0YW5jZSksdGhpcy5VaS5pbml0KCk7dGhpcy5VaS5PaSgodD0+e3RoaXMub25BY3Rpb24odCl9KSl9aS5mb3JFYWNoKCh0PT57dmFyIGksZSxyLHMsbjt0LmNvbmRpdGlvbnMmJm51bGwhPShpPXQuY29uZGl0aW9ucykmJmkuYWN0aW9ucyYmbnVsbCE9KGU9dC5jb25kaXRpb25zKSYmbnVsbCE9KGU9ZS5hY3Rpb25zKSYmZS52YWx1ZXMmJihudWxsPT0ocj10LmNvbmRpdGlvbnMpfHxudWxsPT0ocj1yLmFjdGlvbnMpfHxudWxsPT0ocj1yLnZhbHVlcyk/dm9pZCAwOnIubGVuZ3RoKT4wJiYobnVsbD09KHM9dGhpcy5VaSl8fHMucmVnaXN0ZXIodC5jb25kaXRpb25zLmFjdGlvbnMudmFsdWVzKSxudWxsPT0obj10LmNvbmRpdGlvbnMpfHxudWxsPT0obj1uLmFjdGlvbnMpfHxudWxsPT0obj1uLnZhbHVlcyl8fG4uZm9yRWFjaCgoaT0+e2lmKGkmJmkubmFtZSl7dmFyIGU9dGhpcy5EaS5nZXQoaS5uYW1lKTtlJiZlLnB1c2godC5pZCksdGhpcy5EaS5zZXQoaS5uYW1lLGV8fFt0LmlkXSl9fSkpKX0pKX19TGkodCl7dmFyIGk7aWYoMCE9PXQuZmlsdGVyKCh0PT57dmFyIGksZTtyZXR1cm4obnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS5ldmVudHMpJiYobnVsbD09KGU9dC5jb25kaXRpb25zKXx8bnVsbD09KGU9ZS5ldmVudHMpfHxudWxsPT0oZT1lLnZhbHVlcyk/dm9pZCAwOmUubGVuZ3RoKT4wfSkpLmxlbmd0aCl7bnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxpLlJpKCgodCxpKT0+e3RoaXMub25FdmVudCh0LGkpfSkpLHQuZm9yRWFjaCgodD0+e3ZhciBpO251bGw9PShpPXQuY29uZGl0aW9ucyl8fG51bGw9PShpPWkuZXZlbnRzKXx8bnVsbD09KGk9aS52YWx1ZXMpfHxpLmZvckVhY2goKGk9PntpZihpJiZpLm5hbWUpe3ZhciBlPXRoaXMuamkuZ2V0KGkubmFtZSk7ZSYmZS5wdXNoKHQuaWQpLHRoaXMuamkuc2V0KGkubmFtZSxlfHxbdC5pZF0pfX0pKX0pKX19b25FdmVudCh0LGkpe3ZhciBlLHIscz0obnVsbD09KGU9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oZT1lLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5wcm9wc1t1aV0pfHxbXTtpZihPbi5TSE9XTj09PXQmJmkmJnMubGVuZ3RoPjApe3ZhciBuO0RuLmluZm8oXCJzdXJ2ZXkgZXZlbnQgbWF0Y2hlZCwgcmVtb3Zpbmcgc3VydmV5IGZyb20gYWN0aXZhdGVkIHN1cnZleXNcIix7ZXZlbnQ6dCxldmVudFBheWxvYWQ6aSxleGlzdGluZ0FjdGl2YXRlZFN1cnZleXM6c30pO3ZhciBvPW51bGw9PWl8fG51bGw9PShuPWkucHJvcGVydGllcyk/dm9pZCAwOm4uJHN1cnZleV9pZDtpZihvKXt2YXIgYT1zLmluZGV4T2Yobyk7YT49MCYmKHMuc3BsaWNlKGEsMSksdGhpcy56aShzKSl9fWVsc2UgaWYodGhpcy5qaS5oYXModCkpe0RuLmluZm8oXCJzdXJ2ZXkgZXZlbnQgbmFtZSBtYXRjaGVkXCIse2V2ZW50OnQsZXZlbnRQYXlsb2FkOmksc3VydmV5czp0aGlzLmppLmdldCh0KX0pO3ZhciBsPVtdO251bGw9PShyPXRoaXMuX2luc3RhbmNlKXx8ci5nZXRTdXJ2ZXlzKChpPT57bD1pLmZpbHRlcigoaT0+e3ZhciBlO3JldHVybiBudWxsPT0oZT10aGlzLmppLmdldCh0KSk/dm9pZCAwOmUuaW5jbHVkZXMoaS5pZCl9KSl9KSk7dmFyIHU9bC5maWx0ZXIoKGU9Pnt2YXIgcixzPW51bGw9PShyPWUuY29uZGl0aW9ucyl8fG51bGw9PShyPXIuZXZlbnRzKXx8bnVsbD09KHI9ci52YWx1ZXMpP3ZvaWQgMDpyLmZpbmQoKGk9PmkubmFtZT09PXQpKTtyZXR1cm4hIXMmJighcy5wcm9wZXJ0eUZpbHRlcnN8fE9iamVjdC5lbnRyaWVzKHMucHJvcGVydHlGaWx0ZXJzKS5ldmVyeSgodD0+e3ZhciBlLFtyLHNdPXQsbj1udWxsPT1pfHxudWxsPT0oZT1pLnByb3BlcnRpZXMpP3ZvaWQgMDplW3JdO2lmKEMobil8fE0obikpcmV0dXJuITE7dmFyIG89W1N0cmluZyhuKV0sYT1obltzLm9wZXJhdG9yXTtyZXR1cm4gYT9hKHMudmFsdWVzLG8pOihEbi53YXJuKFwiVW5rbm93biBwcm9wZXJ0eSBjb21wYXJpc29uIG9wZXJhdG9yOiBcIitzLm9wZXJhdG9yKSwhMSl9KSkpfSkpO3RoaXMuemkocy5jb25jYXQodS5tYXAoKHQ9PnQuaWQpKXx8W10pKX19b25BY3Rpb24odCl7dmFyIGksZT0obnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oaT1pLnBlcnNpc3RlbmNlKT92b2lkIDA6aS5wcm9wc1t1aV0pfHxbXTt0aGlzLkRpLmhhcyh0KSYmdGhpcy56aShlLmNvbmNhdCh0aGlzLkRpLmdldCh0KXx8W10pKX16aSh0KXt2YXIgaTtEbi5pbmZvKFwidXBkYXRpbmcgYWN0aXZhdGVkIHN1cnZleXNcIix7YWN0aXZhdGVkU3VydmV5czp0fSksbnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oaT1pLnBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih7W3VpXTpbLi4ubmV3IFNldCh0KV19KX1nZXRTdXJ2ZXlzKCl7dmFyIHQsaT1udWxsPT0odD10aGlzLl9pbnN0YW5jZSl8fG51bGw9PSh0PXQucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LnByb3BzW3VpXTtyZXR1cm4gaXx8W119Z2V0RXZlbnRUb1N1cnZleXMoKXtyZXR1cm4gdGhpcy5qaX1IaSgpe3JldHVybiB0aGlzLlVpfX1jbGFzcyBxbntjb25zdHJ1Y3Rvcih0KXt0aGlzLkJpPXZvaWQgMCx0aGlzLl9zdXJ2ZXlNYW5hZ2VyPW51bGwsdGhpcy5xaT0hMSx0aGlzLldpPSExLHRoaXMuR2k9W10sdGhpcy5faW5zdGFuY2U9dCx0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW51bGx9b25SZW1vdGVDb25maWcodCl7aWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpe3ZhciBpPXQuc3VydmV5cztpZihBKGkpKXJldHVybiBEbi53YXJuKFwiRmxhZ3Mgbm90IGxvYWRlZCB5ZXQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpO3ZhciBlPVAoaSk7dGhpcy5CaT1lP2kubGVuZ3RoPjA6aSxEbi5pbmZvKFwiZmxhZ3MgcmVzcG9uc2UgcmVjZWl2ZWQsIGlzU3VydmV5c0VuYWJsZWQ6IFwiK3RoaXMuQmkpLHRoaXMubG9hZElmRW5hYmxlZCgpfX1yZXNldCgpe2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwibGFzdFNlZW5TdXJ2ZXlEYXRlXCIpO2Zvcih2YXIgdD1bXSxpPTA7aTxsb2NhbFN0b3JhZ2UubGVuZ3RoO2krKyl7dmFyIGU9bG9jYWxTdG9yYWdlLmtleShpKTsobnVsbCE9ZSYmZS5zdGFydHNXaXRoKExuKXx8bnVsbCE9ZSYmZS5zdGFydHNXaXRoKFwiaW5Qcm9ncmVzc1N1cnZleV9cIikpJiZ0LnB1c2goZSl9dC5mb3JFYWNoKCh0PT5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0KSkpfWxvYWRJZkVuYWJsZWQoKXtpZighdGhpcy5fc3VydmV5TWFuYWdlcilpZih0aGlzLldpKURuLmluZm8oXCJBbHJlYWR5IGluaXRpYWxpemluZyBzdXJ2ZXlzLCBza2lwcGluZy4uLlwiKTtlbHNlIGlmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpRG4uaW5mbyhcIkRpc2FibGVkLiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKTtlbHNlIGlmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuX2luc3RhbmNlLmNvbnNlbnQuaXNPcHRlZE91dCgpKURuLmluZm8oXCJOb3QgbG9hZGluZyBzdXJ2ZXlzIGluIGNvb2tpZWxlc3MgbW9kZSB3aXRob3V0IGNvbnNlbnQuXCIpO2Vsc2V7dmFyIHQ9bnVsbD09dj92b2lkIDA6di5fX1Bvc3Rob2dFeHRlbnNpb25zX187aWYodCl7aWYoIUModGhpcy5CaSl8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9lbmFibGVfc3VydmV5cyl7dmFyIGk9dGhpcy5CaXx8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2VuYWJsZV9zdXJ2ZXlzO3RoaXMuV2k9ITA7dHJ5e3ZhciBlPXQuZ2VuZXJhdGVTdXJ2ZXlzO2lmKGUpcmV0dXJuIHZvaWQgdGhpcy5WaShlLGkpO3ZhciByPXQubG9hZEV4dGVybmFsRGVwZW5kZW5jeTtpZighcilyZXR1cm4gdm9pZCB0aGlzLkppKFwiUG9zdEhvZyBsb2FkRXh0ZXJuYWxEZXBlbmRlbmN5IGV4dGVuc2lvbiBub3QgZm91bmQuXCIpO3IodGhpcy5faW5zdGFuY2UsXCJzdXJ2ZXlzXCIsKGU9PntlfHwhdC5nZW5lcmF0ZVN1cnZleXM/dGhpcy5KaShcIkNvdWxkIG5vdCBsb2FkIHN1cnZleXMgc2NyaXB0XCIsZSk6dGhpcy5WaSh0LmdlbmVyYXRlU3VydmV5cyxpKX0pKX1jYXRjaCh0KXt0aHJvdyB0aGlzLkppKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHN1cnZleXNcIix0KSx0fWZpbmFsbHl7dGhpcy5XaT0hMX19fWVsc2UgRG4uZXJyb3IoXCJQb3N0SG9nIEV4dGVuc2lvbnMgbm90IGZvdW5kLlwiKX19VmkodCxpKXt0aGlzLl9zdXJ2ZXlNYW5hZ2VyPXQodGhpcy5faW5zdGFuY2UsaSksdGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1uZXcgQm4odGhpcy5faW5zdGFuY2UpLERuLmluZm8oXCJTdXJ2ZXlzIGxvYWRlZCBzdWNjZXNzZnVsbHlcIiksdGhpcy5LaSh7aXNMb2FkZWQ6ITB9KX1KaSh0LGkpe0RuLmVycm9yKHQsaSksdGhpcy5LaSh7aXNMb2FkZWQ6ITEsZXJyb3I6dH0pfW9uU3VydmV5c0xvYWRlZCh0KXtyZXR1cm4gdGhpcy5HaS5wdXNoKHQpLHRoaXMuX3N1cnZleU1hbmFnZXImJnRoaXMuS2koe2lzTG9hZGVkOiEwfSksKCk9Pnt0aGlzLkdpPXRoaXMuR2kuZmlsdGVyKChpPT5pIT09dCkpfX1nZXRTdXJ2ZXlzKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpcmV0dXJuIERuLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIiksdChbXSk7dmFyIGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGxpKTtpZihlJiYhaSlyZXR1cm4gdChlLHtpc0xvYWRlZDohMH0pO2lmKHRoaXMucWkpcmV0dXJuIHQoW10se2lzTG9hZGVkOiExLGVycm9yOlwiU3VydmV5cyBhcmUgYWxyZWFkeSBiZWluZyBsb2FkZWRcIn0pO3RyeXt0aGlzLnFpPSEwLHRoaXMuX2luc3RhbmNlLnVpKHt1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS9zdXJ2ZXlzLz90b2tlbj1cIit0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4pLG1ldGhvZDpcIkdFVFwiLHRpbWVvdXQ6dGhpcy5faW5zdGFuY2UuY29uZmlnLnN1cnZleXNfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmk9Pnt2YXIgZTt0aGlzLnFpPSExO3ZhciByPWkuc3RhdHVzQ29kZTtpZigyMDAhPT1yfHwhaS5qc29uKXt2YXIgcz1cIlN1cnZleXMgQVBJIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHN0YXR1czogXCIrcjtyZXR1cm4gRG4uZXJyb3IocyksdChbXSx7aXNMb2FkZWQ6ITEsZXJyb3I6c30pfXZhciBuLG89aS5qc29uLnN1cnZleXN8fFtdLGE9by5maWx0ZXIoKHQ9PmZ1bmN0aW9uKHQpe3JldHVybiEoIXQuc3RhcnRfZGF0ZXx8dC5lbmRfZGF0ZSl9KHQpJiYoZnVuY3Rpb24odCl7dmFyIGk7cmV0dXJuIShudWxsPT0oaT10LmNvbmRpdGlvbnMpfHxudWxsPT0oaT1pLmV2ZW50cyl8fG51bGw9PShpPWkudmFsdWVzKXx8IWkubGVuZ3RoKX0odCl8fGZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiEobnVsbD09KGk9dC5jb25kaXRpb25zKXx8bnVsbD09KGk9aS5hY3Rpb25zKXx8bnVsbD09KGk9aS52YWx1ZXMpfHwhaS5sZW5ndGgpfSh0KSkpKTthLmxlbmd0aD4wJiYobnVsbD09KG49dGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcil8fG4ucmVnaXN0ZXIoYSkpO3JldHVybiBudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGUucmVnaXN0ZXIoe1tsaV06b30pLHQobyx7aXNMb2FkZWQ6ITB9KX19KX1jYXRjaCh0KXt0aHJvdyB0aGlzLnFpPSExLHR9fUtpKHQpe2Zvcih2YXIgaSBvZiB0aGlzLkdpKXRyeXtpZighdC5pc0xvYWRlZClyZXR1cm4gaShbXSx0KTt0aGlzLmdldFN1cnZleXMoaSl9Y2F0Y2godCl7RG4uZXJyb3IoXCJFcnJvciBpbiBzdXJ2ZXkgY2FsbGJhY2tcIix0KX19Z2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITEpLCFBKHRoaXMuX3N1cnZleU1hbmFnZXIpKXJldHVybiB0aGlzLl9zdXJ2ZXlNYW5hZ2VyLmdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpO0RuLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpfVlpKHQpe3ZhciBpPW51bGw7cmV0dXJuIHRoaXMuZ2V0U3VydmV5cygoZT0+e3ZhciByO2k9bnVsbCE9PShyPWUuZmluZCgoaT0+aS5pZD09PXQpKSkmJnZvaWQgMCE9PXI/cjpudWxsfSkpLGl9WGkodCl7aWYoQSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlyZXR1cm57ZWxpZ2libGU6ITEscmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9O3ZhciBpPVwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMuWWkodCk6dDtyZXR1cm4gaT90aGlzLl9zdXJ2ZXlNYW5hZ2VyLmNoZWNrU3VydmV5RWxpZ2liaWxpdHkoaSk6e2VsaWdpYmxlOiExLHJlYXNvbjpcIlN1cnZleSBub3QgZm91bmRcIn19Y2FuUmVuZGVyU3VydmV5KHQpe2lmKEEodGhpcy5fc3VydmV5TWFuYWdlcikpcmV0dXJuIERuLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLHt2aXNpYmxlOiExLGRpc2FibGVkUmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9O3ZhciBpPXRoaXMuWGkodCk7cmV0dXJue3Zpc2libGU6aS5lbGlnaWJsZSxkaXNhYmxlZFJlYXNvbjppLnJlYXNvbn19Y2FuUmVuZGVyU3VydmV5QXN5bmModCxpKXtyZXR1cm4gQSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKT8oRG4ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIiksUHJvbWlzZS5yZXNvbHZlKHt2aXNpYmxlOiExLGRpc2FibGVkUmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9KSk6bmV3IFByb21pc2UoKGU9Pnt0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcixzPW51bGwhPT0ocj1pLmZpbmQoKGk9PmkuaWQ9PT10KSkpJiZ2b2lkIDAhPT1yP3I6bnVsbDtpZihzKXt2YXIgbj10aGlzLlhpKHMpO2Uoe3Zpc2libGU6bi5lbGlnaWJsZSxkaXNhYmxlZFJlYXNvbjpuLnJlYXNvbn0pfWVsc2UgZSh7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlN1cnZleSBub3QgZm91bmRcIn0pfSksaSl9KSl9cmVuZGVyU3VydmV5KHQsaSl7dmFyIGU7aWYoQSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlEbi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTtlbHNle3ZhciByPVwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMuWWkodCk6dDtpZihudWxsIT1yJiZyLmlkKWlmKHpuLmluY2x1ZGVzKHIudHlwZSkpe3ZhciBzPW51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvcihpKTtpZihzKXJldHVybiBudWxsIT0oZT1yLmFwcGVhcmFuY2UpJiZlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzPyhEbi5pbmZvKFwiUmVuZGVyaW5nIHN1cnZleSBcIityLmlkK1wiIHdpdGggZGVsYXkgb2YgXCIrci5hcHBlYXJhbmNlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzK1wiIHNlY29uZHNcIiksdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3ZhciB0LGk7RG4uaW5mbyhcIlJlbmRlcmluZyBzdXJ2ZXkgXCIrci5pZCtcIiB3aXRoIGRlbGF5IG9mIFwiKyhudWxsPT0odD1yLmFwcGVhcmFuY2UpP3ZvaWQgMDp0LnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzKStcIiBzZWNvbmRzXCIpLG51bGw9PShpPXRoaXMuX3N1cnZleU1hbmFnZXIpfHxpLnJlbmRlclN1cnZleShyLHMpLERuLmluZm8oXCJTdXJ2ZXkgXCIrci5pZCtcIiByZW5kZXJlZFwiKX0pLDFlMypyLmFwcGVhcmFuY2Uuc3VydmV5UG9wdXBEZWxheVNlY29uZHMpKTp2b2lkIHRoaXMuX3N1cnZleU1hbmFnZXIucmVuZGVyU3VydmV5KHIscyk7RG4ud2FybihcIlN1cnZleSBlbGVtZW50IG5vdCBmb3VuZFwiKX1lbHNlIERuLndhcm4oXCJTdXJ2ZXlzIG9mIHR5cGUgXCIrci50eXBlK1wiIGNhbm5vdCBiZSByZW5kZXJlZCBpbiB0aGUgYXBwXCIpO2Vsc2UgRG4ud2FybihcIlN1cnZleSBub3QgZm91bmRcIil9fWRpc3BsYXlTdXJ2ZXkodCxpKXt2YXIgZTtpZihBKHRoaXMuX3N1cnZleU1hbmFnZXIpKURuLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpO2Vsc2V7dmFyIHI9dGhpcy5ZaSh0KTtpZihyKXt2YXIgcz1yO2lmKG51bGwhPShlPXIuYXBwZWFyYW5jZSkmJmUuc3VydmV5UG9wdXBEZWxheVNlY29uZHMmJmkuaWdub3JlRGVsYXkmJihzPWcoe30scix7YXBwZWFyYW5jZTpnKHt9LHIuYXBwZWFyYW5jZSx7c3VydmV5UG9wdXBEZWxheVNlY29uZHM6MH0pfSkpLCExPT09aS5pZ25vcmVDb25kaXRpb25zKXt2YXIgbj10aGlzLmNhblJlbmRlclN1cnZleShyKTtpZighbi52aXNpYmxlKXJldHVybiB2b2lkIERuLndhcm4oXCJTdXJ2ZXkgaXMgbm90IGVsaWdpYmxlIHRvIGJlIGRpc3BsYXllZDogXCIsbi5kaXNhYmxlZFJlYXNvbil9aS5kaXNwbGF5VHlwZSE9PU1uLklubGluZT90aGlzLl9zdXJ2ZXlNYW5hZ2VyLmhhbmRsZVBvcG92ZXJTdXJ2ZXkocyk6dGhpcy5yZW5kZXJTdXJ2ZXkocyxpLnNlbGVjdG9yKX1lbHNlIERuLndhcm4oXCJTdXJ2ZXkgbm90IGZvdW5kXCIpfX19dmFyIFduPWt0KFwiW1JhdGVMaW1pdGVyXVwiKTtjbGFzcyBHbntjb25zdHJ1Y3Rvcih0KXt2YXIgaSxlO3RoaXMuc2VydmVyTGltaXRzPXt9LHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9ITEsdGhpcy5jaGVja0ZvckxpbWl0aW5nPXQ9Pnt2YXIgaT10LnRleHQ7aWYoaSYmaS5sZW5ndGgpdHJ5eyhKU09OLnBhcnNlKGkpLnF1b3RhX2xpbWl0ZWR8fFtdKS5mb3JFYWNoKCh0PT57V24uaW5mbygodHx8XCJldmVudHNcIikrXCIgaXMgcXVvdGEgbGltaXRlZC5cIiksdGhpcy5zZXJ2ZXJMaW1pdHNbdF09KG5ldyBEYXRlKS5nZXRUaW1lKCkrNmU0fSkpfWNhdGNoKHQpe3JldHVybiB2b2lkIFduLndhcm4oJ2NvdWxkIG5vdCByYXRlIGxpbWl0IC0gY29udGludWluZy4gRXJyb3I6IFwiJysobnVsbD09dD92b2lkIDA6dC5tZXNzYWdlKSsnXCInLHt0ZXh0Oml9KX19LHRoaXMuaW5zdGFuY2U9dCx0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQ9KG51bGw9PShpPXQuY29uZmlnLnJhdGVfbGltaXRpbmcpP3ZvaWQgMDppLmV2ZW50c19wZXJfc2Vjb25kKXx8MTAsdGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdD1NYXRoLm1heCgobnVsbD09KGU9dC5jb25maWcucmF0ZV9saW1pdGluZyk/dm9pZCAwOmUuZXZlbnRzX2J1cnN0X2xpbWl0KXx8MTAqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD10aGlzLmNsaWVudFJhdGVMaW1pdENvbnRleHQoITApLmlzUmF0ZUxpbWl0ZWR9Y2xpZW50UmF0ZUxpbWl0Q29udGV4dCh0KXt2YXIgaSxlLHI7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciBzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG49bnVsbCE9PShpPW51bGw9PShlPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShjaSkpJiZ2b2lkIDAhPT1pP2k6e3Rva2Vuczp0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0LGxhc3Q6c307bi50b2tlbnMrPShzLW4ubGFzdCkvMWUzKnRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCxuLmxhc3Q9cyxuLnRva2Vucz50aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0JiYobi50b2tlbnM9dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCk7dmFyIG89bi50b2tlbnM8MTtyZXR1cm4gb3x8dHx8KG4udG9rZW5zPU1hdGgubWF4KDAsbi50b2tlbnMtMSkpLCFvfHx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkfHx0fHx0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ1wiLHskJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ19tZXNzYWdlOlwicG9zdGhvZy1qcyBjbGllbnQgcmF0ZSBsaW1pdGVkLiBDb25maWcgaXMgc2V0IHRvIFwiK3RoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCtcIiBldmVudHMgcGVyIHNlY29uZCBhbmQgXCIrdGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCtcIiBldmVudHMgYnVyc3QgbGltaXQuXCJ9LHtza2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nOiEwfSksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD1vLG51bGw9PShyPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnNldF9wcm9wZXJ0eShjaSxuKSx7aXNSYXRlTGltaXRlZDpvLHJlbWFpbmluZ1Rva2VuczpuLnRva2Vuc319aXNTZXJ2ZXJSYXRlTGltaXRlZCh0KXt2YXIgaT10aGlzLnNlcnZlckxpbWl0c1t0fHxcImV2ZW50c1wiXXx8ITE7cmV0dXJuITEhPT1pJiYobmV3IERhdGUpLmdldFRpbWUoKTxpfX12YXIgVm49a3QoXCJbUmVtb3RlQ29uZmlnXVwiKTtjbGFzcyBKbntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10fWdldCByZW1vdGVDb25maWcoKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9di5fUE9TVEhPR19SRU1PVEVfQ09ORklHKXx8bnVsbD09KHQ9dFt0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW5dKT92b2lkIDA6dC5jb25maWd9UWkodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkubG9hZEV4dGVybmFsRGVwZW5kZW5jeT9udWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLFwicmVtb3RlLWNvbmZpZ1wiLCgoKT0+dCh0aGlzLnJlbW90ZUNvbmZpZykpKTooVm4uZXJyb3IoXCJQb3N0SG9nIEV4dGVuc2lvbnMgbm90IGZvdW5kLiBDYW5ub3QgbG9hZCByZW1vdGUgY29uZmlnLlwiKSx0KCkpfVppKHQpe3RoaXMuX2luc3RhbmNlLnVpKHttZXRob2Q6XCJHRVRcIix1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLFwiL2FycmF5L1wiK3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbitcIi9jb25maWdcIiksY2FsbGJhY2s6aT0+e3QoaS5qc29uKX19KX1sb2FkKCl7dHJ5e2lmKHRoaXMucmVtb3RlQ29uZmlnKXJldHVybiBWbi5pbmZvKFwiVXNpbmcgcHJlbG9hZGVkIHJlbW90ZSBjb25maWdcIix0aGlzLnJlbW90ZUNvbmZpZyksdm9pZCB0aGlzLmhpKHRoaXMucmVtb3RlQ29uZmlnKTtpZih0aGlzLl9pbnN0YW5jZS5MKCkpcmV0dXJuIHZvaWQgVm4ud2FybihcIlJlbW90ZSBjb25maWcgaXMgZGlzYWJsZWQuIEZhbGxpbmcgYmFjayB0byBsb2NhbCBjb25maWcuXCIpO3RoaXMuUWkoKHQ9PntpZighdClyZXR1cm4gVm4uaW5mbyhcIk5vIGNvbmZpZyBmb3VuZCBhZnRlciBsb2FkaW5nIHJlbW90ZSBKUyBjb25maWcuIEZhbGxpbmcgYmFjayB0byBKU09OLlwiKSx2b2lkIHRoaXMuWmkoKHQ9Pnt0aGlzLmhpKHQpfSkpO3RoaXMuaGkodCl9KSl9Y2F0Y2godCl7Vm4uZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlbW90ZSBjb25maWdcIix0KX19aGkodCl7dD90aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWc/KHRoaXMuX2luc3RhbmNlLmhpKHQpLCExIT09dC5oYXNGZWF0dXJlRmxhZ3MmJnRoaXMuX2luc3RhbmNlLmZlYXR1cmVGbGFncy5lbnN1cmVGbGFnc0xvYWRlZCgpKTpWbi5pbmZvKFwiX19wcmV2aWV3X3JlbW90ZV9jb25maWcgaXMgZGlzYWJsZWQuIExvZ2dpbmcgY29uZmlnIGluc3RlYWRcIix0KTpWbi5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCByZW1vdGUgY29uZmlnIGZyb20gUG9zdEhvZy5cIil9fXZhciBLbj0zZTM7Y2xhc3MgWW57Y29uc3RydWN0b3IodCxpKXt0aGlzLnRlPSEwLHRoaXMuaWU9W10sdGhpcy5lZT1HKChudWxsPT1pP3ZvaWQgMDppLmZsdXNoX2ludGVydmFsX21zKXx8S24sMjUwLDVlMywkdC5jcmVhdGVMb2dnZXIoXCJmbHVzaCBpbnRlcnZhbFwiKSxLbiksdGhpcy5yZT10fWVucXVldWUodCl7dGhpcy5pZS5wdXNoKHQpLHRoaXMuc2V8fHRoaXMubmUoKX11bmxvYWQoKXt0aGlzLm9lKCk7dmFyIHQ9dGhpcy5pZS5sZW5ndGg+MD90aGlzLmFlKCk6e30saT1PYmplY3QudmFsdWVzKHQpO1suLi5pLmZpbHRlcigodD0+MD09PXQudXJsLmluZGV4T2YoXCIvZVwiKSkpLC4uLmkuZmlsdGVyKCh0PT4wIT09dC51cmwuaW5kZXhPZihcIi9lXCIpKSldLm1hcCgodD0+e3RoaXMucmUoZyh7fSx0LHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KSl9KSl9ZW5hYmxlKCl7dGhpcy50ZT0hMSx0aGlzLm5lKCl9bmUoKXt2YXIgdD10aGlzO3RoaXMudGV8fCh0aGlzLnNlPXNldFRpbWVvdXQoKCgpPT57aWYodGhpcy5vZSgpLHRoaXMuaWUubGVuZ3RoPjApe3ZhciBpPXRoaXMuYWUoKSxlPWZ1bmN0aW9uKCl7dmFyIGU9aVtyXSxzPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2UuZGF0YSYmUChlLmRhdGEpJiZDdChlLmRhdGEsKHQ9Pnt0Lm9mZnNldD1NYXRoLmFicyh0LnRpbWVzdGFtcC1zKSxkZWxldGUgdC50aW1lc3RhbXB9KSksdC5yZShlKX07Zm9yKHZhciByIGluIGkpZSgpfX0pLHRoaXMuZWUpKX1vZSgpe2NsZWFyVGltZW91dCh0aGlzLnNlKSx0aGlzLnNlPXZvaWQgMH1hZSgpe3ZhciB0PXt9O3JldHVybiBDdCh0aGlzLmllLChpPT57dmFyIGUscj1pLHM9KHI/ci5iYXRjaEtleTpudWxsKXx8ci51cmw7Qyh0W3NdKSYmKHRbc109Zyh7fSxyLHtkYXRhOltdfSkpLG51bGw9PShlPXRbc10uZGF0YSl8fGUucHVzaChyLmRhdGEpfSkpLHRoaXMuaWU9W10sdH19dmFyIFhuPVtcInJldHJpZXNQZXJmb3JtZWRTb0ZhclwiXTtjbGFzcyBRbntjb25zdHJ1Y3RvcihpKXt0aGlzLmxlPSExLHRoaXMudWU9M2UzLHRoaXMuaWU9W10sdGhpcy5faW5zdGFuY2U9aSx0aGlzLmllPVtdLHRoaXMuaGU9ITAsIUModCkmJlwib25MaW5lXCJpbiB0Lm5hdmlnYXRvciYmKHRoaXMuaGU9dC5uYXZpZ2F0b3Iub25MaW5lLEh0KHQsXCJvbmxpbmVcIiwoKCk9Pnt0aGlzLmhlPSEwLHRoaXMuanQoKX0pKSxIdCh0LFwib2ZmbGluZVwiLCgoKT0+e3RoaXMuaGU9ITF9KSkpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5pZS5sZW5ndGh9cmV0cmlhYmxlUmVxdWVzdCh0KXt2YXJ7cmV0cmllc1BlcmZvcm1lZFNvRmFyOml9PXQsZT1fKHQsWG4pO2ooaSkmJmk+MCYmKGUudXJsPXNuKGUudXJsLHtyZXRyeV9jb3VudDppfSkpLHRoaXMuX2luc3RhbmNlLnVpKGcoe30sZSx7Y2FsbGJhY2s6dD0+ezIwMCE9PXQuc3RhdHVzQ29kZSYmKHQuc3RhdHVzQ29kZTw0MDB8fHQuc3RhdHVzQ29kZT49NTAwKSYmKG51bGwhPWk/aTowKTwxMD90aGlzLmRlKGcoe3JldHJpZXNQZXJmb3JtZWRTb0ZhcjppfSxlKSk6bnVsbD09ZS5jYWxsYmFja3x8ZS5jYWxsYmFjayh0KX19KSl9ZGUodCl7dmFyIGk9dC5yZXRyaWVzUGVyZm9ybWVkU29GYXJ8fDA7dC5yZXRyaWVzUGVyZm9ybWVkU29GYXI9aSsxO3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBpPTNlMypNYXRoLnBvdygyLHQpLGU9aS8yLHI9TWF0aC5taW4oMThlNSxpKSxzPShNYXRoLnJhbmRvbSgpLS41KSooci1lKTtyZXR1cm4gTWF0aC5jZWlsKHIrcyl9KGkpLHI9RGF0ZS5ub3coKStlO3RoaXMuaWUucHVzaCh7cmV0cnlBdDpyLHJlcXVlc3RPcHRpb25zOnR9KTt2YXIgcz1cIkVucXVldWVkIGZhaWxlZCByZXF1ZXN0IGZvciByZXRyeSBpbiBcIitlO25hdmlnYXRvci5vbkxpbmV8fChzKz1cIiAoQnJvd3NlciBpcyBvZmZsaW5lKVwiKSwkdC53YXJuKHMpLHRoaXMubGV8fCh0aGlzLmxlPSEwLHRoaXMudmUoKSl9dmUoKXt0aGlzLmNlJiZjbGVhclRpbWVvdXQodGhpcy5jZSksdGhpcy5jZT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuaGUmJnRoaXMuaWUubGVuZ3RoPjAmJnRoaXMuanQoKSx0aGlzLnZlKCl9KSx0aGlzLnVlKX1qdCgpe3ZhciB0PURhdGUubm93KCksaT1bXSxlPXRoaXMuaWUuZmlsdGVyKChlPT5lLnJldHJ5QXQ8dHx8KGkucHVzaChlKSwhMSkpKTtpZih0aGlzLmllPWksZS5sZW5ndGg+MClmb3IodmFye3JlcXVlc3RPcHRpb25zOnJ9b2YgZSl0aGlzLnJldHJpYWJsZVJlcXVlc3Qocil9dW5sb2FkKCl7Zm9yKHZhcntyZXF1ZXN0T3B0aW9uczp0fW9mKHRoaXMuY2UmJihjbGVhclRpbWVvdXQodGhpcy5jZSksdGhpcy5jZT12b2lkIDApLHRoaXMuaWUpKXRyeXt0aGlzLl9pbnN0YW5jZS51aShnKHt9LHQse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX1jYXRjaCh0KXskdC5lcnJvcih0KX10aGlzLmllPVtdfX1jbGFzcyBabntjb25zdHJ1Y3Rvcih0KXt0aGlzLmZlPSgpPT57dmFyIHQsaSxlLHI7dGhpcy5wZXx8KHRoaXMucGU9e30pO3ZhciBzPXRoaXMuc2Nyb2xsRWxlbWVudCgpLG49dGhpcy5zY3JvbGxZKCksbz1zP01hdGgubWF4KDAscy5zY3JvbGxIZWlnaHQtcy5jbGllbnRIZWlnaHQpOjAsYT1uKygobnVsbD09cz92b2lkIDA6cy5jbGllbnRIZWlnaHQpfHwwKSxsPShudWxsPT1zP3ZvaWQgMDpzLnNjcm9sbEhlaWdodCl8fDA7dGhpcy5wZS5sYXN0U2Nyb2xsWT1NYXRoLmNlaWwobiksdGhpcy5wZS5tYXhTY3JvbGxZPU1hdGgubWF4KG4sbnVsbCE9PSh0PXRoaXMucGUubWF4U2Nyb2xsWSkmJnZvaWQgMCE9PXQ/dDowKSx0aGlzLnBlLm1heFNjcm9sbEhlaWdodD1NYXRoLm1heChvLG51bGwhPT0oaT10aGlzLnBlLm1heFNjcm9sbEhlaWdodCkmJnZvaWQgMCE9PWk/aTowKSx0aGlzLnBlLmxhc3RDb250ZW50WT1hLHRoaXMucGUubWF4Q29udGVudFk9TWF0aC5tYXgoYSxudWxsIT09KGU9dGhpcy5wZS5tYXhDb250ZW50WSkmJnZvaWQgMCE9PWU/ZTowKSx0aGlzLnBlLm1heENvbnRlbnRIZWlnaHQ9TWF0aC5tYXgobCxudWxsIT09KHI9dGhpcy5wZS5tYXhDb250ZW50SGVpZ2h0KSYmdm9pZCAwIT09cj9yOjApfSx0aGlzLl9pbnN0YW5jZT10fWdldENvbnRleHQoKXtyZXR1cm4gdGhpcy5wZX1yZXNldENvbnRleHQoKXt2YXIgdD10aGlzLnBlO3JldHVybiBzZXRUaW1lb3V0KHRoaXMuZmUsMCksdH1zdGFydE1lYXN1cmluZ1Njcm9sbFBvc2l0aW9uKCl7SHQodCxcInNjcm9sbFwiLHRoaXMuZmUse2NhcHR1cmU6ITB9KSxIdCh0LFwic2Nyb2xsZW5kXCIsdGhpcy5mZSx7Y2FwdHVyZTohMH0pLEh0KHQsXCJyZXNpemVcIix0aGlzLmZlKX1zY3JvbGxFbGVtZW50KCl7aWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3RvcilyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIGk9UCh0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3RvcjpbdGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yXTtmb3IodmFyIGUgb2YgaSl7dmFyIHI9bnVsbD09dD92b2lkIDA6dC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKHIpcmV0dXJuIHJ9fXNjcm9sbFkoKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBpPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBpJiZpLnNjcm9sbFRvcHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKXx8MH1zY3JvbGxYKCl7aWYodGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXt2YXIgaT10aGlzLnNjcm9sbEVsZW1lbnQoKTtyZXR1cm4gaSYmaS5zY3JvbGxMZWZ0fHwwfXJldHVybiB0JiYodC5zY3JvbGxYfHx0LnBhZ2VYT2Zmc2V0fHx0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KXx8MH19dmFyIHRvPXQ9PmxzKG51bGw9PXQ/dm9pZCAwOnQuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLG51bGw9PXQ/dm9pZCAwOnQuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpO2NsYXNzIGlve2NvbnN0cnVjdG9yKHQsaSxlLHIpe3RoaXMuZ2U9dD0+e3ZhciBpPXRoaXMuX2UoKTtpZighaXx8aS5zZXNzaW9uSWQhPT10KXt2YXIgZT17c2Vzc2lvbklkOnQscHJvcHM6dGhpcy5tZSh0aGlzLl9pbnN0YW5jZSl9O3RoaXMueWUucmVnaXN0ZXIoe1t2aV06ZX0pfX0sdGhpcy5faW5zdGFuY2U9dCx0aGlzLmJlPWksdGhpcy55ZT1lLHRoaXMubWU9cnx8dG8sdGhpcy5iZS5vblNlc3Npb25JZCh0aGlzLmdlKX1fZSgpe3JldHVybiB0aGlzLnllLnByb3BzW3ZpXX1nZXRTZXRPbmNlUHJvcHMoKXt2YXIgdCxpPW51bGw9PSh0PXRoaXMuX2UoKSk/dm9pZCAwOnQucHJvcHM7cmV0dXJuIGk/XCJyXCJpbiBpP3VzKGkpOnskcmVmZXJyaW5nX2RvbWFpbjppLnJlZmVycmluZ0RvbWFpbiwkcGF0aG5hbWU6aS5pbml0aWFsUGF0aE5hbWUsdXRtX3NvdXJjZTppLnV0bV9zb3VyY2UsdXRtX2NhbXBhaWduOmkudXRtX2NhbXBhaWduLHV0bV9tZWRpdW06aS51dG1fbWVkaXVtLHV0bV9jb250ZW50OmkudXRtX2NvbnRlbnQsdXRtX3Rlcm06aS51dG1fdGVybX06e319Z2V0U2Vzc2lvblByb3BzKCl7dmFyIHQ9e307cmV0dXJuIEN0KER0KHRoaXMuZ2V0U2V0T25jZVByb3BzKCkpLCgoaSxlKT0+e1wiJGN1cnJlbnRfdXJsXCI9PT1lJiYoZT1cInVybFwiKSx0W1wiJHNlc3Npb25fZW50cnlfXCIrdyhlKV09aX0pKSx0fX12YXIgZW89a3QoXCJbU2Vzc2lvbklkXVwiKTtjbGFzcyByb3tvbih0LGkpe3JldHVybiB0aGlzLndlLm9uKHQsaSl9Y29uc3RydWN0b3IodCxpLGUpe3ZhciByO2lmKHRoaXMuU2U9W10sdGhpcy54ZT12b2lkIDAsdGhpcy53ZT1uZXcgQW4sdGhpcy5FZT0odCxpKT0+TWF0aC5hYnModC1pKT50aGlzLnNlc3Npb25UaW1lb3V0TXMsIXQucGVyc2lzdGVuY2UpdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbklkTWFuYWdlciByZXF1aXJlcyBhIFBvc3RIb2dQZXJzaXN0ZW5jZSBpbnN0YW5jZVwiKTtpZihcImFsd2F5c1wiPT09dC5jb25maWcuY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcignU2Vzc2lvbklkTWFuYWdlciBjYW5ub3QgYmUgdXNlZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiJyk7dGhpcy5BPXQuY29uZmlnLHRoaXMueWU9dC5wZXJzaXN0ZW5jZSx0aGlzLiRlPXZvaWQgMCx0aGlzLmtlPXZvaWQgMCx0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXA9bnVsbCx0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXA9bnVsbCx0aGlzLlBlPWl8fGJlLHRoaXMuVGU9ZXx8YmU7dmFyIHM9dGhpcy5BLnBlcnNpc3RlbmNlX25hbWV8fHRoaXMuQS50b2tlbixuPXRoaXMuQS5zZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzfHwxODAwO2lmKHRoaXMuX3Nlc3Npb25UaW1lb3V0TXM9MWUzKkcobiw2MCwzNmUzLGVvLmNyZWF0ZUxvZ2dlcihcInNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHNcIiksMTgwMCksdC5yZWdpc3Rlcih7JGNvbmZpZ3VyZWRfc2Vzc2lvbl90aW1lb3V0X21zOnRoaXMuX3Nlc3Npb25UaW1lb3V0TXN9KSx0aGlzLkllKCksdGhpcy5SZT1cInBoX1wiK3MrXCJfd2luZG93X2lkXCIsdGhpcy5DZT1cInBoX1wiK3MrXCJfcHJpbWFyeV93aW5kb3dfZXhpc3RzXCIsdGhpcy5PZSgpKXt2YXIgbz1GZS5LKHRoaXMuUmUpLGE9RmUuSyh0aGlzLkNlKTtvJiYhYT90aGlzLiRlPW86RmUuWCh0aGlzLlJlKSxGZS5ZKHRoaXMuQ2UsITApfWlmKG51bGwhPShyPXRoaXMuQS5ib290c3RyYXApJiZyLnNlc3Npb25JRCl0cnl7dmFyIGw9KHQ9Pnt2YXIgaT10LnJlcGxhY2UoLy0vZyxcIlwiKTtpZigzMiE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIFVVSURcIik7aWYoXCI3XCIhPT1pWzEyXSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBVVUlEdjdcIik7cmV0dXJuIHBhcnNlSW50KGkuc3Vic3RyaW5nKDAsMTIpLDE2KX0pKHRoaXMuQS5ib290c3RyYXAuc2Vzc2lvbklEKTt0aGlzLkZlKHRoaXMuQS5ib290c3RyYXAuc2Vzc2lvbklELChuZXcgRGF0ZSkuZ2V0VGltZSgpLGwpfWNhdGNoKHQpe2VvLmVycm9yKFwiSW52YWxpZCBzZXNzaW9uSUQgaW4gYm9vdHN0cmFwXCIsdCl9dGhpcy5NZSgpfWdldCBzZXNzaW9uVGltZW91dE1zKCl7cmV0dXJuIHRoaXMuX3Nlc3Npb25UaW1lb3V0TXN9b25TZXNzaW9uSWQodCl7cmV0dXJuIEModGhpcy5TZSkmJih0aGlzLlNlPVtdKSx0aGlzLlNlLnB1c2godCksdGhpcy5rZSYmdCh0aGlzLmtlLHRoaXMuJGUpLCgpPT57dGhpcy5TZT10aGlzLlNlLmZpbHRlcigoaT0+aSE9PXQpKX19T2UoKXtyZXR1cm5cIm1lbW9yeVwiIT09dGhpcy5BLnBlcnNpc3RlbmNlJiYhdGhpcy55ZS5naSYmRmUuRygpfUFlKHQpe3QhPT10aGlzLiRlJiYodGhpcy4kZT10LHRoaXMuT2UoKSYmRmUuWSh0aGlzLlJlLHQpKX1qZSgpe3JldHVybiB0aGlzLiRlP3RoaXMuJGU6dGhpcy5PZSgpP0ZlLksodGhpcy5SZSk6bnVsbH1GZSh0LGksZSl7dD09PXRoaXMua2UmJmk9PT10aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAmJmU9PT10aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXB8fCh0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXA9ZSx0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXA9aSx0aGlzLmtlPXQsdGhpcy55ZS5yZWdpc3Rlcih7W2lpXTpbaSx0LGVdfSkpfURlKCl7aWYodGhpcy5rZSYmdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZ0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXApcmV0dXJuW3RoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCx0aGlzLmtlLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcF07dmFyIHQ9dGhpcy55ZS5wcm9wc1tpaV07cmV0dXJuIFAodCkmJjI9PT10Lmxlbmd0aCYmdC5wdXNoKHRbMF0pLHR8fFswLG51bGwsMF19cmVzZXRTZXNzaW9uSWQoKXt0aGlzLkZlKG51bGwsbnVsbCxudWxsKX1kZXN0cm95KCl7Y2xlYXJUaW1lb3V0KHRoaXMuTGUpLHRoaXMuTGU9dm9pZCAwLHRoaXMueGUmJnQmJih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLnhlLHtjYXB0dXJlOiExfSksdGhpcy54ZT12b2lkIDApLHRoaXMuU2U9W119TWUoKXt0aGlzLnhlPSgpPT57dGhpcy5PZSgpJiZGZS5YKHRoaXMuQ2UpfSxIdCh0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy54ZSx7Y2FwdHVyZTohMX0pfWNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKHQsaSl7aWYodm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PWkmJihpPW51bGwpLFwiYWx3YXlzXCI9PT10aGlzLkEuY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcignY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIicpO3ZhciBlPWl8fChuZXcgRGF0ZSkuZ2V0VGltZSgpLFtyLHMsbl09dGhpcy5EZSgpLG89dGhpcy5qZSgpLGE9aihuKSYmbj4wJiZNYXRoLmFicyhlLW4pPjg2NGU1LGw9ITEsdT0hcyxoPSF0JiZ0aGlzLkVlKGUscik7dXx8aHx8YT8ocz10aGlzLlBlKCksbz10aGlzLlRlKCksZW8uaW5mbyhcIm5ldyBzZXNzaW9uIElEIGdlbmVyYXRlZFwiLHtzZXNzaW9uSWQ6cyx3aW5kb3dJZDpvLGNoYW5nZVJlYXNvbjp7bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6aCxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX19KSxuPWUsbD0hMCk6b3x8KG89dGhpcy5UZSgpLGw9ITApO3ZhciBkPTA9PT1yfHwhdHx8YT9lOnIsdj0wPT09bj8obmV3IERhdGUpLmdldFRpbWUoKTpuO3JldHVybiB0aGlzLkFlKG8pLHRoaXMuRmUocyxkLHYpLHR8fHRoaXMuSWUoKSxsJiZ0aGlzLlNlLmZvckVhY2goKHQ9PnQocyxvLGw/e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0Omgsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCkpKSx7c2Vzc2lvbklkOnMsd2luZG93SWQ6byxzZXNzaW9uU3RhcnRUaW1lc3RhbXA6dixjaGFuZ2VSZWFzb246bD97bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6aCxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX06dm9pZCAwLGxhc3RBY3Rpdml0eVRpbWVzdGFtcDpyfX1JZSgpe2NsZWFyVGltZW91dCh0aGlzLkxlKSx0aGlzLkxlPXNldFRpbWVvdXQoKCgpPT57dmFyW3RdPXRoaXMuRGUoKTtpZih0aGlzLkVlKChuZXcgRGF0ZSkuZ2V0VGltZSgpLHQpKXt2YXIgaT10aGlzLmtlO3RoaXMucmVzZXRTZXNzaW9uSWQoKSx0aGlzLndlLmVtaXQoXCJmb3JjZWRJZGxlUmVzZXRcIix7aWRsZVNlc3Npb25JZDppfSl9fSksMS4xKnRoaXMuc2Vzc2lvblRpbWVvdXRNcyl9fXZhciBzbz1bXCIkc2V0X29uY2VcIixcIiRzZXRcIl0sbm89a3QoXCJbU2l0ZUFwcHNdXCIpO2NsYXNzIG9ve2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXQsdGhpcy5OZT1bXSx0aGlzLmFwcHM9e319Z2V0IGlzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5faW5zdGFuY2UuY29uZmlnLm9wdF9pbl9zaXRlX2FwcHN9VWUodCxpKXtpZihpKXt2YXIgZT10aGlzLmdsb2JhbHNGb3JFdmVudChpKTt0aGlzLk5lLnB1c2goZSksdGhpcy5OZS5sZW5ndGg+MWUzJiYodGhpcy5OZT10aGlzLk5lLnNsaWNlKDEwKSl9fWdldCBzaXRlQXBwTG9hZGVycygpe3ZhciB0O3JldHVybiBudWxsPT0odD12Ll9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHxudWxsPT0odD10W3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbl0pP3ZvaWQgMDp0LnNpdGVBcHBzfWluaXQoKXtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuUmkodGhpcy5VZS5iaW5kKHRoaXMpKTt0aGlzLnplPSgpPT57dCgpLHRoaXMuTmU9W10sdGhpcy56ZT12b2lkIDB9fX1nbG9iYWxzRm9yRXZlbnQodCl7dmFyIGksZSxyLHMsbixvLGE7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgcGF5bG9hZCBpcyByZXF1aXJlZFwiKTt2YXIgbD17fSx1PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRncm91cHNcIil8fFtdLGg9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9ncm91cF9wcm9wZXJ0aWVzXCIpfHx7fTtmb3IodmFyW2Qsdl1vZiBPYmplY3QuZW50cmllcyhoKSlsW2RdPXtpZDp1W2RdLHR5cGU6ZCxwcm9wZXJ0aWVzOnZ9O3Zhcnskc2V0X29uY2U6Yywkc2V0OmZ9PXQ7cmV0dXJue2V2ZW50Omcoe30sXyh0LHNvKSx7cHJvcGVydGllczpnKHt9LHQucHJvcGVydGllcyxmP3skc2V0Omcoe30sbnVsbCE9PShpPW51bGw9PShlPXQucHJvcGVydGllcyk/dm9pZCAwOmUuJHNldCkmJnZvaWQgMCE9PWk/aTp7fSxmKX06e30sYz97JHNldF9vbmNlOmcoe30sbnVsbCE9PShyPW51bGw9PShzPXQucHJvcGVydGllcyk/dm9pZCAwOnMuJHNldF9vbmNlKSYmdm9pZCAwIT09cj9yOnt9LGMpfTp7fSksZWxlbWVudHNfY2hhaW46bnVsbCE9PShuPW51bGw9PShvPXQucHJvcGVydGllcyk/dm9pZCAwOm8uJGVsZW1lbnRzX2NoYWluKSYmdm9pZCAwIT09bj9uOlwiXCIsZGlzdGluY3RfaWQ6bnVsbD09KGE9dC5wcm9wZXJ0aWVzKT92b2lkIDA6YS5kaXN0aW5jdF9pZH0pLHBlcnNvbjp7cHJvcGVydGllczp0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkc3RvcmVkX3BlcnNvbl9wcm9wZXJ0aWVzXCIpfSxncm91cHM6bH19c2V0dXBTaXRlQXBwKHQpe3ZhciBpPXRoaXMuYXBwc1t0LmlkXSxlPSgpPT57dmFyIGU7KCFpLmVycm9yZWQmJnRoaXMuTmUubGVuZ3RoJiYobm8uaW5mbyhcIlByb2Nlc3NpbmcgXCIrdGhpcy5OZS5sZW5ndGgrXCIgZXZlbnRzIGZvciBzaXRlIGFwcCB3aXRoIGlkIFwiK3QuaWQpLHRoaXMuTmUuZm9yRWFjaCgodD0+bnVsbD09aS5wcm9jZXNzRXZlbnQ/dm9pZCAwOmkucHJvY2Vzc0V2ZW50KHQpKSksaS5wcm9jZXNzZWRCdWZmZXI9ITApLE9iamVjdC52YWx1ZXModGhpcy5hcHBzKS5ldmVyeSgodD0+dC5wcm9jZXNzZWRCdWZmZXJ8fHQuZXJyb3JlZCkpKSYmKG51bGw9PShlPXRoaXMuemUpfHxlLmNhbGwodGhpcykpfSxyPSExLHM9cz0+e2kuZXJyb3JlZD0hcyxpLmxvYWRlZD0hMCxuby5pbmZvKFwiU2l0ZSBhcHAgd2l0aCBpZCBcIit0LmlkK1wiIFwiKyhzP1wibG9hZGVkXCI6XCJlcnJvcmVkXCIpKSxyJiZlKCl9O3RyeXt2YXJ7cHJvY2Vzc0V2ZW50Om59PXQuaW5pdCh7cG9zdGhvZzp0aGlzLl9pbnN0YW5jZSxjYWxsYmFjazp0PT57cyh0KX19KTtuJiYoaS5wcm9jZXNzRXZlbnQ9bikscj0hMH1jYXRjaChpKXtuby5lcnJvcihcIkVycm9yIHdoaWxlIGluaXRpYWxpemluZyBQb3N0SG9nIGFwcCB3aXRoIGNvbmZpZyBpZCBcIit0LmlkLGkpLHMoITEpfWlmKHImJmkubG9hZGVkKXRyeXtlKCl9Y2F0Y2goZSl7bm8uZXJyb3IoXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGJ1ZmZlcmVkIGV2ZW50cyBQb3N0SG9nIGFwcCB3aXRoIGNvbmZpZyBpZCBcIit0LmlkLGUpLGkuZXJyb3JlZD0hMH19SGUoKXt2YXIgdD10aGlzLnNpdGVBcHBMb2FkZXJzfHxbXTtmb3IodmFyIGkgb2YgdCl0aGlzLmFwcHNbaS5pZF09e2lkOmkuaWQsbG9hZGVkOiExLGVycm9yZWQ6ITEscHJvY2Vzc2VkQnVmZmVyOiExfTtmb3IodmFyIGUgb2YgdCl0aGlzLnNldHVwU2l0ZUFwcChlKX1CZSh0KXtpZigwIT09T2JqZWN0LmtleXModGhpcy5hcHBzKS5sZW5ndGgpe3ZhciBpPXRoaXMuZ2xvYmFsc0ZvckV2ZW50KHQpO2Zvcih2YXIgZSBvZiBPYmplY3QudmFsdWVzKHRoaXMuYXBwcykpdHJ5e251bGw9PWUucHJvY2Vzc0V2ZW50fHxlLnByb2Nlc3NFdmVudChpKX1jYXRjaChpKXtuby5lcnJvcihcIkVycm9yIHdoaWxlIHByb2Nlc3NpbmcgZXZlbnQgXCIrdC5ldmVudCtcIiBmb3Igc2l0ZSBhcHAgXCIrZS5pZCxpKX19fW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLGUscixzPXRoaXM7aWYobnVsbCE9KGk9dGhpcy5zaXRlQXBwTG9hZGVycykmJmkubGVuZ3RoKXJldHVybiB0aGlzLmlzRW5hYmxlZD8odGhpcy5IZSgpLHZvaWQgdGhpcy5faW5zdGFuY2Uub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PnRoaXMuQmUodCkpKSk6dm9pZCBuby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpO2lmKG51bGw9PShlPXRoaXMuemUpfHxlLmNhbGwodGhpcyksbnVsbCE9KHI9dC5zaXRlQXBwcykmJnIubGVuZ3RoKWlmKHRoaXMuaXNFbmFibGVkKXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgaTt2W1wiX18kJHBoX3NpdGVfYXBwX1wiK3RdPXMuX2luc3RhbmNlLG51bGw9PShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09aS5sb2FkU2l0ZUFwcHx8aS5sb2FkU2l0ZUFwcChzLl9pbnN0YW5jZSxhLChpPT57aWYoaSlyZXR1cm4gbm8uZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIrdCxpKX0pKX07Zm9yKHZhcntpZDpvLHVybDphfW9mIHQuc2l0ZUFwcHMpbihvKX1lbHNlIG5vLmVycm9yKCdQb3N0SG9nIHNpdGUgYXBwcyBhcmUgZGlzYWJsZWQuIEVuYWJsZSB0aGUgXCJvcHRfaW5fc2l0ZV9hcHBzXCIgY29uZmlnIHRvIHByb2NlZWQuJyl9fXZhciBhbz1bXCJhbWF6b25ib3RcIixcImFtYXpvbnByb2R1Y3Rib3RcIixcImFwcC5oeXBlZmFjdG9ycy5jb21cIixcImFwcGxlYm90XCIsXCJhcmNoaXZlLm9yZ19ib3RcIixcImF3YXJpb2JvdFwiLFwiYmFja2xpbmtzZXh0ZW5kZWRib3RcIixcImJhaWR1c3BpZGVyXCIsXCJiaW5nYm90XCIsXCJiaW5ncHJldmlld1wiLFwiY2hyb21lLWxpZ2h0aG91c2VcIixcImRhdGFmb3JzZW9ib3RcIixcImRlZXBzY2FuXCIsXCJkdWNrZHVja2JvdFwiLFwiZmFjZWJvb2tleHRlcm5hbFwiLFwiZmFjZWJvb2tjYXRhbG9nXCIsXCJodHRwOi8veWFuZGV4LmNvbS9ib3RzXCIsXCJodWJzcG90XCIsXCJpYV9hcmNoaXZlclwiLFwibGVpa2lib3RcIixcImxpbmtlZGluYm90XCIsXCJtZXRhLWV4dGVybmFsYWdlbnRcIixcIm1qMTJib3RcIixcIm1zbmJvdFwiLFwibmVzc3VzXCIsXCJwZXRhbGJvdFwiLFwicGludGVyZXN0XCIsXCJwcmVyZW5kZXJcIixcInJvZ2VyYm90XCIsXCJzY3JlYW1pbmcgZnJvZ1wiLFwic2Vib3Qtd2FcIixcInNpdGVidWxiXCIsXCJzbGFja2JvdFwiLFwic2x1cnBcIixcInRyZW5kaWN0aW9uYm90XCIsXCJ0dXJuaXRpblwiLFwidHdpdHRlcmJvdFwiLFwidmVyY2VsLXNjcmVlbnNob3RcIixcInZlcmNlbGJvdFwiLFwieWFob28hIHNsdXJwXCIsXCJ5YW5kZXhib3RcIixcInpvb21ib3RcIixcImJvdC5odG1cIixcImJvdC5waHBcIixcIihib3Q7XCIsXCJib3QvXCIsXCJjcmF3bGVyXCIsXCJhaHJlZnNib3RcIixcImFocmVmc3NpdGVhdWRpdFwiLFwic2VtcnVzaGJvdFwiLFwic2l0ZWF1ZGl0Ym90XCIsXCJzcGxpdHNpZ25hbGJvdFwiLFwiZ3B0Ym90XCIsXCJvYWktc2VhcmNoYm90XCIsXCJjaGF0Z3B0LXVzZXJcIixcInBlcnBsZXhpdHlib3RcIixcImJldHRlciB1cHRpbWUgYm90XCIsXCJzZW50cnl1cHRpbWVib3RcIixcInVwdGltZXJvYm90XCIsXCJoZWFkbGVzc2Nocm9tZVwiLFwiY3lwcmVzc1wiLFwiZ29vZ2xlLWhvdGVsYWRzdmVyaWZpZXJcIixcImFkc2JvdC1nb29nbGVcIixcImFwaXMtZ29vZ2xlXCIsXCJkdXBsZXh3ZWItZ29vZ2xlXCIsXCJmZWVkZmV0Y2hlci1nb29nbGVcIixcImdvb2dsZSBmYXZpY29uXCIsXCJnb29nbGUgd2ViIHByZXZpZXdcIixcImdvb2dsZS1yZWFkLWFsb3VkXCIsXCJnb29nbGVib3RcIixcImdvb2dsZW90aGVyXCIsXCJnb29nbGUtY2xvdWR2ZXJ0ZXhib3RcIixcImdvb2dsZXdlYmxpZ2h0XCIsXCJtZWRpYXBhcnRuZXJzLWdvb2dsZVwiLFwic3RvcmVib3QtZ29vZ2xlXCIsXCJnb29nbGUtaW5zcGVjdGlvbnRvb2xcIixcImJ5dGVzcGlkZXJcIl0sbG89ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4hMTt2YXIgZT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGFvLmNvbmNhdChpfHxbXSkuc29tZSgodD0+e3ZhciBpPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4tMSE9PWUuaW5kZXhPZihpKX0pKX0sdW89ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4hMTt2YXIgZT10LnVzZXJBZ2VudDtpZihlJiZsbyhlLGkpKXJldHVybiEwO3RyeXt2YXIgcj1udWxsPT10P3ZvaWQgMDp0LnVzZXJBZ2VudERhdGE7aWYobnVsbCE9ciYmci5icmFuZHMmJnIuYnJhbmRzLnNvbWUoKHQ9PmxvKG51bGw9PXQ/dm9pZCAwOnQuYnJhbmQsaSkpKSlyZXR1cm4hMH1jYXRjaCh0KXt9cmV0dXJuISF0LndlYmRyaXZlcn0saG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuVVM9XCJ1c1wiLHQuRVU9XCJldVwiLHQuQ1VTVE9NPVwiY3VzdG9tXCIsdH0oe30pLHZvPVwiaS5wb3N0aG9nLmNvbVwiO2NsYXNzIGNve2NvbnN0cnVjdG9yKHQpe3RoaXMucWU9e30sdGhpcy5pbnN0YW5jZT10fWdldCBhcGlIb3N0KCl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuYXBpX2hvc3QudHJpbSgpLnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVyblwiaHR0cHM6Ly9hcHAucG9zdGhvZy5jb21cIj09PXQ/XCJodHRwczovL3VzLmkucG9zdGhvZy5jb21cIjp0fWdldCB1aUhvc3QoKXt2YXIgdCxpPW51bGw9PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnVpX2hvc3QpP3ZvaWQgMDp0LnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVybiBpfHwoaT10aGlzLmFwaUhvc3QucmVwbGFjZShcIi5cIit2byxcIi5wb3N0aG9nLmNvbVwiKSksXCJodHRwczovL2FwcC5wb3N0aG9nLmNvbVwiPT09aT9cImh0dHBzOi8vdXMucG9zdGhvZy5jb21cIjppfWdldCByZWdpb24oKXtyZXR1cm4gdGhpcy5xZVt0aGlzLmFwaUhvc3RdfHwoL2h0dHBzOlxcL1xcLyhhcHB8dXN8dXMtYXNzZXRzKShcXC5pKT9cXC5wb3N0aG9nXFwuY29tL2kudGVzdCh0aGlzLmFwaUhvc3QpP3RoaXMucWVbdGhpcy5hcGlIb3N0XT1oby5VUzovaHR0cHM6XFwvXFwvKGV1fGV1LWFzc2V0cykoXFwuaSk/XFwucG9zdGhvZ1xcLmNvbS9pLnRlc3QodGhpcy5hcGlIb3N0KT90aGlzLnFlW3RoaXMuYXBpSG9zdF09aG8uRVU6dGhpcy5xZVt0aGlzLmFwaUhvc3RdPWhvLkNVU1RPTSksdGhpcy5xZVt0aGlzLmFwaUhvc3RdfWVuZHBvaW50Rm9yKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9XCJcIiksaSYmKGk9XCIvXCI9PT1pWzBdP2k6XCIvXCIraSksXCJ1aVwiPT09dClyZXR1cm4gdGhpcy51aUhvc3QraTtpZih0aGlzLnJlZ2lvbj09PWhvLkNVU1RPTSlyZXR1cm4gdGhpcy5hcGlIb3N0K2k7dmFyIGU9dm8raTtzd2l0Y2godCl7Y2FzZVwiYXNzZXRzXCI6cmV0dXJuXCJodHRwczovL1wiK3RoaXMucmVnaW9uK1wiLWFzc2V0cy5cIitlO2Nhc2VcImFwaVwiOnJldHVyblwiaHR0cHM6Ly9cIit0aGlzLnJlZ2lvbitcIi5cIitlfX19dmFyIGZvPXtpY29udGFpbnM6KGksZSk9PiEhdCYmZS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpLnRvTG93ZXJDYXNlKCkpPi0xLG5vdF9pY29udGFpbnM6KGksZSk9PiEhdCYmLTE9PT1lLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGkudG9Mb3dlckNhc2UoKSkscmVnZXg6KGksZSk9PiEhdCYmbG4oZS5ocmVmLGkpLG5vdF9yZWdleDooaSxlKT0+ISF0JiYhbG4oZS5ocmVmLGkpLGV4YWN0Oih0LGkpPT5pLmhyZWY9PT10LGlzX25vdDoodCxpKT0+aS5ocmVmIT09dH07Y2xhc3MgcG97Y29uc3RydWN0b3IodCl7dmFyIGk9dGhpczt0aGlzLmdldFdlYkV4cGVyaW1lbnRzQW5kRXZhbHVhdGVEaXNwbGF5TG9naWM9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ITEpLGkuZ2V0V2ViRXhwZXJpbWVudHMoKHQ9Pntwby5XZShcInJldHJpZXZlZCB3ZWIgZXhwZXJpbWVudHMgZnJvbSB0aGUgc2VydmVyXCIpLGkuR2U9bmV3IE1hcCx0LmZvckVhY2goKHQ9PntpZih0LmZlYXR1cmVfZmxhZ19rZXkpe3ZhciBlO2lmKGkuR2UpcG8uV2UoXCJzZXR0aW5nIGZsYWcga2V5IFwiLHQuZmVhdHVyZV9mbGFnX2tleSxcIiB0byB3ZWIgZXhwZXJpbWVudCBcIix0KSxudWxsPT0oZT1pLkdlKXx8ZS5zZXQodC5mZWF0dXJlX2ZsYWdfa2V5LHQpO3ZhciByPWkuX2luc3RhbmNlLmdldEZlYXR1cmVGbGFnKHQuZmVhdHVyZV9mbGFnX2tleSk7TyhyKSYmdC52YXJpYW50c1tyXSYmaS5WZSh0Lm5hbWUscix0LnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfWVsc2UgaWYodC52YXJpYW50cylmb3IodmFyIHMgaW4gdC52YXJpYW50cyl7dmFyIG49dC52YXJpYW50c1tzXTtwby5KZShuKSYmaS5WZSh0Lm5hbWUscyxuLnRyYW5zZm9ybXMpfX0pKX0pLHQpfSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuX2luc3RhbmNlLm9uRmVhdHVyZUZsYWdzKCh0PT57dGhpcy5vbkZlYXR1cmVGbGFncyh0KX0pKX1vbkZlYXR1cmVGbGFncyh0KXtpZih0aGlzLl9pc19ib3QoKSlwby5XZShcIlJlZnVzaW5nIHRvIHJlbmRlciB3ZWIgZXhwZXJpbWVudCBzaW5jZSB0aGUgdmlld2VyIGlzIGEgbGlrZWx5IGJvdFwiKTtlbHNlIGlmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMpe2lmKEEodGhpcy5HZSkpcmV0dXJuIHRoaXMuR2U9bmV3IE1hcCx0aGlzLmxvYWRJZkVuYWJsZWQoKSx2b2lkIHRoaXMucHJldmlld1dlYkV4cGVyaW1lbnQoKTtwby5XZShcImFwcGx5aW5nIGZlYXR1cmUgZmxhZ3NcIix0KSx0LmZvckVhY2goKHQ9Pnt2YXIgaTtpZih0aGlzLkdlJiZudWxsIT0oaT10aGlzLkdlKSYmaS5oYXModCkpe3ZhciBlLHI9dGhpcy5faW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcodCkscz1udWxsPT0oZT10aGlzLkdlKT92b2lkIDA6ZS5nZXQodCk7ciYmbnVsbCE9cyYmcy52YXJpYW50c1tyXSYmdGhpcy5WZShzLm5hbWUscixzLnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfX0pKX19cHJldmlld1dlYkV4cGVyaW1lbnQoKXt2YXIgdD1wby5nZXRXaW5kb3dMb2NhdGlvbigpO2lmKG51bGwhPXQmJnQuc2VhcmNoKXt2YXIgaT1uZShudWxsPT10P3ZvaWQgMDp0LnNlYXJjaCxcIl9fZXhwZXJpbWVudF9pZFwiKSxlPW5lKG51bGw9PXQ/dm9pZCAwOnQuc2VhcmNoLFwiX19leHBlcmltZW50X3ZhcmlhbnRcIik7aSYmZSYmKHBvLldlKFwicHJldmlld2luZyB3ZWIgZXhwZXJpbWVudHMgXCIraStcIiAmJiBcIitlKSx0aGlzLmdldFdlYkV4cGVyaW1lbnRzKCh0PT57dGhpcy5LZShwYXJzZUludChpKSxlLHQpfSksITEsITApKX19bG9hZElmRW5hYmxlZCgpe3RoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50c3x8dGhpcy5nZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljKCl9Z2V0V2ViRXhwZXJpbWVudHModCxpLGUpe2lmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50cyYmIWUpcmV0dXJuIHQoW10pO3ZhciByPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiR3ZWJfZXhwZXJpbWVudHNcIik7aWYociYmIWkpcmV0dXJuIHQocik7dGhpcy5faW5zdGFuY2UudWkoe3VybDp0aGlzLl9pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvYXBpL3dlYl9leHBlcmltZW50cy8/dG9rZW49XCIrdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazppPT57aWYoMjAwIT09aS5zdGF0dXNDb2RlfHwhaS5qc29uKXJldHVybiB0KFtdKTt2YXIgZT1pLmpzb24uZXhwZXJpbWVudHN8fFtdO3JldHVybiB0KGUpfX0pfUtlKHQsaSxlKXt2YXIgcj1lLmZpbHRlcigoaT0+aS5pZD09PXQpKTtyJiZyLmxlbmd0aD4wJiYocG8uV2UoXCJQcmV2aWV3aW5nIHdlYiBleHBlcmltZW50IFtcIityWzBdLm5hbWUrXCJdIHdpdGggdmFyaWFudCBbXCIraStcIl1cIiksdGhpcy5WZShyWzBdLm5hbWUsaSxyWzBdLnZhcmlhbnRzW2ldLnRyYW5zZm9ybXMpKX1zdGF0aWMgSmUodCl7cmV0dXJuIUEodC5jb25kaXRpb25zKSYmKHBvLlllKHQpJiZwby5YZSh0KSl9c3RhdGljIFllKHQpe3ZhciBpO2lmKEEodC5jb25kaXRpb25zKXx8QShudWxsPT0oaT10LmNvbmRpdGlvbnMpP3ZvaWQgMDppLnVybCkpcmV0dXJuITA7dmFyIGUscixzLG49cG8uZ2V0V2luZG93TG9jYXRpb24oKTtyZXR1cm4hIW4mJihudWxsPT0oZT10LmNvbmRpdGlvbnMpfHwhZS51cmx8fGZvW251bGwhPT0ocj1udWxsPT0ocz10LmNvbmRpdGlvbnMpP3ZvaWQgMDpzLnVybE1hdGNoVHlwZSkmJnZvaWQgMCE9PXI/cjpcImljb250YWluc1wiXSh0LmNvbmRpdGlvbnMudXJsLG4pKX1zdGF0aWMgZ2V0V2luZG93TG9jYXRpb24oKXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbn1zdGF0aWMgWGUodCl7dmFyIGk7aWYoQSh0LmNvbmRpdGlvbnMpfHxBKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkudXRtKSlyZXR1cm4hMDt2YXIgZT1ycygpO2lmKGUudXRtX3NvdXJjZSl7dmFyIHIscyxuLG8sYSxsLHUsaCxkPW51bGw9PShyPXQuY29uZGl0aW9ucyl8fG51bGw9PShyPXIudXRtKXx8IXIudXRtX2NhbXBhaWdufHwobnVsbD09KHM9dC5jb25kaXRpb25zKXx8bnVsbD09KHM9cy51dG0pP3ZvaWQgMDpzLnV0bV9jYW1wYWlnbik9PWUudXRtX2NhbXBhaWduLHY9bnVsbD09KG49dC5jb25kaXRpb25zKXx8bnVsbD09KG49bi51dG0pfHwhbi51dG1fc291cmNlfHwobnVsbD09KG89dC5jb25kaXRpb25zKXx8bnVsbD09KG89by51dG0pP3ZvaWQgMDpvLnV0bV9zb3VyY2UpPT1lLnV0bV9zb3VyY2UsYz1udWxsPT0oYT10LmNvbmRpdGlvbnMpfHxudWxsPT0oYT1hLnV0bSl8fCFhLnV0bV9tZWRpdW18fChudWxsPT0obD10LmNvbmRpdGlvbnMpfHxudWxsPT0obD1sLnV0bSk/dm9pZCAwOmwudXRtX21lZGl1bSk9PWUudXRtX21lZGl1bSxmPW51bGw9PSh1PXQuY29uZGl0aW9ucyl8fG51bGw9PSh1PXUudXRtKXx8IXUudXRtX3Rlcm18fChudWxsPT0oaD10LmNvbmRpdGlvbnMpfHxudWxsPT0oaD1oLnV0bSk/dm9pZCAwOmgudXRtX3Rlcm0pPT1lLnV0bV90ZXJtO3JldHVybiBkJiZjJiZmJiZ2fXJldHVybiExfXN0YXRpYyBXZSh0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07JHQuaW5mbyhcIltXZWJFeHBlcmltZW50c10gXCIrdCxlKX1WZSh0LGksZSl7dGhpcy5faXNfYm90KCk/cG8uV2UoXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik6XCJjb250cm9sXCIhPT1pP2UuZm9yRWFjaCgoZT0+e2lmKGUuc2VsZWN0b3Ipe3ZhciByO3BvLldlKFwiYXBwbHlpbmcgdHJhbnNmb3JtIG9mIHZhcmlhbnQgXCIraStcIiBmb3IgZXhwZXJpbWVudCBcIit0K1wiIFwiLGUpO3ZhciBzPW51bGw9PShyPWRvY3VtZW50KT92b2lkIDA6ci5xdWVyeVNlbGVjdG9yQWxsKGUuc2VsZWN0b3IpO251bGw9PXN8fHMuZm9yRWFjaCgodD0+e3ZhciBpPXQ7ZS5odG1sJiYoaS5pbm5lckhUTUw9ZS5odG1sKSxlLmNzcyYmaS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGUuY3NzKX0pKX19KSk6cG8uV2UoXCJDb250cm9sIHZhcmlhbnRzIGxlYXZlIHRoZSBwYWdlIHVubW9kaWZpZWQuXCIpfV9pc19ib3QoKXtyZXR1cm4gbiYmdGhpcy5faW5zdGFuY2U/dW8obix0aGlzLl9pbnN0YW5jZS5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfX12YXIgZ289a3QoXCJbUG9zdEhvZyBFeHRlcm5hbEludGVncmF0aW9uc11cIiksX289e2ludGVyY29tOlwiaW50ZXJjb20taW50ZWdyYXRpb25cIixjcmlzcENoYXQ6XCJjcmlzcC1jaGF0LWludGVncmF0aW9uXCJ9O2NsYXNzIG1ve2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9bnQodCxpKXt2YXIgZTtudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLHQsKHQ9PntpZih0KXJldHVybiBnby5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLHQpO2koKX0pKX1zdGFydElmRW5hYmxlZE9yU3RvcCgpe3ZhciB0PXRoaXMsaT1mdW5jdGlvbihpKXt2YXIgZSxzLG47KCFyfHxudWxsIT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJm51bGwhPShlPWUuaW50ZWdyYXRpb25zKSYmZVtpXXx8dC5udChfb1tpXSwoKCk9Pnt2YXIgZTtudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShlPWUuaW50ZWdyYXRpb25zKXx8bnVsbD09KGU9ZVtpXSl8fGUuc3RhcnQodC5faW5zdGFuY2UpfSkpLCFyJiZudWxsIT0ocz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJm51bGwhPShzPXMuaW50ZWdyYXRpb25zKSYmc1tpXSkmJihudWxsPT0obj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShuPW4uaW50ZWdyYXRpb25zKXx8bnVsbD09KG49bltpXSl8fG4uc3RvcCgpKX07Zm9yKHZhcltlLHJdb2YgT2JqZWN0LmVudHJpZXMobnVsbCE9PShzPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5pbnRlZ3JhdGlvbnMpJiZ2b2lkIDAhPT1zP3M6e30pKXt2YXIgcztpKGUpfX19dmFyIHlvPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIsYm89a3QoeW8pO2NsYXNzIHdve2dldCBzdGFydGVkKCl7dmFyIHQ7cmV0dXJuIShudWxsPT0odD10aGlzLlFlKXx8IXQuaXNTdGFydGVkKX1nZXQgc3RhdHVzKCl7cmV0dXJuIHRoaXMuUWU/dGhpcy5RZS5zdGF0dXM6dGhpcy5aZSYmIXRoaXMudHI/XCJkaXNhYmxlZFwiOlwibGF6eV9sb2FkaW5nXCJ9Y29uc3RydWN0b3IodCl7aWYodGhpcy5fZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlPSExLHRoaXMuWmU9ITEsdGhpcy5pcj12b2lkIDAsdGhpcy5faW5zdGFuY2U9dCwhdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpdGhyb3cgYm8uZXJyb3IoXCJzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXJcIiksbmV3IEVycm9yKHlvK1wiIHN0YXJ0ZWQgd2l0aG91dCB2YWxpZCBzZXNzaW9uTWFuYWdlci4gVGhpcyBpcyBhIGJ1Zy5cIik7aWYoXCJhbHdheXNcIj09PXRoaXMuX2luc3RhbmNlLmNvbmZpZy5jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKHlvKycgY2Fubm90IGJlIHVzZWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIicpfWdldCB0cigpe3ZhciBpLGU9IShudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkodGkpKXx8IWkuZW5hYmxlZCkscj0hdGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmcscz10aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZ3x8dGhpcy5faW5zdGFuY2UuY29uc2VudC5pc09wdGVkT3V0KCk7cmV0dXJuIHQmJmUmJnImJiFzfXN0YXJ0SWZFbmFibGVkT3JTdG9wKHQpe3ZhciBpO2lmKCF0aGlzLnRyfHxudWxsPT0oaT10aGlzLlFlKXx8IWkuaXNTdGFydGVkKXt2YXIgZT0hQyhPYmplY3QuYXNzaWduKSYmIUMoQXJyYXkuZnJvbSk7dGhpcy50ciYmZT8odGhpcy5lcih0KSxiby5pbmZvKFwic3RhcnRpbmdcIikpOnRoaXMuc3RvcFJlY29yZGluZygpfX1lcih0KXt2YXIgaSxlLHI7dGhpcy50ciYmKG51bGwhPXYmJm51bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmbnVsbCE9KGk9aS5ycndlYikmJmkucmVjb3JkJiZudWxsIT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmUuaW5pdFNlc3Npb25SZWNvcmRpbmc/dGhpcy5ycih0KTpudWxsPT0ocj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PXIubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ci5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLHRoaXMuc3IsKGk9PntpZihpKXJldHVybiBiby5lcnJvcihcImNvdWxkIG5vdCBsb2FkIHJlY29yZGVyXCIsaSk7dGhpcy5ycih0KX0pKSl9c3RvcFJlY29yZGluZygpe3ZhciB0LGk7bnVsbD09KHQ9dGhpcy5pcil8fHQuY2FsbCh0aGlzKSx0aGlzLmlyPXZvaWQgMCxudWxsPT0oaT10aGlzLlFlKXx8aS5zdG9wKCl9bnIoKXt2YXIgdDtudWxsPT0odD10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHQudW5yZWdpc3RlcihlaSl9YXIodCl7aWYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Upe3ZhciBpLGUscj10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSxzPSgpPT57dmFyIGk9ITE9PT10LnNlc3Npb25SZWNvcmRpbmc/dm9pZCAwOnQuc2Vzc2lvblJlY29yZGluZyxlPW51bGw9PWk/dm9pZCAwOmkuc2FtcGxlUmF0ZSxzPUEoZSk/bnVsbDpwYXJzZUZsb2F0KGUpO0EocykmJnRoaXMubnIoKTt2YXIgbj1udWxsPT1pP3ZvaWQgMDppLm1pbmltdW1EdXJhdGlvbk1pbGxpc2Vjb25kcztyLnJlZ2lzdGVyKHtbdGldOmcoe2VuYWJsZWQ6ISFpfSxpLHtuZXR3b3JrUGF5bG9hZENhcHR1cmU6Zyh7Y2FwdHVyZVBlcmZvcm1hbmNlOnQuY2FwdHVyZVBlcmZvcm1hbmNlfSxudWxsPT1pP3ZvaWQgMDppLm5ldHdvcmtQYXlsb2FkQ2FwdHVyZSksY2FudmFzUmVjb3JkaW5nOntlbmFibGVkOm51bGw9PWk/dm9pZCAwOmkucmVjb3JkQ2FudmFzLGZwczpudWxsPT1pP3ZvaWQgMDppLmNhbnZhc0ZwcyxxdWFsaXR5Om51bGw9PWk/dm9pZCAwOmkuY2FudmFzUXVhbGl0eX0sc2FtcGxlUmF0ZTpzLG1pbmltdW1EdXJhdGlvbk1pbGxpc2Vjb25kczpDKG4pP251bGw6bixlbmRwb2ludDpudWxsPT1pP3ZvaWQgMDppLmVuZHBvaW50LHRyaWdnZXJNYXRjaFR5cGU6bnVsbD09aT92b2lkIDA6aS50cmlnZ2VyTWF0Y2hUeXBlLG1hc2tpbmc6bnVsbD09aT92b2lkIDA6aS5tYXNraW5nLHVybFRyaWdnZXJzOm51bGw9PWk/dm9pZCAwOmkudXJsVHJpZ2dlcnN9KX0pfTtzKCksbnVsbD09KGk9dGhpcy5pcil8fGkuY2FsbCh0aGlzKSx0aGlzLmlyPW51bGw9PShlPXRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyKT92b2lkIDA6ZS5vblNlc3Npb25JZChzKX19b25SZW1vdGVDb25maWcodCl7XCJzZXNzaW9uUmVjb3JkaW5nXCJpbiB0PyExIT09dC5zZXNzaW9uUmVjb3JkaW5nPyh0aGlzLmFyKHQpLHRoaXMuWmU9ITAsdGhpcy5zdGFydElmRW5hYmxlZE9yU3RvcCgpKTp0aGlzLlplPSEwOmJvLmluZm8oXCJza2lwcGluZyByZW1vdGUgY29uZmlnIHdpdGggbm8gc2Vzc2lvblJlY29yZGluZ1wiLHQpfWxvZyh0LGkpe3ZhciBlO3ZvaWQgMD09PWkmJihpPVwibG9nXCIpLG51bGwhPShlPXRoaXMuUWUpJiZlLmxvZz90aGlzLlFlLmxvZyh0LGkpOmJvLndhcm4oXCJsb2cgY2FsbGVkIGJlZm9yZSByZWNvcmRlciB3YXMgcmVhZHlcIil9Z2V0IHNyKCl7dmFyIHQsaSxlPW51bGw9PSh0PXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KHQ9dC5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KHRpKTtyZXR1cm4obnVsbD09ZXx8bnVsbD09KGk9ZS5zY3JpcHRDb25maWcpP3ZvaWQgMDppLnNjcmlwdCl8fFwibGF6eS1yZWNvcmRlclwifXJyKHQpe3ZhciBpLGU7aWYobnVsbD09KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHwhaS5pbml0U2Vzc2lvblJlY29yZGluZyl0aHJvdyBFcnJvcihcIkNhbGxlZCBvbiBzY3JpcHQgbG9hZGVkIGJlZm9yZSBzZXNzaW9uIHJlY29yZGluZyBpcyBhdmFpbGFibGVcIik7dGhpcy5RZXx8KHRoaXMuUWU9bnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pP3ZvaWQgMDplLmluaXRTZXNzaW9uUmVjb3JkaW5nKHRoaXMuX2luc3RhbmNlKSx0aGlzLlFlLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU9dGhpcy5fZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlKTt0aGlzLlFlLnN0YXJ0KHQpfW9uUlJ3ZWJFbWl0KHQpe3ZhciBpO251bGw9PShpPXRoaXMuUWUpfHxudWxsPT1pLm9uUlJ3ZWJFbWl0fHxpLm9uUlJ3ZWJFbWl0KHQpfW92ZXJyaWRlTGlua2VkRmxhZygpe3ZhciB0O251bGw9PSh0PXRoaXMuUWUpfHx0Lm92ZXJyaWRlTGlua2VkRmxhZygpfW92ZXJyaWRlU2FtcGxpbmcoKXt2YXIgdDtudWxsPT0odD10aGlzLlFlKXx8dC5vdmVycmlkZVNhbXBsaW5nKCl9b3ZlcnJpZGVUcmlnZ2VyKHQpe3ZhciBpO251bGw9PShpPXRoaXMuUWUpfHxpLm92ZXJyaWRlVHJpZ2dlcih0KX1nZXQgc2RrRGVidWdQcm9wZXJ0aWVzKCl7dmFyIHQ7cmV0dXJuKG51bGw9PSh0PXRoaXMuUWUpP3ZvaWQgMDp0LnNka0RlYnVnUHJvcGVydGllcyl8fHskcmVjb3JkaW5nX3N0YXR1czp0aGlzLnN0YXR1c319dHJ5QWRkQ3VzdG9tRXZlbnQodCxpKXt2YXIgZTtyZXR1cm4hKG51bGw9PShlPXRoaXMuUWUpfHwhZS50cnlBZGRDdXN0b21FdmVudCh0LGkpKX19dmFyIFNvPXt9LHhvPSgpPT57fSxFbz1cInBvc3Rob2dcIiwkbz0hZW4mJi0xPT09KG51bGw9PWQ/dm9pZCAwOmQuaW5kZXhPZihcIk1TSUVcIikpJiYtMT09PShudWxsPT1kP3ZvaWQgMDpkLmluZGV4T2YoXCJNb3ppbGxhXCIpKSxrbz1pPT57dmFyIGU7cmV0dXJue2FwaV9ob3N0OlwiaHR0cHM6Ly91cy5pLnBvc3Rob2cuY29tXCIsdWlfaG9zdDpudWxsLHRva2VuOlwiXCIsYXV0b2NhcHR1cmU6ITAscmFnZWNsaWNrOiEwLGNyb3NzX3N1YmRvbWFpbl9jb29raWU6VXQobnVsbD09bz92b2lkIDA6by5sb2NhdGlvbikscGVyc2lzdGVuY2U6XCJsb2NhbFN0b3JhZ2UrY29va2llXCIscGVyc2lzdGVuY2VfbmFtZTpcIlwiLGxvYWRlZDp4byxzYXZlX2NhbXBhaWduX3BhcmFtczohMCxjdXN0b21fY2FtcGFpZ25fcGFyYW1zOltdLGN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHM6W10sc2F2ZV9yZWZlcnJlcjohMCxjYXB0dXJlX3BhZ2V2aWV3OlwiMjAyNS0wNS0yNFwiIT09aXx8XCJoaXN0b3J5X2NoYW5nZVwiLGNhcHR1cmVfcGFnZWxlYXZlOlwiaWZfY2FwdHVyZV9wYWdldmlld1wiLGRlZmF1bHRzOm51bGwhPWk/aTpcInVuc2V0XCIsZGVidWc6YSYmTyhudWxsPT1hP3ZvaWQgMDphLnNlYXJjaCkmJi0xIT09YS5zZWFyY2guaW5kZXhPZihcIl9fcG9zdGhvZ19kZWJ1Zz10cnVlXCIpfHwhMSxjb29raWVfZXhwaXJhdGlvbjozNjUsdXBncmFkZTohMSxkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiExLGRpc2FibGVfcGVyc2lzdGVuY2U6ITEsZGlzYWJsZV93ZWJfZXhwZXJpbWVudHM6ITAsZGlzYWJsZV9zdXJ2ZXlzOiExLGRpc2FibGVfc3VydmV5c19hdXRvbWF0aWNfZGlzcGxheTohMSxkaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZzohMSxlbmFibGVfcmVjb3JkaW5nX2NvbnNvbGVfbG9nOnZvaWQgMCxzZWN1cmVfY29va2llOlwiaHR0cHM6XCI9PT0obnVsbD09dHx8bnVsbD09KGU9dC5sb2NhdGlvbik/dm9pZCAwOmUucHJvdG9jb2wpLGlwOiExLG9wdF9vdXRfY2FwdHVyaW5nX2J5X2RlZmF1bHQ6ITEsb3B0X291dF9wZXJzaXN0ZW5jZV9ieV9kZWZhdWx0OiExLG9wdF9vdXRfdXNlcmFnZW50X2ZpbHRlcjohMSxvcHRfb3V0X2NhcHR1cmluZ19wZXJzaXN0ZW5jZV90eXBlOlwibG9jYWxTdG9yYWdlXCIsY29uc2VudF9wZXJzaXN0ZW5jZV9uYW1lOm51bGwsb3B0X291dF9jYXB0dXJpbmdfY29va2llX3ByZWZpeDpudWxsLG9wdF9pbl9zaXRlX2FwcHM6ITEscHJvcGVydHlfZGVueWxpc3Q6W10scmVzcGVjdF9kbnQ6ITEsc2FuaXRpemVfcHJvcGVydGllczpudWxsLHJlcXVlc3RfaGVhZGVyczp7fSxyZXF1ZXN0X2JhdGNoaW5nOiEwLHByb3BlcnRpZXNfc3RyaW5nX21heF9sZW5ndGg6NjU1MzUsc2Vzc2lvbl9yZWNvcmRpbmc6e30sbWFza19hbGxfZWxlbWVudF9hdHRyaWJ1dGVzOiExLG1hc2tfYWxsX3RleHQ6ITEsbWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXM6ITEsY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllczpbXSxhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzOiExLGFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnczohMSxhZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZDohMSxhZHZhbmNlZF9vbmx5X2V2YWx1YXRlX3N1cnZleV9mZWF0dXJlX2ZsYWdzOiExLGFkdmFuY2VkX2VuYWJsZV9zdXJ2ZXlzOiExLGFkdmFuY2VkX2Rpc2FibGVfdG9vbGJhcl9tZXRyaWNzOiExLGZlYXR1cmVfZmxhZ19yZXF1ZXN0X3RpbWVvdXRfbXM6M2UzLHN1cnZleXNfcmVxdWVzdF90aW1lb3V0X21zOjFlNCxvbl9yZXF1ZXN0X2Vycm9yOnQ9Pnt2YXIgaT1cIkJhZCBIVFRQIHN0YXR1czogXCIrdC5zdGF0dXNDb2RlK1wiIFwiK3QudGV4dDskdC5lcnJvcihpKX0sZ2V0X2RldmljZV9pZDp0PT50LGNhcHR1cmVfcGVyZm9ybWFuY2U6dm9pZCAwLG5hbWU6XCJwb3N0aG9nXCIsYm9vdHN0cmFwOnt9LGRpc2FibGVfY29tcHJlc3Npb246ITEsc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kczoxODAwLHBlcnNvbl9wcm9maWxlczpcImlkZW50aWZpZWRfb25seVwiLGJlZm9yZV9zZW5kOnZvaWQgMCxyZXF1ZXN0X3F1ZXVlX2NvbmZpZzp7Zmx1c2hfaW50ZXJ2YWxfbXM6S259LGVycm9yX3RyYWNraW5nOnt9LF9vbkNhcHR1cmU6eG8sX19wcmV2aWV3X2VhZ2VyX2xvYWRfcmVwbGF5OiExfX0sUG89dD0+e3ZhciBpPXt9O0ModC5wcm9jZXNzX3BlcnNvbil8fChpLnBlcnNvbl9wcm9maWxlcz10LnByb2Nlc3NfcGVyc29uKSxDKHQueGhyX2hlYWRlcnMpfHwoaS5yZXF1ZXN0X2hlYWRlcnM9dC54aHJfaGVhZGVycyksQyh0LmNvb2tpZV9uYW1lKXx8KGkucGVyc2lzdGVuY2VfbmFtZT10LmNvb2tpZV9uYW1lKSxDKHQuZGlzYWJsZV9jb29raWUpfHwoaS5kaXNhYmxlX3BlcnNpc3RlbmNlPXQuZGlzYWJsZV9jb29raWUpLEModC5zdG9yZV9nb29nbGUpfHwoaS5zYXZlX2NhbXBhaWduX3BhcmFtcz10LnN0b3JlX2dvb2dsZSksQyh0LnZlcmJvc2UpfHwoaS5kZWJ1Zz10LnZlcmJvc2UpO3ZhciBlPU90KHt9LGksdCk7cmV0dXJuIFAodC5wcm9wZXJ0eV9ibGFja2xpc3QpJiYoQyh0LnByb3BlcnR5X2RlbnlsaXN0KT9lLnByb3BlcnR5X2RlbnlsaXN0PXQucHJvcGVydHlfYmxhY2tsaXN0OlAodC5wcm9wZXJ0eV9kZW55bGlzdCk/ZS5wcm9wZXJ0eV9kZW55bGlzdD1bLi4udC5wcm9wZXJ0eV9ibGFja2xpc3QsLi4udC5wcm9wZXJ0eV9kZW55bGlzdF06JHQuZXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eV9kZW55bGlzdCBjb25maWc6IFwiK3QucHJvcGVydHlfZGVueWxpc3QpKSxlfTtjbGFzcyBUb3tjb25zdHJ1Y3Rvcigpe3RoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0PSExfWdldCBscigpe3JldHVybiB0aGlzLl9fZm9yY2VBbGxvd0xvY2FsaG9zdH1zZXQgbHIodCl7JHQuZXJyb3IoXCJXZWJQZXJmb3JtYW5jZU9ic2VydmVyIGlzIGRlcHJlY2F0ZWQgYW5kIGhhcyBubyBpbXBhY3Qgb24gbmV0d29yayBjYXB0dXJlLiBVc2UgYF9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmVgIG9uIGBwb3N0aG9nLnNlc3Npb25SZWNvcmRpbmdgXCIpLHRoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0PXR9fWNsYXNzIElve2dldCBkZWNpZGVFbmRwb2ludFdhc0hpdCgpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT0oaT10aGlzLmZlYXR1cmVGbGFncyk/dm9pZCAwOmkuaGFzTG9hZGVkRmxhZ3MpJiZ2b2lkIDAhPT10JiZ0fWdldCBmbGFnc0VuZHBvaW50V2FzSGl0KCl7dmFyIHQsaTtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PShpPXRoaXMuZmVhdHVyZUZsYWdzKT92b2lkIDA6aS5oYXNMb2FkZWRGbGFncykmJnZvaWQgMCE9PXQmJnR9Y29uc3RydWN0b3IoKXt0aGlzLndlYlBlcmZvcm1hbmNlPW5ldyBUbyx0aGlzLnVyPSExLHRoaXMudmVyc2lvbj1jLkxJQl9WRVJTSU9OLHRoaXMuaHI9bmV3IEFuLHRoaXMuX2NhbGN1bGF0ZV9ldmVudF9wcm9wZXJ0aWVzPXRoaXMuY2FsY3VsYXRlRXZlbnRQcm9wZXJ0aWVzLmJpbmQodGhpcyksdGhpcy5jb25maWc9a28oKSx0aGlzLlNlbnRyeUludGVncmF0aW9uPUplLHRoaXMuc2VudHJ5SW50ZWdyYXRpb249dD0+ZnVuY3Rpb24odCxpKXt2YXIgZT1WZSh0LGkpO3JldHVybntuYW1lOkdlLHByb2Nlc3NFdmVudDp0PT5lKHQpfX0odGhpcyx0KSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXSx0aGlzLl9fbG9hZGVkPSExLHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50PVwiL2UvXCIsdGhpcy5kcj0hMSx0aGlzLnZyPW51bGwsdGhpcy5jcj1udWxsLHRoaXMucHI9bnVsbCx0aGlzLmZlYXR1cmVGbGFncz1uZXcgeG4odGhpcyksdGhpcy50b29sYmFyPW5ldyBaZSh0aGlzKSx0aGlzLnNjcm9sbE1hbmFnZXI9bmV3IFpuKHRoaXMpLHRoaXMucGFnZVZpZXdNYW5hZ2VyPW5ldyB5cyh0aGlzKSx0aGlzLnN1cnZleXM9bmV3IHFuKHRoaXMpLHRoaXMuZXhwZXJpbWVudHM9bmV3IHBvKHRoaXMpLHRoaXMuZXhjZXB0aW9ucz1uZXcgY24odGhpcyksdGhpcy5yYXRlTGltaXRlcj1uZXcgR24odGhpcyksdGhpcy5yZXF1ZXN0Um91dGVyPW5ldyBjbyh0aGlzKSx0aGlzLmNvbnNlbnQ9bmV3IEFlKHRoaXMpLHRoaXMuZXh0ZXJuYWxJbnRlZ3JhdGlvbnM9bmV3IG1vKHRoaXMpLHRoaXMucGVvcGxlPXtzZXQ6KHQsaSxlKT0+e3ZhciByPU8odCk/e1t0XTppfTp0O3RoaXMuc2V0UGVyc29uUHJvcGVydGllcyhyKSxudWxsPT1lfHxlKHt9KX0sc2V0X29uY2U6KHQsaSxlKT0+e3ZhciByPU8odCk/e1t0XTppfTp0O3RoaXMuc2V0UGVyc29uUHJvcGVydGllcyh2b2lkIDAsciksbnVsbD09ZXx8ZSh7fSl9fSx0aGlzLm9uKFwiZXZlbnRDYXB0dXJlZFwiLCh0PT4kdC5pbmZvKCdzZW5kIFwiJysobnVsbD09dD92b2lkIDA6dC5ldmVudCkrJ1wiJyx0KSkpfWluaXQodCxpLGUpe2lmKGUmJmUhPT1Fbyl7dmFyIHIscz1udWxsIT09KHI9U29bZV0pJiZ2b2lkIDAhPT1yP3I6bmV3IElvO3JldHVybiBzLl9pbml0KHQsaSxlKSxTb1tlXT1zLFNvW0VvXVtlXT1zLHN9cmV0dXJuIHRoaXMuX2luaXQodCxpLGUpfV9pbml0KGksZSxyKXt2YXIgcyxuO2lmKHZvaWQgMD09PWUmJihlPXt9KSxDKGkpfHxGKGkpKXJldHVybiAkdC5jcml0aWNhbChcIlBvc3RIb2cgd2FzIGluaXRpYWxpemVkIHdpdGhvdXQgYSB0b2tlbi4gVGhpcyBsaWtlbHkgaW5kaWNhdGVzIGEgbWlzY29uZmlndXJhdGlvbi4gUGxlYXNlIGNoZWNrIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gcG9zdGhvZy5pbml0KClcIiksdGhpcztpZih0aGlzLl9fbG9hZGVkKXJldHVybiAkdC53YXJuKFwiWW91IGhhdmUgYWxyZWFkeSBpbml0aWFsaXplZCBQb3N0SG9nISBSZS1pbml0aWFsaXppbmcgaXMgYSBuby1vcFwiKSx0aGlzO3RoaXMuX19sb2FkZWQ9ITAsdGhpcy5jb25maWc9e30sdGhpcy5ncj1lLHRoaXMuX3I9W10sZS5wZXJzb25fcHJvZmlsZXMmJih0aGlzLmNyPWUucGVyc29uX3Byb2ZpbGVzKSx0aGlzLnNldF9jb25maWcoT3Qoe30sa28oZS5kZWZhdWx0cyksUG8oZSkse25hbWU6cix0b2tlbjppfSkpLHRoaXMuY29uZmlnLm9uX3hocl9lcnJvciYmJHQuZXJyb3IoXCJvbl94aHJfZXJyb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG9uX3JlcXVlc3RfZXJyb3IgaW5zdGVhZFwiKSx0aGlzLmNvbXByZXNzaW9uPWUuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6aWUuR1ppcEpTO3ZhciBvPXRoaXMubXIoKTt0aGlzLnBlcnNpc3RlbmNlPW5ldyAkbih0aGlzLmNvbmZpZyxvKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZT1cInNlc3Npb25TdG9yYWdlXCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZXx8XCJtZW1vcnlcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlP3RoaXMucGVyc2lzdGVuY2U6bmV3ICRuKGcoe30sdGhpcy5jb25maWcse3BlcnNpc3RlbmNlOlwic2Vzc2lvblN0b3JhZ2VcIn0pLG8pO3ZhciBhPWcoe30sdGhpcy5wZXJzaXN0ZW5jZS5wcm9wcyksbD1nKHt9LHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BzKTt0aGlzLnJlZ2lzdGVyKHskaW5pdGlhbGl6YXRpb25fdGltZToobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9KSx0aGlzLnlyPW5ldyBZbigodD0+dGhpcy5icih0KSksdGhpcy5jb25maWcucmVxdWVzdF9xdWV1ZV9jb25maWcpLHRoaXMud3I9bmV3IFFuKHRoaXMpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdO3ZhciB1PVwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGV8fFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuY29uc2VudC5pc0V4cGxpY2l0bHlPcHRlZE91dCgpO2lmKHV8fCh0aGlzLnNlc3Npb25NYW5hZ2VyPW5ldyBybyh0aGlzKSx0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXI9bmV3IGlvKHRoaXMsdGhpcy5zZXNzaW9uTWFuYWdlcix0aGlzLnBlcnNpc3RlbmNlKSksbmV3IGlyKHRoaXMpLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCksdGhpcy5zaXRlQXBwcz1uZXcgb28odGhpcyksbnVsbD09KHM9dGhpcy5zaXRlQXBwcyl8fHMuaW5pdCgpLHV8fCh0aGlzLnNlc3Npb25SZWNvcmRpbmc9bmV3IHdvKHRoaXMpLHRoaXMuc2Vzc2lvblJlY29yZGluZy5zdGFydElmRW5hYmxlZE9yU3RvcCgpKSx0aGlzLmNvbmZpZy5kaXNhYmxlX3Njcm9sbF9wcm9wZXJ0aWVzfHx0aGlzLnNjcm9sbE1hbmFnZXIuc3RhcnRNZWFzdXJpbmdTY3JvbGxQb3NpdGlvbigpLHRoaXMuYXV0b2NhcHR1cmU9bmV3IGNlKHRoaXMpLHRoaXMuYXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLnN1cnZleXMubG9hZElmRW5hYmxlZCgpLHRoaXMuaGVhdG1hcHM9bmV3IG1zKHRoaXMpLHRoaXMuaGVhdG1hcHMuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLndlYlZpdGFsc0F1dG9jYXB0dXJlPW5ldyBwcyh0aGlzKSx0aGlzLmV4Y2VwdGlvbk9ic2VydmVyPW5ldyB6ZSh0aGlzKSx0aGlzLmV4Y2VwdGlvbk9ic2VydmVyLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmU9bmV3IE5lKHRoaXMsTGUpLHRoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5oaXN0b3J5QXV0b2NhcHR1cmU9bmV3IEJlKHRoaXMpLHRoaXMuaGlzdG9yeUF1dG9jYXB0dXJlLnN0YXJ0SWZFbmFibGVkKCksYy5ERUJVRz1jLkRFQlVHfHx0aGlzLmNvbmZpZy5kZWJ1ZyxjLkRFQlVHJiYkdC5pbmZvKFwiU3RhcnRpbmcgaW4gZGVidWcgbW9kZVwiLHt0aGlzOnRoaXMsY29uZmlnOmUsdGhpc0M6Zyh7fSx0aGlzLmNvbmZpZykscDphLHM6bH0pLHZvaWQgMCE9PShudWxsPT0obj1lLmJvb3RzdHJhcCk/dm9pZCAwOm4uZGlzdGluY3RJRCkpe3ZhciBoLGQsdj10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKGJlKCkpLGY9bnVsbCE9KGg9ZS5ib290c3RyYXApJiZoLmlzSWRlbnRpZmllZElEP3Y6ZS5ib290c3RyYXAuZGlzdGluY3RJRDt0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShkaSxudWxsIT0oZD1lLmJvb3RzdHJhcCkmJmQuaXNJZGVudGlmaWVkSUQ/XCJpZGVudGlmaWVkXCI6XCJhbm9ueW1vdXNcIiksdGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6ZS5ib290c3RyYXAuZGlzdGluY3RJRCwkZGV2aWNlX2lkOmZ9KX1pZih0aGlzLlNyKCkpe3ZhciBwLF8sbT1PYmplY3Qua2V5cygobnVsbD09KHA9ZS5ib290c3RyYXApP3ZvaWQgMDpwLmZlYXR1cmVGbGFncyl8fHt9KS5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4hKG51bGw9PShpPWUuYm9vdHN0cmFwKXx8bnVsbD09KGk9aS5mZWF0dXJlRmxhZ3MpfHwhaVt0XSl9KSkucmVkdWNlKCgodCxpKT0+e3ZhciByO3JldHVybiB0W2ldPShudWxsPT0ocj1lLmJvb3RzdHJhcCl8fG51bGw9PShyPXIuZmVhdHVyZUZsYWdzKT92b2lkIDA6cltpXSl8fCExLHR9KSx7fSkseT1PYmplY3Qua2V5cygobnVsbD09KF89ZS5ib290c3RyYXApP3ZvaWQgMDpfLmZlYXR1cmVGbGFnUGF5bG9hZHMpfHx7fSkuZmlsdGVyKCh0PT5tW3RdKSkucmVkdWNlKCgodCxpKT0+e3ZhciByLHM7bnVsbCE9KHI9ZS5ib290c3RyYXApJiZudWxsIT0ocj1yLmZlYXR1cmVGbGFnUGF5bG9hZHMpJiZyW2ldJiYodFtpXT1udWxsPT0ocz1lLmJvb3RzdHJhcCl8fG51bGw9PShzPXMuZmVhdHVyZUZsYWdQYXlsb2Fkcyk/dm9pZCAwOnNbaV0pO3JldHVybiB0fSkse30pO3RoaXMuZmVhdHVyZUZsYWdzLnJlY2VpdmVkRmVhdHVyZUZsYWdzKHtmZWF0dXJlRmxhZ3M6bSxmZWF0dXJlRmxhZ1BheWxvYWRzOnl9KX1pZih1KXRoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6eWksJGRldmljZV9pZDpudWxsfSxcIlwiKTtlbHNlIGlmKCF0aGlzLmdldF9kaXN0aW5jdF9pZCgpKXt2YXIgYj10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKGJlKCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6YiwkZGV2aWNlX2lkOmJ9LFwiXCIpLHRoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KGRpLFwiYW5vbnltb3VzXCIpfXJldHVybiBIdCh0LFwib25wYWdlaGlkZVwiaW4gc2VsZj9cInBhZ2VoaWRlXCI6XCJ1bmxvYWRcIix0aGlzLl9oYW5kbGVfdW5sb2FkLmJpbmQodGhpcykse3Bhc3NpdmU6ITF9KSx0aGlzLnRvb2xiYXIubWF5YmVMb2FkVG9vbGJhcigpLGUuc2VnbWVudD9XZSh0aGlzLCgoKT0+dGhpcy5FcigpKSk6dGhpcy5FcigpLFQodGhpcy5jb25maWcuX29uQ2FwdHVyZSkmJnRoaXMuY29uZmlnLl9vbkNhcHR1cmUhPT14byYmKCR0Lndhcm4oXCJvbkNhcHR1cmUgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgYmVmb3JlX3NlbmRgIGluc3RlYWRcIiksdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwodD0+dGhpcy5jb25maWcuX29uQ2FwdHVyZSh0LmV2ZW50LHQpKSkpLHRoaXMuY29uZmlnLmlwJiYkdC53YXJuKCdUaGUgYGlwYCBjb25maWcgb3B0aW9uIGhhcyBOTyBFRkZFQ1QgQVQgQUxMIGFuZCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgYSBjdXN0b20gdHJhbnNmb3JtYXRpb24gb3IgXCJEaXNjYXJkIElQIGRhdGFcIiBwcm9qZWN0IHNldHRpbmcgaW5zdGVhZC4gU2VlIGh0dHBzOi8vcG9zdGhvZy5jb20vdHV0b3JpYWxzL3dlYi1yZWRhY3QtcHJvcGVydGllcyNoaWRpbmctY3VzdG9tZXItaXAtYWRkcmVzcyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSx0aGlzfWhpKHQpe3ZhciBpLGUscixzLG4sYSxsLHU7aWYoIW98fCFvLmJvZHkpcmV0dXJuICR0LmluZm8oXCJkb2N1bWVudCBub3QgcmVhZHkgeWV0LCB0cnlpbmcgYWdhaW4gaW4gNTAwIG1pbGxpc2Vjb25kcy4uLlwiKSx2b2lkIHNldFRpbWVvdXQoKCgpPT57dGhpcy5oaSh0KX0pLDUwMCk7dGhpcy5jb21wcmVzc2lvbj12b2lkIDAsdC5zdXBwb3J0ZWRDb21wcmVzc2lvbiYmIXRoaXMuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24mJih0aGlzLmNvbXByZXNzaW9uPXkodC5zdXBwb3J0ZWRDb21wcmVzc2lvbixpZS5HWmlwSlMpP2llLkdaaXBKUzp5KHQuc3VwcG9ydGVkQ29tcHJlc3Npb24saWUuQmFzZTY0KT9pZS5CYXNlNjQ6dm9pZCAwKSxudWxsIT0oaT10LmFuYWx5dGljcykmJmkuZW5kcG9pbnQmJih0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludD10LmFuYWx5dGljcy5lbmRwb2ludCksdGhpcy5zZXRfY29uZmlnKHtwZXJzb25fcHJvZmlsZXM6dGhpcy5jcj90aGlzLmNyOlwiaWRlbnRpZmllZF9vbmx5XCJ9KSxudWxsPT0oZT10aGlzLnNpdGVBcHBzKXx8ZS5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0ocj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxyLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShzPXRoaXMuYXV0b2NhcHR1cmUpfHxzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShuPXRoaXMuaGVhdG1hcHMpfHxuLm9uUmVtb3RlQ29uZmlnKHQpLHRoaXMuc3VydmV5cy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0oYT10aGlzLndlYlZpdGFsc0F1dG9jYXB0dXJlKXx8YS5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0obD10aGlzLmV4Y2VwdGlvbk9ic2VydmVyKXx8bC5vblJlbW90ZUNvbmZpZyh0KSx0aGlzLmV4Y2VwdGlvbnMub25SZW1vdGVDb25maWcodCksbnVsbD09KHU9dGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmUpfHx1Lm9uUmVtb3RlQ29uZmlnKHQpfUVyKCl7dHJ5e3RoaXMuY29uZmlnLmxvYWRlZCh0aGlzKX1jYXRjaCh0KXskdC5jcml0aWNhbChcImBsb2FkZWRgIGZ1bmN0aW9uIGZhaWxlZFwiLHQpfXRoaXMuJHIoKSx0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZzZXRUaW1lb3V0KCgoKT0+eyh0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCl8fFwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUpJiZ0aGlzLmtyKCl9KSwxKSxuZXcgSm4odGhpcykubG9hZCgpLHRoaXMuZmVhdHVyZUZsYWdzLmZsYWdzKCl9JHIoKXt2YXIgdDt0aGlzLmlzX2NhcHR1cmluZygpJiYodGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZyYmKG51bGw9PSh0PXRoaXMueXIpfHx0LmVuYWJsZSgpKSl9X2RvbV9sb2FkZWQoKXt0aGlzLmlzX2NhcHR1cmluZygpJiZSdCh0aGlzLl9fcmVxdWVzdF9xdWV1ZSwodD0+dGhpcy5icih0KSkpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuJHIoKX1faGFuZGxlX3VubG9hZCgpe3ZhciB0LGk7dGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZz8odGhpcy5QcigpJiZ0aGlzLmNhcHR1cmUoXCIkcGFnZWxlYXZlXCIpLG51bGw9PSh0PXRoaXMueXIpfHx0LnVubG9hZCgpLG51bGw9PShpPXRoaXMud3IpfHxpLnVubG9hZCgpKTp0aGlzLlByKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIixudWxsLHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KX11aSh0KXt0aGlzLl9fbG9hZGVkJiYoJG8/dGhpcy5fX3JlcXVlc3RfcXVldWUucHVzaCh0KTp0aGlzLnJhdGVMaW1pdGVyLmlzU2VydmVyUmF0ZUxpbWl0ZWQodC5iYXRjaEtleSl8fCh0LnRyYW5zcG9ydD10LnRyYW5zcG9ydHx8dGhpcy5jb25maWcuYXBpX3RyYW5zcG9ydCx0LnVybD1zbih0LnVybCx7aXA6dGhpcy5jb25maWcuaXA/MTowfSksdC5oZWFkZXJzPWcoe30sdGhpcy5jb25maWcucmVxdWVzdF9oZWFkZXJzKSx0LmNvbXByZXNzaW9uPVwiYmVzdC1hdmFpbGFibGVcIj09PXQuY29tcHJlc3Npb24/dGhpcy5jb21wcmVzc2lvbjp0LmNvbXByZXNzaW9uLHQuZGlzYWJsZVhIUkNyZWRlbnRpYWxzPXRoaXMuY29uZmlnLl9fcHJldmlld19kaXNhYmxlX3hocl9jcmVkZW50aWFscyx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZGlzYWJsZV9iZWFjb24mJih0LmRpc2FibGVUcmFuc3BvcnQ9W1wic2VuZEJlYWNvblwiXSksdC5mZXRjaE9wdGlvbnM9dC5mZXRjaE9wdGlvbnN8fHRoaXMuY29uZmlnLmZldGNoX29wdGlvbnMsKHQ9Pnt2YXIgaSxlLHIscz1nKHt9LHQpO3MudGltZW91dD1zLnRpbWVvdXR8fDZlNCxzLnVybD1zbihzLnVybCx7XzoobmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpLHZlcjpjLkxJQl9WRVJTSU9OLGNvbXByZXNzaW9uOnMuY29tcHJlc3Npb259KTt2YXIgbj1udWxsIT09KGk9cy50cmFuc3BvcnQpJiZ2b2lkIDAhPT1pP2k6XCJmZXRjaFwiLG89YW4uZmlsdGVyKCh0PT4hcy5kaXNhYmxlVHJhbnNwb3J0fHwhdC50cmFuc3BvcnR8fCFzLmRpc2FibGVUcmFuc3BvcnQuaW5jbHVkZXModC50cmFuc3BvcnQpKSksYT1udWxsIT09KGU9bnVsbD09KHI9enQobywodD0+dC50cmFuc3BvcnQ9PT1uKSkpP3ZvaWQgMDpyLm1ldGhvZCkmJnZvaWQgMCE9PWU/ZTpvWzBdLm1ldGhvZDtpZighYSl0aHJvdyBuZXcgRXJyb3IoXCJObyBhdmFpbGFibGUgdHJhbnNwb3J0IG1ldGhvZFwiKTthKHMpfSkoZyh7fSx0LHtjYWxsYmFjazppPT57dmFyIGUscjsodGhpcy5yYXRlTGltaXRlci5jaGVja0ZvckxpbWl0aW5nKGkpLGkuc3RhdHVzQ29kZT49NDAwKSYmKG51bGw9PShlPShyPXRoaXMuY29uZmlnKS5vbl9yZXF1ZXN0X2Vycm9yKXx8ZS5jYWxsKHIsaSkpO251bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2soaSl9fSkpKSl9YnIodCl7dGhpcy53cj90aGlzLndyLnJldHJpYWJsZVJlcXVlc3QodCk6dGhpcy51aSh0KX1fZXhlY3V0ZV9hcnJheSh0KXt2YXIgaSxlPVtdLHI9W10scz1bXTtSdCh0LCh0PT57dCYmKGk9dFswXSxQKGkpP3MucHVzaCh0KTpUKHQpP3QuY2FsbCh0aGlzKTpQKHQpJiZcImFsaWFzXCI9PT1pP2UucHVzaCh0KTpQKHQpJiYtMSE9PWkuaW5kZXhPZihcImNhcHR1cmVcIikmJlQodGhpc1tpXSk/cy5wdXNoKHQpOnIucHVzaCh0KSl9KSk7dmFyIG49ZnVuY3Rpb24odCxpKXtSdCh0LChmdW5jdGlvbih0KXtpZihQKHRbMF0pKXt2YXIgZT1pO0N0KHQsKGZ1bmN0aW9uKHQpe2U9ZVt0WzBdXS5hcHBseShlLHQuc2xpY2UoMSkpfSkpfWVsc2UgdGhpc1t0WzBdXS5hcHBseSh0aGlzLHQuc2xpY2UoMSkpfSksaSl9O24oZSx0aGlzKSxuKHIsdGhpcyksbihzLHRoaXMpfVNyKCl7dmFyIHQsaTtyZXR1cm4obnVsbD09KHQ9dGhpcy5jb25maWcuYm9vdHN0cmFwKT92b2lkIDA6dC5mZWF0dXJlRmxhZ3MpJiZPYmplY3Qua2V5cyhudWxsPT0oaT10aGlzLmNvbmZpZy5ib290c3RyYXApP3ZvaWQgMDppLmZlYXR1cmVGbGFncykubGVuZ3RoPjB8fCExfXB1c2godCl7dGhpcy5fZXhlY3V0ZV9hcnJheShbdF0pfWNhcHR1cmUodCxpLGUpe3ZhciByO2lmKHRoaXMuX19sb2FkZWQmJnRoaXMucGVyc2lzdGVuY2UmJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlJiZ0aGlzLnlyKXtpZih0aGlzLmlzX2NhcHR1cmluZygpKWlmKCFDKHQpJiZPKHQpKXtpZih0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXJ8fCF0aGlzLl9pc19ib3QoKSl7dmFyIHM9bnVsbCE9ZSYmZS5za2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nP3ZvaWQgMDp0aGlzLnJhdGVMaW1pdGVyLmNsaWVudFJhdGVMaW1pdENvbnRleHQoKTtpZihudWxsPT1zfHwhcy5pc1JhdGVMaW1pdGVkKXtudWxsIT1pJiZpLiRjdXJyZW50X3VybCYmIU8obnVsbD09aT92b2lkIDA6aS4kY3VycmVudF91cmwpJiYoJHQuZXJyb3IoXCJJbnZhbGlkIGAkY3VycmVudF91cmxgIHByb3BlcnR5IHByb3ZpZGVkIHRvIGBwb3N0aG9nLmNhcHR1cmVgLiBJbnB1dCBtdXN0IGJlIGEgc3RyaW5nLiBJZ25vcmluZyBwcm92aWRlZCB2YWx1ZS5cIiksbnVsbD09aXx8ZGVsZXRlIGkuJGN1cnJlbnRfdXJsKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfc2VhcmNoX2tleXdvcmQoKSx0aGlzLmNvbmZpZy5zYXZlX2NhbXBhaWduX3BhcmFtcyYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX2NhbXBhaWduX3BhcmFtcygpLHRoaXMuY29uZmlnLnNhdmVfcmVmZXJyZXImJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9yZWZlcnJlcl9pbmZvKCksKHRoaXMuY29uZmlnLnNhdmVfY2FtcGFpZ25fcGFyYW1zfHx0aGlzLmNvbmZpZy5zYXZlX3JlZmVycmVyKSYmdGhpcy5wZXJzaXN0ZW5jZS5zZXRfaW5pdGlhbF9wZXJzb25faW5mbygpO3ZhciBuPW5ldyBEYXRlLG89KG51bGw9PWU/dm9pZCAwOmUudGltZXN0YW1wKXx8bixhPWJlKCksbD17dXVpZDphLGV2ZW50OnQscHJvcGVydGllczp0aGlzLmNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcyh0LGl8fHt9LG8sYSl9O3MmJihsLnByb3BlcnRpZXMuJGxpYl9yYXRlX2xpbWl0X3JlbWFpbmluZ190b2tlbnM9cy5yZW1haW5pbmdUb2tlbnMpLChudWxsPT1lP3ZvaWQgMDplLiRzZXQpJiYobC4kc2V0PW51bGw9PWU/dm9pZCAwOmUuJHNldCk7dmFyIHUsaD10aGlzLlRyKG51bGw9PWU/dm9pZCAwOmUuJHNldF9vbmNlKTtpZihoJiYobC4kc2V0X29uY2U9aCksKGw9THQobCxudWxsIT1lJiZlLl9ub1RydW5jYXRlP251bGw6dGhpcy5jb25maWcucHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aCkpLnRpbWVzdGFtcD1vLEMobnVsbD09ZT92b2lkIDA6ZS50aW1lc3RhbXApfHwobC5wcm9wZXJ0aWVzLiRldmVudF90aW1lX292ZXJyaWRlX3Byb3ZpZGVkPSEwLGwucHJvcGVydGllcy4kZXZlbnRfdGltZV9vdmVycmlkZV9zeXN0ZW1fdGltZT1uKSx0PT09T24uRElTTUlTU0VEfHx0PT09T24uU0VOVCl7dmFyIGQ9bnVsbD09aT92b2lkIDA6aVtGbi5TVVJWRVlfSURdLHY9bnVsbD09aT92b2lkIDA6aVtGbi5TVVJWRVlfSVRFUkFUSU9OXTt1PXtpZDpkLGN1cnJlbnRfaXRlcmF0aW9uOnZ9LGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVuKHUpKXx8bG9jYWxTdG9yYWdlLnNldEl0ZW0oVW4odSksXCJ0cnVlXCIpLGwuJHNldD1nKHt9LGwuJHNldCx7W05uKHtpZDpkLGN1cnJlbnRfaXRlcmF0aW9uOnZ9LHQ9PT1Pbi5TRU5UP1wicmVzcG9uZGVkXCI6XCJkaXNtaXNzZWRcIildOiEwfSl9dmFyIGM9Zyh7fSxsLnByb3BlcnRpZXMuJHNldCxsLiRzZXQpO2lmKFIoYyl8fHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGMpLCFBKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKSl7dmFyIGY9dGhpcy5JcihsKTtpZighZilyZXR1cm47bD1mfXRoaXMuaHIuZW1pdChcImV2ZW50Q2FwdHVyZWRcIixsKTt2YXIgcD17bWV0aG9kOlwiUE9TVFwiLHVybDpudWxsIT09KHI9bnVsbD09ZT92b2lkIDA6ZS5fdXJsKSYmdm9pZCAwIT09cj9yOnRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50KSxkYXRhOmwsY29tcHJlc3Npb246XCJiZXN0LWF2YWlsYWJsZVwiLGJhdGNoS2V5Om51bGw9PWU/dm9pZCAwOmUuX2JhdGNoS2V5fTtyZXR1cm4hdGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZ3x8ZSYmKG51bGw9PWV8fCFlLl9iYXRjaEtleSl8fG51bGwhPWUmJmUuc2VuZF9pbnN0YW50bHk/dGhpcy5icihwKTp0aGlzLnlyLmVucXVldWUocCksbH0kdC5jcml0aWNhbChcIlRoaXMgY2FwdHVyZSBjYWxsIGlzIGlnbm9yZWQgZHVlIHRvIGNsaWVudCByYXRlIGxpbWl0aW5nLlwiKX19ZWxzZSAkdC5lcnJvcihcIk5vIGV2ZW50IG5hbWUgcHJvdmlkZWQgdG8gcG9zdGhvZy5jYXB0dXJlXCIpfWVsc2UgJHQudW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmNhcHR1cmVcIil9UmkodCl7cmV0dXJuIHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKGk9PnQoaS5ldmVudCxpKSkpfWNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcyh0LGksZSxyLHMpe2lmKGU9ZXx8bmV3IERhdGUsIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSlyZXR1cm4gaTt2YXIgbj1zP3ZvaWQgMDp0aGlzLnBlcnNpc3RlbmNlLnJlbW92ZV9ldmVudF90aW1lcih0KSxhPWcoe30saSk7aWYoYS50b2tlbj10aGlzLmNvbmZpZy50b2tlbixhLiRjb25maWdfZGVmYXVsdHM9dGhpcy5jb25maWcuZGVmYXVsdHMsKFwiYWx3YXlzXCI9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZXx8XCJvbl9yZWplY3RcIj09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNFeHBsaWNpdGx5T3B0ZWRPdXQoKSkmJihhLiRjb29raWVsZXNzX21vZGU9ITApLFwiJHNuYXBzaG90XCI9PT10KXt2YXIgbD1nKHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSk7cmV0dXJuIGEuZGlzdGluY3RfaWQ9bC5kaXN0aW5jdF9pZCwoIU8oYS5kaXN0aW5jdF9pZCkmJiFqKGEuZGlzdGluY3RfaWQpfHxGKGEuZGlzdGluY3RfaWQpKSYmJHQuZXJyb3IoXCJJbnZhbGlkIGRpc3RpbmN0X2lkIGZvciByZXBsYXkgZXZlbnQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIHlvdXIgaW1wbGVtZW50YXRpb25cIiksYX12YXIgdSxoPXZzKHRoaXMuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHRoaXMuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpO2lmKHRoaXMuc2Vzc2lvbk1hbmFnZXIpe3ZhcntzZXNzaW9uSWQ6dix3aW5kb3dJZDpjfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKHMsZS5nZXRUaW1lKCkpO2EuJHNlc3Npb25faWQ9dixhLiR3aW5kb3dfaWQ9Y310aGlzLnNlc3Npb25Qcm9wc01hbmFnZXImJk90KGEsdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyLmdldFNlc3Npb25Qcm9wcygpKTt0cnl7dmFyIGY7dGhpcy5zZXNzaW9uUmVjb3JkaW5nJiZPdChhLHRoaXMuc2Vzc2lvblJlY29yZGluZy5zZGtEZWJ1Z1Byb3BlcnRpZXMpLGEuJHNka19kZWJ1Z19yZXRyeV9xdWV1ZV9zaXplPW51bGw9PShmPXRoaXMud3IpP3ZvaWQgMDpmLmxlbmd0aH1jYXRjaCh0KXthLiRzZGtfZGVidWdfZXJyb3JfY2FwdHVyaW5nX3Byb3BlcnRpZXM9U3RyaW5nKHQpfWlmKHRoaXMucmVxdWVzdFJvdXRlci5yZWdpb249PT1oby5DVVNUT00mJihhLiRsaWJfY3VzdG9tX2FwaV9ob3N0PXRoaXMuY29uZmlnLmFwaV9ob3N0KSx1PVwiJHBhZ2V2aWV3XCIhPT10fHxzP1wiJHBhZ2VsZWF2ZVwiIT09dHx8cz90aGlzLnBhZ2VWaWV3TWFuYWdlci5kb0V2ZW50KCk6dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlTGVhdmUoZSk6dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlVmlldyhlLHIpLGE9T3QoYSx1KSxcIiRwYWdldmlld1wiPT09dCYmbyYmKGEudGl0bGU9by50aXRsZSksIUMobikpe3ZhciBwPWUuZ2V0VGltZSgpLW47YS4kZHVyYXRpb249cGFyc2VGbG9hdCgocC8xZTMpLnRvRml4ZWQoMykpfWQmJnRoaXMuY29uZmlnLm9wdF9vdXRfdXNlcmFnZW50X2ZpbHRlciYmKGEuJGJyb3dzZXJfdHlwZT10aGlzLl9pc19ib3QoKT9cImJvdFwiOlwiYnJvd3NlclwiKSwoYT1PdCh7fSxoLHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSxhKSkuJGlzX2lkZW50aWZpZWQ9dGhpcy5faXNJZGVudGlmaWVkKCksUCh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCk/Q3QodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QsKGZ1bmN0aW9uKHQpe2RlbGV0ZSBhW3RdfSkpOiR0LmVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHlfZGVueWxpc3QgY29uZmlnOiBcIit0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCtcIiBvciBwcm9wZXJ0eV9ibGFja2xpc3QgY29uZmlnOiBcIit0aGlzLmNvbmZpZy5wcm9wZXJ0eV9ibGFja2xpc3QpO3ZhciBfPXRoaXMuY29uZmlnLnNhbml0aXplX3Byb3BlcnRpZXM7XyYmKCR0LmVycm9yKFwic2FuaXRpemVfcHJvcGVydGllcyBpcyBkZXByZWNhdGVkLiBVc2UgYmVmb3JlX3NlbmQgaW5zdGVhZFwiKSxhPV8oYSx0KSk7dmFyIG09dGhpcy5ScigpO3JldHVybiBhLiRwcm9jZXNzX3BlcnNvbl9wcm9maWxlPW0sbSYmIXMmJnRoaXMuQ3IoXCJfY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXNcIiksYX1Ucih0KXt2YXIgaTtpZighdGhpcy5wZXJzaXN0ZW5jZXx8IXRoaXMuUnIoKSlyZXR1cm4gdDtpZih0aGlzLnVyKXJldHVybiB0O3ZhciBlPXRoaXMucGVyc2lzdGVuY2UuZ2V0X2luaXRpYWxfcHJvcHMoKSxyPW51bGw9PShpPXRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcik/dm9pZCAwOmkuZ2V0U2V0T25jZVByb3BzKCkscz1PdCh7fSxlLHJ8fHt9LHR8fHt9KSxuPXRoaXMuY29uZmlnLnNhbml0aXplX3Byb3BlcnRpZXM7cmV0dXJuIG4mJigkdC5lcnJvcihcInNhbml0aXplX3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gVXNlIGJlZm9yZV9zZW5kIGluc3RlYWRcIikscz1uKHMsXCIkc2V0X29uY2VcIikpLHRoaXMudXI9ITAsUihzKT92b2lkIDA6c31yZWdpc3Rlcih0LGkpe3ZhciBlO251bGw9PShlPXRoaXMucGVyc2lzdGVuY2UpfHxlLnJlZ2lzdGVyKHQsaSl9cmVnaXN0ZXJfb25jZSh0LGksZSl7dmFyIHI7bnVsbD09KHI9dGhpcy5wZXJzaXN0ZW5jZSl8fHIucmVnaXN0ZXJfb25jZSh0LGksZSl9cmVnaXN0ZXJfZm9yX3Nlc3Npb24odCl7dmFyIGk7bnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHxpLnJlZ2lzdGVyKHQpfXVucmVnaXN0ZXIodCl7dmFyIGk7bnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fGkudW5yZWdpc3Rlcih0KX11bnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHQpe3ZhciBpO251bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8aS51bnJlZ2lzdGVyKHQpfU9yKHQsaSl7dGhpcy5yZWdpc3Rlcih7W3RdOml9KX1nZXRGZWF0dXJlRmxhZyh0LGkpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5nZXRGZWF0dXJlRmxhZyh0LGkpfWdldEZlYXR1cmVGbGFnUGF5bG9hZCh0KXt2YXIgaT10aGlzLmZlYXR1cmVGbGFncy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCk7dHJ5e3JldHVybiBKU09OLnBhcnNlKGkpfWNhdGNoKHQpe3JldHVybiBpfX1pc0ZlYXR1cmVFbmFibGVkKHQsaSl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQodCxpKX1yZWxvYWRGZWF0dXJlRmxhZ3MoKXt0aGlzLmZlYXR1cmVGbGFncy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX11cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKXt0aGlzLmZlYXR1cmVGbGFncy51cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKX1nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuZmVhdHVyZUZsYWdzLmdldEVhcmx5QWNjZXNzRmVhdHVyZXModCxpLGUpfW9uKHQsaSl7cmV0dXJuIHRoaXMuaHIub24odCxpKX1vbkZlYXR1cmVGbGFncyh0KXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3Mub25GZWF0dXJlRmxhZ3ModCl9b25TdXJ2ZXlzTG9hZGVkKHQpe3JldHVybiB0aGlzLnN1cnZleXMub25TdXJ2ZXlzTG9hZGVkKHQpfW9uU2Vzc2lvbklkKHQpe3ZhciBpLGU7cmV0dXJuIG51bGwhPT0oaT1udWxsPT0oZT10aGlzLnNlc3Npb25NYW5hZ2VyKT92b2lkIDA6ZS5vblNlc3Npb25JZCh0KSkmJnZvaWQgMCE9PWk/aTooKT0+e319Z2V0U3VydmV5cyh0LGkpe3ZvaWQgMD09PWkmJihpPSExKSx0aGlzLnN1cnZleXMuZ2V0U3VydmV5cyh0LGkpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpe3ZvaWQgMD09PWkmJihpPSExKSx0aGlzLnN1cnZleXMuZ2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKHQsaSl9cmVuZGVyU3VydmV5KHQsaSl7dGhpcy5zdXJ2ZXlzLnJlbmRlclN1cnZleSh0LGkpfWRpc3BsYXlTdXJ2ZXkodCxpKXt2b2lkIDA9PT1pJiYoaT1IbiksdGhpcy5zdXJ2ZXlzLmRpc3BsYXlTdXJ2ZXkodCxpKX1jYW5SZW5kZXJTdXJ2ZXkodCl7cmV0dXJuIHRoaXMuc3VydmV5cy5jYW5SZW5kZXJTdXJ2ZXkodCl9Y2FuUmVuZGVyU3VydmV5QXN5bmModCxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuc3VydmV5cy5jYW5SZW5kZXJTdXJ2ZXlBc3luYyh0LGkpfWlkZW50aWZ5KHQsaSxlKXtpZighdGhpcy5fX2xvYWRlZHx8IXRoaXMucGVyc2lzdGVuY2UpcmV0dXJuICR0LnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5pZGVudGlmeVwiKTtpZihqKHQpJiYodD10LnRvU3RyaW5nKCksJHQud2FybihcIlRoZSBmaXJzdCBhcmd1bWVudCB0byBwb3N0aG9nLmlkZW50aWZ5IHdhcyBhIG51bWJlciwgYnV0IGl0IHNob3VsZCBiZSBhIHN0cmluZy4gSXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgc3RyaW5nLlwiKSksdClpZihbXCJkaXN0aW5jdF9pZFwiLFwiZGlzdGluY3RpZFwiXS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpKSR0LmNyaXRpY2FsKCdUaGUgc3RyaW5nIFwiJyt0KydcIiB3YXMgc2V0IGluIHBvc3Rob2cuaWRlbnRpZnkgd2hpY2ggaW5kaWNhdGVzIGFuIGVycm9yLiBUaGlzIElEIHNob3VsZCBiZSB1bmlxdWUgdG8gdGhlIHVzZXIgYW5kIG5vdCBhIGhhcmRjb2RlZCBzdHJpbmcuJyk7ZWxzZSBpZih0IT09eWkpe2lmKHRoaXMuQ3IoXCJwb3N0aG9nLmlkZW50aWZ5XCIpKXt2YXIgcj10aGlzLmdldF9kaXN0aW5jdF9pZCgpO2lmKHRoaXMucmVnaXN0ZXIoeyR1c2VyX2lkOnR9KSwhdGhpcy5nZXRfcHJvcGVydHkoXCIkZGV2aWNlX2lkXCIpKXt2YXIgcz1yO3RoaXMucmVnaXN0ZXJfb25jZSh7JGhhZF9wZXJzaXN0ZWRfZGlzdGluY3RfaWQ6ITAsJGRldmljZV9pZDpzfSxcIlwiKX10IT09ciYmdCE9PXRoaXMuZ2V0X3Byb3BlcnR5KHF0KSYmKHRoaXMudW5yZWdpc3RlcihxdCksdGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6dH0pKTt2YXIgbj1cImFub255bW91c1wiPT09KHRoaXMucGVyc2lzdGVuY2UuZ2V0X3Byb3BlcnR5KGRpKXx8XCJhbm9ueW1vdXNcIik7dCE9PXImJm4/KHRoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KGRpLFwiaWRlbnRpZmllZFwiKSx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhnKHt9LGV8fHt9LGl8fHt9KSwhMSksdGhpcy5jYXB0dXJlKFwiJGlkZW50aWZ5XCIse2Rpc3RpbmN0X2lkOnQsJGFub25fZGlzdGluY3RfaWQ6cn0seyRzZXQ6aXx8e30sJHNldF9vbmNlOmV8fHt9fSksdGhpcy5wcj11bih0LGksZSksdGhpcy5mZWF0dXJlRmxhZ3Muc2V0QW5vbnltb3VzRGlzdGluY3RJZChyKSk6KGl8fGUpJiZ0aGlzLnNldFBlcnNvblByb3BlcnRpZXMoaSxlKSx0IT09ciYmKHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCksdGhpcy51bnJlZ2lzdGVyKGhpKSl9fWVsc2UgJHQuY3JpdGljYWwoJ1RoZSBzdHJpbmcgXCInK3lpKydcIiB3YXMgc2V0IGluIHBvc3Rob2cuaWRlbnRpZnkgd2hpY2ggaW5kaWNhdGVzIGFuIGVycm9yLiBUaGlzIElEIGlzIG9ubHkgdXNlZCBhcyBhIHNlbnRpbmVsIHZhbHVlLicpO2Vsc2UgJHQuZXJyb3IoXCJVbmlxdWUgdXNlciBpZCBoYXMgbm90IGJlZW4gc2V0IGluIHBvc3Rob2cuaWRlbnRpZnlcIil9c2V0UGVyc29uUHJvcGVydGllcyh0LGkpe2lmKCh0fHxpKSYmdGhpcy5DcihcInBvc3Rob2cuc2V0UGVyc29uUHJvcGVydGllc1wiKSl7dmFyIGU9dW4odGhpcy5nZXRfZGlzdGluY3RfaWQoKSx0LGkpO3RoaXMucHIhPT1lPyh0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhnKHt9LGl8fHt9LHR8fHt9KSksdGhpcy5jYXB0dXJlKFwiJHNldFwiLHskc2V0OnR8fHt9LCRzZXRfb25jZTppfHx7fX0pLHRoaXMucHI9ZSk6JHQuaW5mbyhcIkEgZHVwbGljYXRlIHNldFBlcnNvblByb3BlcnRpZXMgY2FsbCB3YXMgbWFkZSB3aXRoIHRoZSBzYW1lIHByb3BlcnRpZXMuIEl0IGhhcyBiZWVuIGlnbm9yZWQuXCIpfX1ncm91cCh0LGksZSl7aWYodCYmaSl7aWYodGhpcy5DcihcInBvc3Rob2cuZ3JvdXBcIikpe3ZhciByPXRoaXMuZ2V0R3JvdXBzKCk7clt0XSE9PWkmJnRoaXMucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KSx0aGlzLnJlZ2lzdGVyKHskZ3JvdXBzOmcoe30scix7W3RdOml9KX0pLGUmJih0aGlzLmNhcHR1cmUoXCIkZ3JvdXBpZGVudGlmeVwiLHskZ3JvdXBfdHlwZTp0LCRncm91cF9rZXk6aSwkZ3JvdXBfc2V0OmV9KSx0aGlzLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHtbdF06ZX0pKSxyW3RdPT09aXx8ZXx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX19ZWxzZSAkdC5lcnJvcihcInBvc3Rob2cuZ3JvdXAgcmVxdWlyZXMgYSBncm91cCB0eXBlIGFuZCBncm91cCBrZXlcIil9cmVzZXRHcm91cHMoKXt0aGlzLnJlZ2lzdGVyKHskZ3JvdXBzOnt9fSksdGhpcy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKCksdGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCksdGhpcy5mZWF0dXJlRmxhZ3Muc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHQsaSl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLmZlYXR1cmVGbGFncy5yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpfXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITApLHRoaXMuQ3IoXCJwb3N0aG9nLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzXCIpJiZ0aGlzLmZlYXR1cmVGbGFncy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0LGkpfXJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KX1yZXNldCh0KXt2YXIgaSxlLHIscztpZigkdC5pbmZvKFwicmVzZXRcIiksIXRoaXMuX19sb2FkZWQpcmV0dXJuICR0LnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5yZXNldFwiKTt2YXIgbj10aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIik7aWYodGhpcy5jb25zZW50LnJlc2V0KCksbnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fGkuY2xlYXIoKSxudWxsPT0oZT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fGUuY2xlYXIoKSx0aGlzLnN1cnZleXMucmVzZXQoKSx0aGlzLmZlYXR1cmVGbGFncy5yZXNldCgpLG51bGw9PShyPXRoaXMucGVyc2lzdGVuY2UpfHxyLnNldF9wcm9wZXJ0eShkaSxcImFub255bW91c1wiKSxudWxsPT0ocz10aGlzLnNlc3Npb25NYW5hZ2VyKXx8cy5yZXNldFNlc3Npb25JZCgpLHRoaXMucHI9bnVsbCxcImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlKXRoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6eWksJGRldmljZV9pZDpudWxsfSxcIlwiKTtlbHNle3ZhciBvPXRoaXMuY29uZmlnLmdldF9kZXZpY2VfaWQoYmUoKSk7dGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDpvLCRkZXZpY2VfaWQ6dD9vOm59LFwiXCIpfXRoaXMucmVnaXN0ZXIoeyRsYXN0X3Bvc3Rob2dfcmVzZXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSwxKX1nZXRfZGlzdGluY3RfaWQoKXtyZXR1cm4gdGhpcy5nZXRfcHJvcGVydHkoXCJkaXN0aW5jdF9pZFwiKX1nZXRHcm91cHMoKXtyZXR1cm4gdGhpcy5nZXRfcHJvcGVydHkoXCIkZ3JvdXBzXCIpfHx7fX1nZXRfc2Vzc2lvbl9pZCgpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT0oaT10aGlzLnNlc3Npb25NYW5hZ2VyKT92b2lkIDA6aS5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCkuc2Vzc2lvbklkKSYmdm9pZCAwIT09dD90OlwiXCJ9Z2V0X3Nlc3Npb25fcmVwbGF5X3VybCh0KXtpZighdGhpcy5zZXNzaW9uTWFuYWdlcilyZXR1cm5cIlwiO3ZhcntzZXNzaW9uSWQ6aSxzZXNzaW9uU3RhcnRUaW1lc3RhbXA6ZX09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCkscj10aGlzLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiLFwiL3Byb2plY3QvXCIrdGhpcy5jb25maWcudG9rZW4rXCIvcmVwbGF5L1wiK2kpO2lmKG51bGwhPXQmJnQud2l0aFRpbWVzdGFtcCYmZSl7dmFyIHMsbj1udWxsIT09KHM9dC50aW1lc3RhbXBMb29rQmFjaykmJnZvaWQgMCE9PXM/czoxMDtpZighZSlyZXR1cm4gcjtyKz1cIj90PVwiK01hdGgubWF4KE1hdGguZmxvb3IoKChuZXcgRGF0ZSkuZ2V0VGltZSgpLWUpLzFlMyktbiwwKX1yZXR1cm4gcn1hbGlhcyh0LGkpe3JldHVybiB0PT09dGhpcy5nZXRfcHJvcGVydHkoQnQpPygkdC5jcml0aWNhbChcIkF0dGVtcHRpbmcgdG8gY3JlYXRlIGFsaWFzIGZvciBleGlzdGluZyBQZW9wbGUgdXNlciAtIGFib3J0aW5nLlwiKSwtMik6dGhpcy5DcihcInBvc3Rob2cuYWxpYXNcIik/KEMoaSkmJihpPXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCkpLHQhPT1pPyh0aGlzLk9yKHF0LHQpLHRoaXMuY2FwdHVyZShcIiRjcmVhdGVfYWxpYXNcIix7YWxpYXM6dCxkaXN0aW5jdF9pZDppfSkpOigkdC53YXJuKFwiYWxpYXMgbWF0Y2hlcyBjdXJyZW50IGRpc3RpbmN0X2lkIC0gc2tpcHBpbmcgYXBpIGNhbGwuXCIpLHRoaXMuaWRlbnRpZnkodCksLTEpKTp2b2lkIDB9c2V0X2NvbmZpZyh0KXt2YXIgaT1nKHt9LHRoaXMuY29uZmlnKTtpZihJKHQpKXt2YXIgZSxyLHMsbixvO090KHRoaXMuY29uZmlnLFBvKHQpKTt2YXIgYT10aGlzLm1yKCk7bnVsbD09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fGUudXBkYXRlX2NvbmZpZyh0aGlzLmNvbmZpZyxpLGEpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcgJG4oZyh7fSx0aGlzLmNvbmZpZyx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSksYSksUGUuRygpJiZcInRydWVcIj09PVBlLkooXCJwaF9kZWJ1Z1wiKSYmKHRoaXMuY29uZmlnLmRlYnVnPSEwKSx0aGlzLmNvbmZpZy5kZWJ1ZyYmKGMuREVCVUc9ITAsJHQuaW5mbyhcInNldF9jb25maWdcIix7Y29uZmlnOnQsb2xkQ29uZmlnOmksbmV3Q29uZmlnOmcoe30sdGhpcy5jb25maWcpfSkpLG51bGw9PShyPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHIuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSxudWxsPT0ocz10aGlzLmF1dG9jYXB0dXJlKXx8cy5zdGFydElmRW5hYmxlZCgpLG51bGw9PShuPXRoaXMuaGVhdG1hcHMpfHxuLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSx0aGlzLkZyKCksbnVsbD09KG89dGhpcy5leHRlcm5hbEludGVncmF0aW9ucyl8fG8uc3RhcnRJZkVuYWJsZWRPclN0b3AoKX19c3RhcnRTZXNzaW9uUmVjb3JkaW5nKHQpe3ZhciBpPSEwPT09dCxlPXtzYW1wbGluZzppfHwhKG51bGw9PXR8fCF0LnNhbXBsaW5nKSxsaW5rZWRfZmxhZzppfHwhKG51bGw9PXR8fCF0LmxpbmtlZF9mbGFnKSx1cmxfdHJpZ2dlcjppfHwhKG51bGw9PXR8fCF0LnVybF90cmlnZ2VyKSxldmVudF90cmlnZ2VyOml8fCEobnVsbD09dHx8IXQuZXZlbnRfdHJpZ2dlcil9O2lmKE9iamVjdC52YWx1ZXMoZSkuc29tZShCb29sZWFuKSl7dmFyIHIscyxuLG8sYTtpZihudWxsPT0ocj10aGlzLnNlc3Npb25NYW5hZ2VyKXx8ci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLGUuc2FtcGxpbmcpbnVsbD09KHM9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8cy5vdmVycmlkZVNhbXBsaW5nKCk7aWYoZS5saW5rZWRfZmxhZyludWxsPT0obj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxuLm92ZXJyaWRlTGlua2VkRmxhZygpO2lmKGUudXJsX3RyaWdnZXIpbnVsbD09KG89dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8by5vdmVycmlkZVRyaWdnZXIoXCJ1cmxcIik7aWYoZS5ldmVudF90cmlnZ2VyKW51bGw9PShhPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fGEub3ZlcnJpZGVUcmlnZ2VyKFwiZXZlbnRcIil9dGhpcy5zZXRfY29uZmlnKHtkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiExfSl9c3RvcFNlc3Npb25SZWNvcmRpbmcoKXt0aGlzLnNldF9jb25maWcoe2Rpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITB9KX1zZXNzaW9uUmVjb3JkaW5nU3RhcnRlZCgpe3ZhciB0O3JldHVybiEobnVsbD09KHQ9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8IXQuc3RhcnRlZCl9Y2FwdHVyZUV4Y2VwdGlvbih0LGkpe3ZhciBlPW5ldyBFcnJvcihcIlBvc3RIb2cgc3ludGhldGljRXhjZXB0aW9uXCIpLHI9dGhpcy5leGNlcHRpb25zLmJ1aWxkUHJvcGVydGllcyh0LHtoYW5kbGVkOiEwLHN5bnRoZXRpY0V4Y2VwdGlvbjplfSk7cmV0dXJuIHRoaXMuZXhjZXB0aW9ucy5zZW5kRXhjZXB0aW9uRXZlbnQoZyh7fSxyLGkpKX1sb2FkVG9vbGJhcih0KXtyZXR1cm4gdGhpcy50b29sYmFyLmxvYWRUb29sYmFyKHQpfWdldF9wcm9wZXJ0eSh0KXt2YXIgaTtyZXR1cm4gbnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbdF19Z2V0U2Vzc2lvblByb3BlcnR5KHQpe3ZhciBpO3JldHVybiBudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbdF19dG9TdHJpbmcoKXt2YXIgdCxpPW51bGwhPT0odD10aGlzLmNvbmZpZy5uYW1lKSYmdm9pZCAwIT09dD90OkVvO3JldHVybiBpIT09RW8mJihpPUVvK1wiLlwiK2kpLGl9X2lzSWRlbnRpZmllZCgpe3ZhciB0LGk7cmV0dXJuXCJpZGVudGlmaWVkXCI9PT0obnVsbD09KHQ9dGhpcy5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KGRpKSl8fFwiaWRlbnRpZmllZFwiPT09KG51bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKT92b2lkIDA6aS5nZXRfcHJvcGVydHkoZGkpKX1Scigpe3ZhciB0LGk7cmV0dXJuIShcIm5ldmVyXCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXN8fFwiaWRlbnRpZmllZF9vbmx5XCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXMmJiF0aGlzLl9pc0lkZW50aWZpZWQoKSYmUih0aGlzLmdldEdyb3VwcygpKSYmKG51bGw9PSh0PXRoaXMucGVyc2lzdGVuY2UpfHxudWxsPT0odD10LnByb3BzKXx8IXRbcXRdKSYmKG51bGw9PShpPXRoaXMucGVyc2lzdGVuY2UpfHxudWxsPT0oaT1pLnByb3BzKXx8IWlbX2ldKSl9UHIoKXtyZXR1cm4hMD09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlfHxcImlmX2NhcHR1cmVfcGFnZXZpZXdcIj09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlJiYoITA9PT10aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3fHxcImhpc3RvcnlfY2hhbmdlXCI9PT10aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3KX1jcmVhdGVQZXJzb25Qcm9maWxlKCl7dGhpcy5ScigpfHx0aGlzLkNyKFwicG9zdGhvZy5jcmVhdGVQZXJzb25Qcm9maWxlXCIpJiZ0aGlzLnNldFBlcnNvblByb3BlcnRpZXMoe30se30pfUNyKHQpe3JldHVyblwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcz8oJHQuZXJyb3IodCsnIHdhcyBjYWxsZWQsIGJ1dCBwcm9jZXNzX3BlcnNvbiBpcyBzZXQgdG8gXCJuZXZlclwiLiBUaGlzIGNhbGwgd2lsbCBiZSBpZ25vcmVkLicpLCExKToodGhpcy5PcihfaSwhMCksITApfW1yKCl7aWYoXCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSlyZXR1cm4hMDt2YXIgdD10aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpLGk9dGhpcy5jb25maWcub3B0X291dF9wZXJzaXN0ZW5jZV9ieV9kZWZhdWx0fHxcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlO3JldHVybiB0aGlzLmNvbmZpZy5kaXNhYmxlX3BlcnNpc3RlbmNlfHx0JiYhIWl9RnIoKXt2YXIgdCxpLGUscixzPXRoaXMubXIoKTsobnVsbD09KHQ9dGhpcy5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQuZ2kpIT09cyYmKG51bGw9PShlPXRoaXMucGVyc2lzdGVuY2UpfHxlLnNldF9kaXNhYmxlZChzKSk7KG51bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKT92b2lkIDA6aS5naSkhPT1zJiYobnVsbD09KHI9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHxyLnNldF9kaXNhYmxlZChzKSk7cmV0dXJuIHN9b3B0X2luX2NhcHR1cmluZyh0KXtpZihcImFsd2F5c1wiIT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlKXt2YXIgaSxlO2lmKFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuY29uc2VudC5pc0V4cGxpY2l0bHlPcHRlZE91dCgpKXRoaXMucmVzZXQoITApLG51bGw9PShpPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHxpLmRlc3Ryb3koKSx0aGlzLnNlc3Npb25NYW5hZ2VyPW5ldyBybyh0aGlzKSx0aGlzLnBlcnNpc3RlbmNlJiYodGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPW5ldyBpbyh0aGlzLHRoaXMuc2Vzc2lvbk1hbmFnZXIsdGhpcy5wZXJzaXN0ZW5jZSkpLHRoaXMuc2Vzc2lvblJlY29yZGluZz1uZXcgd28odGhpcyksdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCk7aWYodGhpcy5jb25zZW50Lm9wdEluT3V0KCEwKSx0aGlzLkZyKCksdGhpcy4kcigpLFwib25fcmVqZWN0XCI9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSxDKG51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZUV2ZW50TmFtZSl8fG51bGwhPXQmJnQuY2FwdHVyZUV2ZW50TmFtZSl0aGlzLmNhcHR1cmUobnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZUV2ZW50TmFtZSkmJnZvaWQgMCE9PWU/ZTpcIiRvcHRfaW5cIixudWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVQcm9wZXJ0aWVzLHtzZW5kX2luc3RhbnRseTohMH0pO3RoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnRoaXMua3IoKX1lbHNlICR0Lndhcm4oJ0NvbnNlbnQgb3B0IGluL291dCBpcyBub3QgdmFsaWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIiBhbmQgd2lsbCBiZSBpZ25vcmVkJyl9b3B0X291dF9jYXB0dXJpbmcoKXt2YXIgdCxpO1wiYWx3YXlzXCIhPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGU/KFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuY29uc2VudC5pc09wdGVkSW4oKSYmdGhpcy5yZXNldCghMCksdGhpcy5jb25zZW50Lm9wdEluT3V0KCExKSx0aGlzLkZyKCksXCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmKHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOnlpLCRkZXZpY2VfaWQ6bnVsbH0pLG51bGw9PSh0PXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx0LmRlc3Ryb3koKSx0aGlzLnNlc3Npb25NYW5hZ2VyPXZvaWQgMCx0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXI9dm9pZCAwLG51bGw9PShpPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fGkuc3RvcFJlY29yZGluZygpLHRoaXMuc2Vzc2lvblJlY29yZGluZz12b2lkIDAsdGhpcy5rcigpKSk6JHQud2FybignQ29uc2VudCBvcHQgaW4vb3V0IGlzIG5vdCB2YWxpZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiIGFuZCB3aWxsIGJlIGlnbm9yZWQnKX1oYXNfb3B0ZWRfaW5fY2FwdHVyaW5nKCl7cmV0dXJuIHRoaXMuY29uc2VudC5pc09wdGVkSW4oKX1oYXNfb3B0ZWRfb3V0X2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpfWdldF9leHBsaWNpdF9jb25zZW50X3N0YXR1cygpe3ZhciB0PXRoaXMuY29uc2VudC5jb25zZW50O3JldHVybiB0PT09TWUuR1JBTlRFRD9cImdyYW50ZWRcIjp0PT09TWUuREVOSUVEP1wiZGVuaWVkXCI6XCJwZW5kaW5nXCJ9aXNfY2FwdHVyaW5nKCl7cmV0dXJuXCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZXx8KFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGU/dGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCl8fHRoaXMuY29uc2VudC5pc09wdGVkSW4oKTohdGhpcy5oYXNfb3B0ZWRfb3V0X2NhcHR1cmluZygpKX1jbGVhcl9vcHRfaW5fb3V0X2NhcHR1cmluZygpe3RoaXMuY29uc2VudC5yZXNldCgpLHRoaXMuRnIoKX1faXNfYm90KCl7cmV0dXJuIG4/dW8obix0aGlzLmNvbmZpZy5jdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzKTp2b2lkIDB9a3IoKXtvJiYoXCJ2aXNpYmxlXCI9PT1vLnZpc2liaWxpdHlTdGF0ZT90aGlzLmRyfHwodGhpcy5kcj0hMCx0aGlzLmNhcHR1cmUoXCIkcGFnZXZpZXdcIix7dGl0bGU6by50aXRsZX0se3NlbmRfaW5zdGFudGx5OiEwfSksdGhpcy52ciYmKG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLnZyKSx0aGlzLnZyPW51bGwpKTp0aGlzLnZyfHwodGhpcy52cj10aGlzLmtyLmJpbmQodGhpcyksSHQobyxcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLnZyKSkpfWRlYnVnKGkpeyExPT09aT8obnVsbD09dHx8dC5jb25zb2xlLmxvZyhcIllvdSd2ZSBkaXNhYmxlZCBkZWJ1ZyBtb2RlLlwiKSxsb2NhbFN0b3JhZ2UmJmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwicGhfZGVidWdcIiksdGhpcy5zZXRfY29uZmlnKHtkZWJ1ZzohMX0pKToobnVsbD09dHx8dC5jb25zb2xlLmxvZyhcIllvdSdyZSBub3cgaW4gZGVidWcgbW9kZS4gQWxsIGNhbGxzIHRvIFBvc3RIb2cgd2lsbCBiZSBsb2dnZWQgaW4geW91ciBjb25zb2xlLlxcbllvdSBjYW4gZGlzYWJsZSB0aGlzIHdpdGggYHBvc3Rob2cuZGVidWcoZmFsc2UpYC5cIiksbG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBoX2RlYnVnXCIsXCJ0cnVlXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITB9KSl9TCgpe3ZhciB0LGksZSxyLHMsbixvLGE9dGhpcy5ncnx8e307cmV0dXJuXCJhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzXCJpbiBhPyEhYS5hZHZhbmNlZF9kaXNhYmxlX2ZsYWdzOiExIT09dGhpcy5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mbGFncz8hIXRoaXMuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmxhZ3M6ITA9PT10aGlzLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2RlY2lkZT8oJHQud2FybihcIkNvbmZpZyBmaWVsZCAnYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUnIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJ2FkdmFuY2VkX2Rpc2FibGVfZmxhZ3MnIGluc3RlYWQuIFRoZSBvbGQgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHZlcnNpb24uXCIpLCEwKTooZT1cImFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlXCIscj0hMSxzPSR0LG49KGk9XCJhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzXCIpaW4odD1hKSYmIUModFtpXSksbz1lIGluIHQmJiFDKHRbZV0pLG4/dFtpXTpvPyhzJiZzLndhcm4oXCJDb25maWcgZmllbGQgJ1wiK2UrXCInIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJ1wiK2krXCInIGluc3RlYWQuIFRoZSBvbGQgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHZlcnNpb24uXCIpLHRbZV0pOnIpfUlyKHQpe2lmKEEodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXJldHVybiB0O3ZhciBpPVAodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpP3RoaXMuY29uZmlnLmJlZm9yZV9zZW5kOlt0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZF0sZT10O2Zvcih2YXIgciBvZiBpKXtpZihlPXIoZSksQShlKSl7dmFyIHM9XCJFdmVudCAnXCIrdC5ldmVudCtcIicgd2FzIHJlamVjdGVkIGluIGJlZm9yZVNlbmQgZnVuY3Rpb25cIjtyZXR1cm4gTih0LmV2ZW50KT8kdC53YXJuKHMrXCIuIFRoaXMgY2FuIGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXCIpOiR0LmluZm8ocyksbnVsbH1lLnByb3BlcnRpZXMmJiFSKGUucHJvcGVydGllcyl8fCR0Lndhcm4oXCJFdmVudCAnXCIrdC5ldmVudCtcIicgaGFzIG5vIHByb3BlcnRpZXMgYWZ0ZXIgYmVmb3JlU2VuZCBmdW5jdGlvbiwgdGhpcyBpcyBsaWtlbHkgYW4gZXJyb3IuXCIpfXJldHVybiBlfWdldFBhZ2VWaWV3SWQoKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9dGhpcy5wYWdlVmlld01hbmFnZXIuV3QpP3ZvaWQgMDp0LnBhZ2VWaWV3SWR9Y2FwdHVyZVRyYWNlRmVlZGJhY2sodCxpKXt0aGlzLmNhcHR1cmUoXCIkYWlfZmVlZGJhY2tcIix7JGFpX3RyYWNlX2lkOlN0cmluZyh0KSwkYWlfZmVlZGJhY2tfdGV4dDppfSl9Y2FwdHVyZVRyYWNlTWV0cmljKHQsaSxlKXt0aGlzLmNhcHR1cmUoXCIkYWlfbWV0cmljXCIseyRhaV90cmFjZV9pZDpTdHJpbmcodCksJGFpX21ldHJpY19uYW1lOmksJGFpX21ldHJpY192YWx1ZTpTdHJpbmcoZSl9KX19IWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPTA7ZTxpLmxlbmd0aDtlKyspdC5wcm90b3R5cGVbaVtlXV09anQodC5wcm90b3R5cGVbaVtlXV0pfShJbyxbXCJpZGVudGlmeVwiXSk7dmFyIFJvLENvPShSbz1Tb1tFb109bmV3IElvLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe2kuZG9uZXx8KGkuZG9uZT0hMCwkbz0hMSxDdChTbywoZnVuY3Rpb24odCl7dC5fZG9tX2xvYWRlZCgpfSkpKX1udWxsIT1vJiZvLmFkZEV2ZW50TGlzdGVuZXI/XCJjb21wbGV0ZVwiPT09by5yZWFkeVN0YXRlP2koKTpIdChvLFwiRE9NQ29udGVudExvYWRlZFwiLGkse2NhcHR1cmU6ITF9KTp0JiYkdC5lcnJvcihcIkJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyYCBzbyBQb3N0SG9nIGNvdWxkbid0IGJlIGluaXRpYWxpemVkXCIpfSgpLFJvKTtleHBvcnR7dGUgYXMgQ09QWV9BVVRPQ0FQVFVSRV9FVkVOVCxpZSBhcyBDb21wcmVzc2lvbixNbiBhcyBEaXNwbGF5U3VydmV5VHlwZSxJbyBhcyBQb3N0SG9nLE9uIGFzIFN1cnZleUV2ZW50TmFtZSxGbiBhcyBTdXJ2ZXlFdmVudFByb3BlcnRpZXMsUG4gYXMgU3VydmV5UG9zaXRpb24sUm4gYXMgU3VydmV5UXVlc3Rpb25CcmFuY2hpbmdUeXBlLEluIGFzIFN1cnZleVF1ZXN0aW9uVHlwZSxDbiBhcyBTdXJ2ZXlTY2hlZHVsZSxUbiBhcyBTdXJ2ZXlUeXBlLGtuIGFzIFN1cnZleVdpZGdldFR5cGUsQ28gYXMgZGVmYXVsdCxDbyBhcyBwb3N0aG9nLGVlIGFzIHNldmVyaXR5TGV2ZWxzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/posthog-js/react/dist/esm/index.js":
/*!*************************************************************!*\
  !*** ../../node_modules/posthog-js/react/dist/esm/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogErrorBoundary: () => (/* binding */ PostHogErrorBoundary),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   setupReactErrorHandler: () => (/* binding */ setupReactErrorHandler),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/../../node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({ client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] });\n\nfunction isDeepEqual(obj1, obj2, visited) {\n    if (visited === void 0) { visited = new WeakMap(); }\n    if (obj1 === obj2) {\n        return true;\n    }\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\n        return false;\n    }\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\n        return true;\n    }\n    visited.set(obj1, obj2);\n    var keys1 = Object.keys(obj1);\n    var keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n        var key = keys1_1[_i];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction PostHogProvider(_a) {\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\n    var previousInitializationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n        if (client) {\n            if (apiKey) {\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\n            }\n            if (options) {\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\n            }\n            return client;\n        }\n        if (apiKey) {\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        }\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    }, [client, apiKey, JSON.stringify(options)]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (client) {\n            return;\n        }\n        var previousInitialization = previousInitializationRef.current;\n        if (!previousInitialization) {\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\n            }\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n        else {\n            if (apiKey !== previousInitialization.apiKey) {\n                console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\n            }\n            if (options && !isDeepEqual(options, previousInitialization.options)) {\n                posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\n            }\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n    }, [client, apiKey, JSON.stringify(options)]);\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog } }, children);\n}\n\nvar usePostHog = function () {\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\n    return client;\n};\n\nfunction useFeatureFlagEnabled(flag) {\n    var client = usePostHog();\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _a[0], setFeatureEnabled = _a[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureEnabled(client.isFeatureEnabled(flag));\n        });\n    }, [client, flag]);\n    return featureEnabled;\n}\n\nfunction useFeatureFlagPayload(flag) {\n    var client = usePostHog();\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _a[0], setFeatureFlagPayload = _a[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\n        });\n    }, [client, flag]);\n    return featureFlagPayload;\n}\n\nfunction useActiveFeatureFlags() {\n    var client = usePostHog();\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _a[0], setFeatureFlags = _a[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function (flags) {\n            setFeatureFlags(flags);\n        });\n    }, [client]);\n    return featureFlags;\n}\n\nfunction useFeatureFlagVariantKey(flag) {\n    var client = usePostHog();\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\n        return client.getFeatureFlag(flag);\n    }), featureFlagVariantKey = _a[0], setFeatureFlagVariantKey = _a[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\n        });\n    }, [client, flag]);\n    return featureFlagVariantKey;\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar isFunction = function (f) {\n    return typeof f === 'function';\n};\nvar isUndefined = function (x) {\n    return x === void 0;\n};\nvar isNull = function (x) {\n    return x === null;\n};\n\nfunction PostHogFeature(_a) {\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\n    var payload = useFeatureFlagPayload(flag);\n    var variant = useFeatureFlagVariantKey(flag);\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\n    if (isUndefined(match) || variant === match) {\n        var childNode = isFunction(children) ? children(payload) : children;\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView }, props), childNode));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\n}\nfunction captureFeatureInteraction(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_interaction/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_interaction', properties);\n}\nfunction captureFeatureView(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_view/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_view', properties);\n}\nfunction VisibilityAndClickTracker(_a) {\n    var flag = _a.flag, children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var posthog = usePostHog();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (isNull(ref.current) || !trackView)\n            return;\n        var observer = new IntersectionObserver(function (_a) {\n            var entry = _a[0];\n            return onIntersect(entry);\n        }, __assign({ threshold: 0.1 }, options));\n        observer.observe(ref.current);\n        return function () { return observer.disconnect(); };\n    }, [flag, options, posthog, ref, trackView, onIntersect]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\n}\nfunction VisibilityAndClickTrackers(_a) {\n    var flag = _a.flag, children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"trackInteraction\", \"trackView\", \"options\"]);\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var posthog = usePostHog();\n    var variant = useFeatureFlagVariantKey(flag);\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n        if (!clickTrackedRef.current && trackInteraction) {\n            captureFeatureInteraction({ flag: flag, posthog: posthog, flagVariant: variant });\n            clickTrackedRef.current = true;\n        }\n    }, [flag, posthog, trackInteraction, variant]);\n    var onIntersect = function (entry) {\n        if (!visibilityTrackedRef.current && entry.isIntersecting) {\n            captureFeatureView({ flag: flag, posthog: posthog, flagVariant: variant });\n            visibilityTrackedRef.current = true;\n        }\n    };\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ flag: flag, onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\n    });\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\n}\n\nvar INITIAL_STATE = {\n    componentStack: null,\n    exceptionEvent: null,\n    error: null,\n};\nvar __POSTHOG_ERROR_MESSAGES = {\n    INVALID_FALLBACK: '[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element.',\n};\nvar PostHogErrorBoundary = (function (_super) {\n    __extends(PostHogErrorBoundary, _super);\n    function PostHogErrorBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = INITIAL_STATE;\n        return _this;\n    }\n    PostHogErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        var additionalProperties = this.props.additionalProperties;\n        var currentProperties;\n        if (isFunction(additionalProperties)) {\n            currentProperties = additionalProperties(error);\n        }\n        else if (typeof additionalProperties === 'object') {\n            currentProperties = additionalProperties;\n        }\n        var client = this.context.client;\n        var exceptionEvent = client.captureException(error, currentProperties);\n        var componentStack = errorInfo.componentStack;\n        this.setState({\n            error: error,\n            componentStack: componentStack,\n            exceptionEvent: exceptionEvent,\n        });\n    };\n    PostHogErrorBoundary.prototype.render = function () {\n        var _a = this.props, children = _a.children, fallback = _a.fallback;\n        var state = this.state;\n        if (state.componentStack == null) {\n            return isFunction(children) ? children() : children;\n        }\n        var element = isFunction(fallback)\n            ? react__WEBPACK_IMPORTED_MODULE_1___default().createElement(fallback, {\n                error: state.error,\n                componentStack: state.componentStack,\n                exceptionEvent: state.exceptionEvent,\n            })\n            : fallback;\n        if (react__WEBPACK_IMPORTED_MODULE_1___default().isValidElement(element)) {\n            return element;\n        }\n        console.warn(__POSTHOG_ERROR_MESSAGES.INVALID_FALLBACK);\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);\n    };\n    PostHogErrorBoundary.contextType = PostHogContext;\n    return PostHogErrorBoundary;\n}((react__WEBPACK_IMPORTED_MODULE_1___default().Component)));\n\nvar setupReactErrorHandler = function (client, callback) {\n    return function (error, errorInfo) {\n        var event = client.captureException(error);\n        if (callback) {\n            callback(event, error, errorInfo);\n        }\n    };\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvcmVhY3QvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFtQztBQUNtRjs7QUFFdEgscUJBQXFCLG9EQUFhLEdBQUcsUUFBUSxrREFBUyxFQUFFOztBQUV4RDtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQ0FBb0MsNkNBQU07QUFDMUMsa0JBQWtCLDhDQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFTO0FBQzVCO0FBQ0E7QUFDQSxlQUFlLGtEQUFTO0FBQ3hCLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBUztBQUN6QjtBQUNBO0FBQ0EsWUFBWSxrREFBUztBQUNyQjtBQUNBO0FBQ0EsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0EsS0FBSztBQUNMLFdBQVcsMERBQW1CLDRCQUE0QixTQUFTLG1CQUFtQjtBQUN0Rjs7QUFFQTtBQUNBLGlCQUFpQixpREFBVTtBQUMzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLCtDQUFRLGVBQWUsdUNBQXVDO0FBQzNFLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLCtDQUFRLGVBQWUs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ZVxcb3B0YWltdW0tY29uc3VsdGluZ1xcbm9kZV9tb2R1bGVzXFxwb3N0aG9nLWpzXFxyZWFjdFxcZGlzdFxcZXNtXFxpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcG9zdGhvZ0pzIGZyb20gJ3Bvc3Rob2ctanMnO1xuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZVJlZiwgdXNlTWVtbywgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuXG52YXIgUG9zdEhvZ0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHsgY2xpZW50OiBwb3N0aG9nSnMgfSk7XG5cbmZ1bmN0aW9uIGlzRGVlcEVxdWFsKG9iajEsIG9iajIsIHZpc2l0ZWQpIHtcbiAgICBpZiAodmlzaXRlZCA9PT0gdm9pZCAwKSB7IHZpc2l0ZWQgPSBuZXcgV2Vha01hcCgpOyB9XG4gICAgaWYgKG9iajEgPT09IG9iajIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgfHwgb2JqMSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqMiAhPT0gJ29iamVjdCcgfHwgb2JqMiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2aXNpdGVkLmhhcyhvYmoxKSAmJiB2aXNpdGVkLmdldChvYmoxKSA9PT0gb2JqMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmlzaXRlZC5zZXQob2JqMSwgb2JqMik7XG4gICAgdmFyIGtleXMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gICAgdmFyIGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzMV8xID0ga2V5czE7IF9pIDwga2V5czFfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMxXzFbX2ldO1xuICAgICAgICBpZiAoIWtleXMyLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRGVlcEVxdWFsKG9iajFba2V5XSwgb2JqMltrZXldLCB2aXNpdGVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBQb3N0SG9nUHJvdmlkZXIoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgY2xpZW50ID0gX2EuY2xpZW50LCBhcGlLZXkgPSBfYS5hcGlLZXksIG9wdGlvbnMgPSBfYS5vcHRpb25zO1xuICAgIHZhciBwcmV2aW91c0luaXRpYWxpemF0aW9uUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIHZhciBwb3N0aG9nID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjbGllbnQpIHtcbiAgICAgICAgICAgIGlmIChhcGlLZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBib3RoIGBjbGllbnRgIGFuZCBgYXBpS2V5YCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gYGFwaUtleWAgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiBgY2xpZW50YC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gWW91IGhhdmUgcHJvdmlkZWQgYm90aCBgY2xpZW50YCBhbmQgYG9wdGlvbnNgIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBgb3B0aW9uc2Agd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiBgY2xpZW50YC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBObyBgYXBpS2V5YCBvciBgY2xpZW50YCB3ZXJlIHByb3ZpZGVkIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBVc2luZyBkZWZhdWx0IGdsb2JhbCBgd2luZG93LnBvc3Rob2dgIGluc3RhbmNlLiBZb3UgbXVzdCBpbml0aWFsaXplIGl0IG1hbnVhbGx5LiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBiZWhhdmlvci4nKTtcbiAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcbiAgICB9LCBbY2xpZW50LCBhcGlLZXksIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91c0luaXRpYWxpemF0aW9uID0gcHJldmlvdXNJbml0aWFsaXphdGlvblJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIXByZXZpb3VzSW5pdGlhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIGlmIChwb3N0aG9nSnMuX19sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBgcG9zdGhvZ2Agd2FzIGFscmVhZHkgbG9hZGVkIGVsc2V3aGVyZS4gVGhpcyBtYXkgY2F1c2UgaXNzdWVzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zdGhvZ0pzLmluaXQoYXBpS2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHByZXZpb3VzSW5pdGlhbGl6YXRpb25SZWYuY3VycmVudCA9IHtcbiAgICAgICAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXBpS2V5ICE9PSBwcmV2aW91c0luaXRpYWxpemF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBhIGRpZmZlcmVudCBgYXBpS2V5YCB0byBgUG9zdEhvZ1Byb3ZpZGVyYCB0aGFuIHRoZSBvbmUgdGhhdCB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGJ5IG91ciBwcm92aWRlciBhbmQgd2UnbGwga2VlcCB1c2luZyB0aGUgcHJldmlvdXMga2V5LiBJZiB5b3UgbmVlZCB0byB0b2dnbGUgYmV0d2VlbiBBUEkgS2V5cyB5b3UgbmVlZCB0byBjb250cm9sIHRoZSBgY2xpZW50YCB5b3Vyc2VsZiBhbmQgcGFzcyBpdCBpbiBhcyBhIHByb3AgcmF0aGVyIHRoYW4gYW4gYGFwaUtleWAgcHJvcC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiAhaXNEZWVwRXF1YWwob3B0aW9ucywgcHJldmlvdXNJbml0aWFsaXphdGlvbi5vcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIHBvc3Rob2dKcy5zZXRfY29uZmlnKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXNJbml0aWFsaXphdGlvblJlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgICAgIGFwaUtleTogYXBpS2V5LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIFtjbGllbnQsIGFwaUtleSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQb3N0SG9nQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBjbGllbnQ6IHBvc3Rob2cgfSB9LCBjaGlsZHJlbik7XG59XG5cbnZhciB1c2VQb3N0SG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbGllbnQgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KS5jbGllbnQ7XG4gICAgcmV0dXJuIGNsaWVudDtcbn07XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnRW5hYmxlZChmbGFnKSB7XG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuaXNGZWF0dXJlRW5hYmxlZChmbGFnKTsgfSksIGZlYXR1cmVFbmFibGVkID0gX2FbMF0sIHNldEZlYXR1cmVFbmFibGVkID0gX2FbMV07XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRGZWF0dXJlRW5hYmxlZChjbGllbnQuaXNGZWF0dXJlRW5hYmxlZChmbGFnKSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjbGllbnQsIGZsYWddKTtcbiAgICByZXR1cm4gZmVhdHVyZUVuYWJsZWQ7XG59XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKSB7XG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpOyB9KSwgZmVhdHVyZUZsYWdQYXlsb2FkID0gX2FbMF0sIHNldEZlYXR1cmVGbGFnUGF5bG9hZCA9IF9hWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdQYXlsb2FkKGNsaWVudC5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XG4gICAgcmV0dXJuIGZlYXR1cmVGbGFnUGF5bG9hZDtcbn1cblxuZnVuY3Rpb24gdXNlQWN0aXZlRmVhdHVyZUZsYWdzKCkge1xuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmZlYXR1cmVGbGFncy5nZXRGbGFncygpOyB9KSwgZmVhdHVyZUZsYWdzID0gX2FbMF0sIHNldEZlYXR1cmVGbGFncyA9IF9hWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKGZsYWdzKSB7XG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ3MoZmxhZ3MpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50XSk7XG4gICAgcmV0dXJuIGZlYXR1cmVGbGFncztcbn1cblxuZnVuY3Rpb24gdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5KGZsYWcpIHtcbiAgICB2YXIgY2xpZW50ID0gdXNlUG9zdEhvZygpO1xuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5nZXRGZWF0dXJlRmxhZyhmbGFnKTtcbiAgICB9KSwgZmVhdHVyZUZsYWdWYXJpYW50S2V5ID0gX2FbMF0sIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9hWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdWYXJpYW50S2V5KGNsaWVudC5nZXRGZWF0dXJlRmxhZyhmbGFnKSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjbGllbnQsIGZsYWddKTtcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdWYXJpYW50S2V5O1xufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sLCBJdGVyYXRvciAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XHJcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XHJcbn07XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gKGYpIHtcbiAgICByZXR1cm4gdHlwZW9mIGYgPT09ICdmdW5jdGlvbic7XG59O1xudmFyIGlzVW5kZWZpbmVkID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geCA9PT0gdm9pZCAwO1xufTtcbnZhciBpc051bGwgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4ID09PSBudWxsO1xufTtcblxuZnVuY3Rpb24gUG9zdEhvZ0ZlYXR1cmUoX2EpIHtcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIG1hdGNoID0gX2EubWF0Y2gsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGZhbGxiYWNrID0gX2EuZmFsbGJhY2ssIHZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMgPSBfYS52aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zLCB0cmFja0ludGVyYWN0aW9uID0gX2EudHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3ID0gX2EudHJhY2tWaWV3LCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcIm1hdGNoXCIsIFwiY2hpbGRyZW5cIiwgXCJmYWxsYmFja1wiLCBcInZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnNcIiwgXCJ0cmFja0ludGVyYWN0aW9uXCIsIFwidHJhY2tWaWV3XCJdKTtcbiAgICB2YXIgcGF5bG9hZCA9IHVzZUZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKTtcbiAgICB2YXIgdmFyaWFudCA9IHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKTtcbiAgICB2YXIgc2hvdWxkVHJhY2tJbnRlcmFjdGlvbiA9IHRyYWNrSW50ZXJhY3Rpb24gIT09IG51bGwgJiYgdHJhY2tJbnRlcmFjdGlvbiAhPT0gdm9pZCAwID8gdHJhY2tJbnRlcmFjdGlvbiA6IHRydWU7XG4gICAgdmFyIHNob3VsZFRyYWNrVmlldyA9IHRyYWNrVmlldyAhPT0gbnVsbCAmJiB0cmFja1ZpZXcgIT09IHZvaWQgMCA/IHRyYWNrVmlldyA6IHRydWU7XG4gICAgaWYgKGlzVW5kZWZpbmVkKG1hdGNoKSB8fCB2YXJpYW50ID09PSBtYXRjaCkge1xuICAgICAgICB2YXIgY2hpbGROb2RlID0gaXNGdW5jdGlvbihjaGlsZHJlbikgPyBjaGlsZHJlbihwYXlsb2FkKSA6IGNoaWxkcmVuO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcnMsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb3B0aW9uczogdmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbjogc2hvdWxkVHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3OiBzaG91bGRUcmFja1ZpZXcgfSwgcHJvcHMpLCBjaGlsZE5vZGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGZhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGNhcHR1cmVGZWF0dXJlSW50ZXJhY3Rpb24oX2EpIHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBwb3N0aG9nID0gX2EucG9zdGhvZywgZmxhZ1ZhcmlhbnQgPSBfYS5mbGFnVmFyaWFudDtcbiAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgZmVhdHVyZV9mbGFnOiBmbGFnLFxuICAgICAgICAkc2V0OiAoX2IgPSB7fSwgX2JbXCIkZmVhdHVyZV9pbnRlcmFjdGlvbi9cIi5jb25jYXQoZmxhZyldID0gZmxhZ1ZhcmlhbnQgIT09IG51bGwgJiYgZmxhZ1ZhcmlhbnQgIT09IHZvaWQgMCA/IGZsYWdWYXJpYW50IDogdHJ1ZSwgX2IpLFxuICAgIH07XG4gICAgaWYgKHR5cGVvZiBmbGFnVmFyaWFudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcHJvcGVydGllcy5mZWF0dXJlX2ZsYWdfdmFyaWFudCA9IGZsYWdWYXJpYW50O1xuICAgIH1cbiAgICBwb3N0aG9nLmNhcHR1cmUoJyRmZWF0dXJlX2ludGVyYWN0aW9uJywgcHJvcGVydGllcyk7XG59XG5mdW5jdGlvbiBjYXB0dXJlRmVhdHVyZVZpZXcoX2EpIHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBwb3N0aG9nID0gX2EucG9zdGhvZywgZmxhZ1ZhcmlhbnQgPSBfYS5mbGFnVmFyaWFudDtcbiAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgZmVhdHVyZV9mbGFnOiBmbGFnLFxuICAgICAgICAkc2V0OiAoX2IgPSB7fSwgX2JbXCIkZmVhdHVyZV92aWV3L1wiLmNvbmNhdChmbGFnKV0gPSBmbGFnVmFyaWFudCAhPT0gbnVsbCAmJiBmbGFnVmFyaWFudCAhPT0gdm9pZCAwID8gZmxhZ1ZhcmlhbnQgOiB0cnVlLCBfYiksXG4gICAgfTtcbiAgICBpZiAodHlwZW9mIGZsYWdWYXJpYW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICBwcm9wZXJ0aWVzLmZlYXR1cmVfZmxhZ192YXJpYW50ID0gZmxhZ1ZhcmlhbnQ7XG4gICAgfVxuICAgIHBvc3Rob2cuY2FwdHVyZSgnJGZlYXR1cmVfdmlldycsIHByb3BlcnRpZXMpO1xufVxuZnVuY3Rpb24gVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcihfYSkge1xuICAgIHZhciBmbGFnID0gX2EuZmxhZywgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgb25JbnRlcnNlY3QgPSBfYS5vbkludGVyc2VjdCwgb25DbGljayA9IF9hLm9uQ2xpY2ssIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgb3B0aW9ucyA9IF9hLm9wdGlvbnMsIHByb3BzID0gX19yZXN0KF9hLCBbXCJmbGFnXCIsIFwiY2hpbGRyZW5cIiwgXCJvbkludGVyc2VjdFwiLCBcIm9uQ2xpY2tcIiwgXCJ0cmFja1ZpZXdcIiwgXCJvcHRpb25zXCJdKTtcbiAgICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIHZhciBwb3N0aG9nID0gdXNlUG9zdEhvZygpO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc051bGwocmVmLmN1cnJlbnQpIHx8ICF0cmFja1ZpZXcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hWzBdO1xuICAgICAgICAgICAgcmV0dXJuIG9uSW50ZXJzZWN0KGVudHJ5KTtcbiAgICAgICAgfSwgX19hc3NpZ24oeyB0aHJlc2hvbGQ6IDAuMSB9LCBvcHRpb25zKSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmLmN1cnJlbnQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOyB9O1xuICAgIH0sIFtmbGFnLCBvcHRpb25zLCBwb3N0aG9nLCByZWYsIHRyYWNrVmlldywgb25JbnRlcnNlY3RdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyByZWY6IHJlZiB9LCBwcm9wcywgeyBvbkNsaWNrOiBvbkNsaWNrIH0pLCBjaGlsZHJlbikpO1xufVxuZnVuY3Rpb24gVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcnMoX2EpIHtcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHRyYWNrSW50ZXJhY3Rpb24gPSBfYS50cmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcImNoaWxkcmVuXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiLCBcIm9wdGlvbnNcIl0pO1xuICAgIHZhciBjbGlja1RyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHZhciB2aXNpYmlsaXR5VHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XG4gICAgdmFyIHZhcmlhbnQgPSB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkoZmxhZyk7XG4gICAgdmFyIGNhY2hlZE9uQ2xpY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghY2xpY2tUcmFja2VkUmVmLmN1cnJlbnQgJiYgdHJhY2tJbnRlcmFjdGlvbikge1xuICAgICAgICAgICAgY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbih7IGZsYWc6IGZsYWcsIHBvc3Rob2c6IHBvc3Rob2csIGZsYWdWYXJpYW50OiB2YXJpYW50IH0pO1xuICAgICAgICAgICAgY2xpY2tUcmFja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSwgW2ZsYWcsIHBvc3Rob2csIHRyYWNrSW50ZXJhY3Rpb24sIHZhcmlhbnRdKTtcbiAgICB2YXIgb25JbnRlcnNlY3QgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKCF2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ICYmIGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBjYXB0dXJlRmVhdHVyZVZpZXcoeyBmbGFnOiBmbGFnLCBwb3N0aG9nOiBwb3N0aG9nLCBmbGFnVmFyaWFudDogdmFyaWFudCB9KTtcbiAgICAgICAgICAgIHZpc2liaWxpdHlUcmFja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgdHJhY2tlZENoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb25DbGljazogY2FjaGVkT25DbGljaywgb25JbnRlcnNlY3Q6IG9uSW50ZXJzZWN0LCB0cmFja1ZpZXc6IHRyYWNrVmlldywgb3B0aW9uczogb3B0aW9ucyB9LCBwcm9wcyksIGNoaWxkKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHRyYWNrZWRDaGlsZHJlbik7XG59XG5cbnZhciBJTklUSUFMX1NUQVRFID0ge1xuICAgIGNvbXBvbmVudFN0YWNrOiBudWxsLFxuICAgIGV4Y2VwdGlvbkV2ZW50OiBudWxsLFxuICAgIGVycm9yOiBudWxsLFxufTtcbnZhciBfX1BPU1RIT0dfRVJST1JfTUVTU0FHRVMgPSB7XG4gICAgSU5WQUxJRF9GQUxMQkFDSzogJ1tQb3N0SG9nLmpzXVtQb3N0SG9nRXJyb3JCb3VuZGFyeV0gSW52YWxpZCBmYWxsYmFjayBwcm9wLCBwcm92aWRlIGEgdmFsaWQgUmVhY3QgZWxlbWVudCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZhbGlkIFJlYWN0IGVsZW1lbnQuJyxcbn07XG52YXIgUG9zdEhvZ0Vycm9yQm91bmRhcnkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb3N0SG9nRXJyb3JCb3VuZGFyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQb3N0SG9nRXJyb3JCb3VuZGFyeShwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSBJTklUSUFMX1NUQVRFO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFBvc3RIb2dFcnJvckJvdW5kYXJ5LnByb3RvdHlwZS5jb21wb25lbnREaWRDYXRjaCA9IGZ1bmN0aW9uIChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICAgIHZhciBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHRoaXMucHJvcHMuYWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgICAgIHZhciBjdXJyZW50UHJvcGVydGllcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oYWRkaXRpb25hbFByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGllbnQgPSB0aGlzLmNvbnRleHQuY2xpZW50O1xuICAgICAgICB2YXIgZXhjZXB0aW9uRXZlbnQgPSBjbGllbnQuY2FwdHVyZUV4Y2VwdGlvbihlcnJvciwgY3VycmVudFByb3BlcnRpZXMpO1xuICAgICAgICB2YXIgY29tcG9uZW50U3RhY2sgPSBlcnJvckluZm8uY29tcG9uZW50U3RhY2s7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgY29tcG9uZW50U3RhY2s6IGNvbXBvbmVudFN0YWNrLFxuICAgICAgICAgICAgZXhjZXB0aW9uRXZlbnQ6IGV4Y2VwdGlvbkV2ZW50LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBvc3RIb2dFcnJvckJvdW5kYXJ5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGZhbGxiYWNrID0gX2EuZmFsbGJhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChzdGF0ZS5jb21wb25lbnRTdGFjayA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihjaGlsZHJlbikgPyBjaGlsZHJlbigpIDogY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnQgPSBpc0Z1bmN0aW9uKGZhbGxiYWNrKVxuICAgICAgICAgICAgPyBSZWFjdC5jcmVhdGVFbGVtZW50KGZhbGxiYWNrLCB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IHN0YXRlLmVycm9yLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFN0YWNrOiBzdGF0ZS5jb21wb25lbnRTdGFjayxcbiAgICAgICAgICAgICAgICBleGNlcHRpb25FdmVudDogc3RhdGUuZXhjZXB0aW9uRXZlbnQsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBmYWxsYmFjaztcbiAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oX19QT1NUSE9HX0VSUk9SX01FU1NBR0VTLklOVkFMSURfRkFMTEJBQ0spO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCk7XG4gICAgfTtcbiAgICBQb3N0SG9nRXJyb3JCb3VuZGFyeS5jb250ZXh0VHlwZSA9IFBvc3RIb2dDb250ZXh0O1xuICAgIHJldHVybiBQb3N0SG9nRXJyb3JCb3VuZGFyeTtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5cbnZhciBzZXR1cFJlYWN0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGNsaWVudCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gY2xpZW50LmNhcHR1cmVFeGNlcHRpb24oZXJyb3IpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50LCBlcnJvciwgZXJyb3JJbmZvKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5leHBvcnQgeyBQb3N0SG9nQ29udGV4dCwgUG9zdEhvZ0Vycm9yQm91bmRhcnksIFBvc3RIb2dGZWF0dXJlLCBQb3N0SG9nUHJvdmlkZXIsIHNldHVwUmVhY3RFcnJvckhhbmRsZXIsIHVzZUFjdGl2ZUZlYXR1cmVGbGFncywgdXNlRmVhdHVyZUZsYWdFbmFibGVkLCB1c2VGZWF0dXJlRmxhZ1BheWxvYWQsIHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleSwgdXNlUG9zdEhvZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;